<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>fm22_2um2</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title"><p>VA FileMan 22.2</p>
<p>Advanced User Manual</p></h1>
</header>
<p><img src="./media/image1.tiff" title="VA Seal" alt="VA Seal" style="width:2.5in;height:2.5in" /></p>
<p>January 2017</p>
<p>Department of Veterans Affairs (VA)</p>
<p>Office of Information and Technology (OI&amp;T)</p>
<p>Enterprise Program Management Office (EPMO)</p>
<p><span id="_Toc472601833" class="anchor"></span>Revision History</p>
<table>
<tbody>
<tr class="odd">
<td>Date</td>
<td>Revision</td>
<td>Description</td>
<td>Author</td>
</tr>
<tr class="even">
<td>01/17/2017</td>
<td>1.4</td>
<td><p>Changes for patch DI*22.2*2.</p>
<ul>
<li><p>Updated Section 9.2.2. Added eight new data types to <span class="underline">Table 91</span>.</p></li>
<li><p>Added Sections <span class="underline">9.2.12</span> – <span class="underline">9.2.19</span></p></li>
<li><p>Updated Section <span class="underline">9.3</span>. Added eight new data types.</p></li>
<li><p>Added Sections <span class="underline">9.8.9</span> – <span class="underline">9.8.16</span>.</p></li>
<li><p>Added Section <span class="underline">17</span> – Meta Data Dictionary.</p></li>
</ul></td>
<td>REDACTED</td>
</tr>
<tr class="odd">
<td>11/29/2016</td>
<td>1.3</td>
<td><p>Changes to support release of Patch DI*22.2*4:</p>
<ul>
<li><p>Updated Section <a href="file:///C:\Users\vacokiciet\AppData\Local\Microsoft\Windows\Temporary%20Internet%20Files\Content.IE5\AG7LO87F\PRINT_FIELD:#_"><span class="underline">4.2.2.2</span></a> to reflect change in behavior of computed expressions as print fields.</p></li>
<li><p>Added Section <a href="#start-with-and-go-to-sort-values">4.2.2.5</a>.</p></li>
<li><p>Updated Figure numbering from Figure 78 onward and corresponding cross-references.</p></li>
<li><p>Updated ToC, LoF and LoT.</p></li>
</ul></td>
<td><strong>REDACTED</strong></td>
</tr>
<tr class="even">
<td>09/26/2016</td>
<td>1.2</td>
<td><p>Tech Edit:</p>
<ul>
<li><p>Updated document for Section 508 conformance.</p></li>
<li><p>Updated user entries in <span class="underline">Figure 93</span> and <span class="underline">Figure 94</span>.</p></li>
<li><p>Updated Section <span class="underline">8.4</span> and removed PII from <span class="underline">Figure 112</span>.</p></li>
<li><p>Updated Section <span class="underline">8.5</span> and user entries in <span class="underline">Figure 113</span> and <span class="underline">Figure 114</span>.</p></li>
<li><p>Added/Updated Section <span class="underline">11.2.4</span> and <span class="underline">Figure 231</span>.</p></li>
<li><p>Added/Updated Section <span class="underline">11.2.5</span> and <span class="underline">Figure 232</span>.</p></li>
<li><p>Added/Updated Section <span class="underline">11.2.6</span> and <span class="underline">Figure 233</span>.</p></li>
<li><p>Updated “<a href="#_Toc446123570">Glossary</a>” table entries.</p></li>
<li><p>Updated document styles and formatting to follow current documentation standards and style guidelines.</p></li>
</ul></td>
<td>REDACTED</td>
</tr>
<tr class="odd">
<td>09/15/2016</td>
<td>1.1</td>
<td><p>Changes to support release of Patch DI*22.2*3:</p>
<ul>
<li><p>Note regarding output device added to Section <span class="underline">1.3.2</span> (How to Export Data).</p></li>
<li><p>Note regarding Option setup added to Section <span class="underline">10.1</span> (Verify Fields).</p></li>
<li><p>Note regarding auditing of the Description and Technical Description fields added to Section <span class="underline">11.2</span> (Auditing a Data Dictionary).</p></li>
</ul></td>
<td><ul>
<li><p>REDACTED</p></li>
</ul></td>
</tr>
<tr class="even">
<td>08/03/2016</td>
<td>1.0</td>
<td>Initial release of VA FileMan 22.2 Advanced User Manual.</td>
<td><ul>
<li><p>VA FileMan 22.2 Development Team</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For the current patch history related to this software, see the Patch Module (i.e., Patch User Menu [A1AE USER]) on FORUM.</p>
<p>Table of Contents</p>
<p><a href="#_Toc472601833">Revision History ii</a></p>
<p><a href="#_Toc472601834">List of Figures xi</a></p>
<p><a href="#_Toc472601835">List of Tables xix</a></p>
<p><a href="#_Hlt446130591">Orientation xxii</a></p>
<p><a href="#_Toc472601837">1 Import and Export Tools 1</a></p>
<p><a href="#what-applications-can-you-exchange-data-with">1.1 What Applications Can You Exchange Data With? 1</a></p>
<p><a href="#how-data-is-moved-between-applications">1.2 How Data is Moved between Applications 1</a></p>
<p><a href="#dependency-on-correct-data-communication">1.3 Dependency on Correct Data Communication 2</a></p>
<p><a href="#data-formats">1.3.1 Data Formats 2</a></p>
<p><a href="#how-to-export-data">1.3.2 How to Export Data 4</a></p>
<p><a href="#how-to-import-data">1.3.3 How to Import Data 16</a></p>
<p><a href="#foreign-formats">1.3.4 Foreign Formats 22</a></p>
<p><a href="#_Toc472601845">2 Relational Navigation 34</a></p>
<p><a href="#simple-extended-pointer">2.1 Simple Extended Pointer 35</a></p>
<p><a href="#simple-extended-pointer-syntax-short-form">2.1.1 Simple Extended Pointer Syntax (Short form) 36</a></p>
<p><a href="#simple-extended-pointer-syntax-long-form">2.1.2 Simple Extended Pointer Syntax (Long Form) 36</a></p>
<p><a href="#examples">2.1.3 Examples 37</a></p>
<p><a href="#how-to-navigate-with-a-variable-pointer-field">2.1.4 How to Navigate With a Variable Pointer Field 37</a></p>
<p><a href="#relational-jumps-across-files">2.2 Relational Jumps across Files 38</a></p>
<p><a href="#backward-extended-pointer">2.3 Backward Extended Pointer 40</a></p>
<p><a href="#join-extended-pointer">2.4 Join Extended Pointer 42</a></p>
<p><a href="#limitations">2.4.1 Limitations 42</a></p>
<p><a href="#example">2.4.2 Example 43</a></p>
<p><a href="#multiline-return-values">2.5 Multiline Return Values 43</a></p>
<p><a href="#word-processing-field">2.5.1 WORD-PROCESSING Field 44</a></p>
<p><a href="#multiples">2.5.2 Multiples 44</a></p>
<p><a href="#backward-pointer">2.5.3 Backward Pointer 45</a></p>
<p><a href="#advanced-edit-techniques">3 Advanced Edit Techniques 47</a></p>
<p><a href="#field-value-stuffing">3.1 Field Value Stuffing 47</a></p>
<p><a href="#set-field-default-2">3.1.1 Set Field Default (2 //) 47</a></p>
<p><a href="#stuffdelete-field-value-3">3.1.2 Stuff/Delete Field Value (3///) 47</a></p>
<p><a href="#unvalidated-stuffs-4">3.1.3 Unvalidated Stuffs: (4////) 48</a></p>
<p><a href="#variable-stuffs">3.1.4 Variable Stuffs 48</a></p>
<p><a href="#word-processing-field-stuffing">3.1.5 WORD-PROCESSING Field Stuffing 49</a></p>
<p><a href="#looping-loop">3.1.6 Looping (^LOOP) 49</a></p>
<p><a href="#input-templates">3.2 INPUT Templates 51</a></p>
<p><a href="#overview">3.2.1 Overview 51</a></p>
<p><a href="#branching-within-input-templates">3.2.2 Branching within INPUT Templates 52</a></p>
<p><a href="#edit-qualifiers">3.3 Edit Qualifiers 55</a></p>
<p><a href="#edit-qualifiers-and-customizing-data-editing">3.3.1 Edit Qualifiers and Customizing Data Editing 55</a></p>
<p><a href="#forcing-special-prompts">3.3.2 Forcing Special Prompts 55</a></p>
<p><a href="#duplicating-input-values">3.3.3 Duplicating Input Values 56</a></p>
<p><a href="#forcing-required-input">3.3.4 Forcing Required Input 56</a></p>
<p><a href="#text-formatting-in-word-processing-fields">3.4 Text Formatting in Word-processing Fields 57</a></p>
<p><a href="#word-wrapping">3.4.1 Word Wrapping 57</a></p>
<p><a href="#tabs">3.4.2 Tabs 57</a></p>
<p><a href="#formatting-text-with-word-processing-windows-frames">3.4.3 Formatting Text with Word-processing Windows (Frames) | | 57</a></p>
<p><a href="#text-formatting-expressions-in-word-processing-windows">3.4.4 Text Formatting Expressions in Word-processing Windows 58</a></p>
<p><a href="#_Toc472601881">4 Computed Expressions 60</a></p>
<p><a href="#syntax">4.1 Syntax 60</a></p>
<p><a href="#elements-of-computed-expressions">4.1.1 Elements of Computed Expressions 60</a></p>
<p><a href="#operators-in-computed-expressions">4.1.2 Operators in Computed Expressions 61</a></p>
<p><a href="#data-types-in-computed-expressions">4.1.3 Data Types in Computed Expressions 63</a></p>
<p><a href="#using-functions-as-elements-in-computed-expressions">4.1.4 Using Functions as Elements in Computed Expressions 64</a></p>
<p><a href="#where-to-use">4.2 Where to Use 65</a></p>
<p><a href="#using-computed-expressions-in-computed-fields">4.2.1 Using Computed Expressions in COMPUTED Fields 65</a></p>
<p><a href="#where-to-use-computed-expressions-on-the-fly">4.2.2 Where to Use Computed Expressions “On-the-Fly” 67</a></p>
<p><a href="#_Toc472601890">5 VA FileMan Functions 73</a></p>
<p><a href="#how-to-use-va-fileman-functions">5.1 How to Use VA FileMan Functions 73</a></p>
<p><a href="#documentation-conventions-for-va-fileman-functions">5.2 Documentation Conventions for VA FileMan Functions 73</a></p>
<p><a href="#va-fileman-function-categories">5.3 VA FileMan Function Categories 74</a></p>
<p><a href="#datetime-functions">5.3.1 Date/Time Functions 76</a></p>
<p><a href="#environmental-functions">5.3.2 Environmental Functions 83</a></p>
<p><a href="#file-and-file-data-functions">5.3.3 File and File Data Functions 86</a></p>
<p><a href="#mathematical-functions">5.3.4 Mathematical Functions 93</a></p>
<p><a href="#printing-related-functions">5.3.5 Printing Related Functions 96</a></p>
<p><a href="#string-functions">5.3.6 String Functions 97</a></p>
<p><a href="#temporary-data-storage-functions">5.3.7 Temporary Data Storage Functions 100</a></p>
<p><a href="#m-related-functions">5.3.8 M-Related Functions 102</a></p>
<p><a href="#statistics">6 Statistics 110</a></p>
<p><a href="#how-to-generate-statistics-from-reports">6.1 How to Generate Statistics from Reports 110</a></p>
<p><a href="#descriptive-statistics">6.2 Descriptive Statistics 110</a></p>
<p><a href="#initial-print">6.2.1 Initial Print 111</a></p>
<p><a href="#generating-the-descriptive-statistics">6.2.2 Generating the Descriptive Statistics 111</a></p>
<p><a href="#scattergram">6.3 Scattergram 112</a></p>
<p><a href="#initial-print-1">6.3.1 Initial Print 112</a></p>
<p><a href="#generating-the-scattergram">6.3.2 Generating the Scattergram 113</a></p>
<p><a href="#histogram">6.4 Histogram 114</a></p>
<p><a href="#system-management">7 System Management 117</a></p>
<p><a href="#setup">7.1 Setup 117</a></p>
<p><a href="#initialization">7.1.1 Initialization 117</a></p>
<p><a href="#security">7.1.2 Security 117</a></p>
<p><a href="#standalone-va-fileman">7.2 Standalone VA FileMan 118</a></p>
<p><a href="#device-handling-for-standalone-va-fileman">7.2.1 Device Handling for Standalone VA FileMan 118</a></p>
<p><a href="#new-person-file-for-standalone-va-fileman">7.2.2 NEW PERSON File for Standalone VA FileMan 123</a></p>
<p><a href="#zosf-nodes">7.3 ^%ZOSF Nodes 126</a></p>
<p><a href="#manually-setting-zosf-nodes">7.3.1 Manually Setting ^%ZOSF Nodes 126</a></p>
<p><a href="#alternate-editors">7.4 Alternate Editors 127</a></p>
<p><a href="#setting-up-alternate-editors">7.4.1 Setting Up Alternate Editors 127</a></p>
<p><a href="#compiled-routine-file">7.5 COMPILED ROUTINE File 129</a></p>
<p><a href="#compiled-routine-file-cleanup-enrlsdioz">7.5.1 COMPILED ROUTINE File Cleanup: ENRLS^DIOZ( ) 129</a></p>
<p><a href="#compare-data-and-data-dictionaries-cross-environments">7.6 Compare Data and Data Dictionaries cross Environments 129</a></p>
<p><a href="#compare-data-dictionaries">7.6.1 Compare Data Dictionaries 129</a></p>
<p><a href="#compare-file-entries">7.6.2 Compare File Entries 130</a></p>
<p><a href="#_Toc472601927">8 List File Attributes 132</a></p>
<p><a href="#list-file-attributes-option">8.1 List File Attributes Option 132</a></p>
<p><a href="#brief-data-dictionary">8.1.1 Brief Data Dictionary 133</a></p>
<p><a href="#condensed-data-dictionary">8.1.2 Condensed Data Dictionary 135</a></p>
<p><a href="#standard-and-modified-standard-data-dictionaries">8.1.3 Standard and Modified Standard Data Dictionaries 138</a></p>
<p><a href="#custom-tailored-data-dictionary">8.1.4 Custom-Tailored Data Dictionary 141</a></p>
<p><a href="#templates-only-format">8.1.5 Templates Only Format 144</a></p>
<p><a href="#global-map">8.1.6 Global Map 144</a></p>
<p><a href="#indexes-and-cross-references-only">8.1.7 Indexes and Cross-references Only 145</a></p>
<p><a href="#keys-only">8.1.8 Keys Only 146</a></p>
<p><a href="#map-pointer-relations-option">8.2 Map Pointer Relations Option 146</a></p>
<p><a href="#checkfix-dd-structure-option">8.3 Check/Fix DD Structure Option 147</a></p>
<p><a href="#find-pointers-into-a-file-option">8.4 Find Pointers Into a File Option 148</a></p>
<p><a href="#meta-data-dictionary">8.5 Meta Data Dictionary 150</a></p>
<p><a href="#creating-files-and-fields">9 Creating Files and Fields 153</a></p>
<p><a href="#creating-a-file">9.1 Creating a File 153</a></p>
<p><a href="#naming-a-new-file">9.1.1 Naming a New File 153</a></p>
<p><a href="#creating-fields">9.2 Creating Fields 154</a></p>
<p><a href="#screen-mode-field-editing">9.2.1 Screen Mode Field Editing 154</a></p>
<p><a href="#field-data-types">9.2.2 Field Data Types 156</a></p>
<p><a href="#datetime-data-type-1">9.2.3 DATE/TIME Data Type 157</a></p>
<p><a href="#numeric-data-type">9.2.4 NUMERIC Data Type 158</a></p>
<p><a href="#set-of-codes-data-type">9.2.5 SET OF CODES Data Type 159</a></p>
<p><a href="#free-text-data-type">9.2.6 FREE TEXT Data Type 160</a></p>
<p><a href="#word-processing-data-type-1">9.2.7 WORD-PROCESSING Data Type 161</a></p>
<p><a href="#computed-data-type">9.2.8 COMPUTED Data Type 162</a></p>
<p><a href="#pointer-to-a-file-data-type">9.2.9 POINTER TO A FILE Data Type 163</a></p>
<p><a href="#variable-pointer-data-type">9.2.10 VARIABLE-POINTER Data Type 164</a></p>
<p><a href="#mumps-data-type">9.2.11 MUMPS Data Type 166</a></p>
<p><a href="#boolean-data-type">9.2.12 BOOLEAN Data Type 166</a></p>
<p><a href="#label-reference-data-type">9.2.13 LABEL REFERENCE Data Type 166</a></p>
<p><a href="#time-data-type">9.2.14 TIME Data Type 167</a></p>
<p><a href="#year-data-type">9.2.15 YEAR Data Type 167</a></p>
<p><a href="#universal-time-data-type">9.2.16 UNIVERSAL TIME Data Type 167</a></p>
<p><a href="#ft-pointer-data-type">9.2.17 FT POINTER Data Type 167</a></p>
<p><a href="#ft-date-data-type">9.2.18 FT DATE Data Type 167</a></p>
<p><a href="#ratio-data-type">9.2.19 RATIO Data Type 167</a></p>
<p><a href="#multiple-valued-field-multiples">9.3 Multiple-Valued Field (Multiples) 168</a></p>
<p><a href="#making-a-field-mandatory">9.4 Making a Field Mandatory 169</a></p>
<p><a href="#field-number-sequences">9.5 Field Number Sequences 169</a></p>
<p><a href="#number-.001-field">9.6 NUMBER (.001) Field 169</a></p>
<p><a href="#forced-lookups-using-numbers">9.6.1 Forced Lookups Using Numbers 170</a></p>
<p><a href="#changing-and-deleting-fields">9.7 Changing and Deleting Fields 171</a></p>
<p><a href="#changing-field-attributes">9.7.1 Changing Field Attributes 171</a></p>
<p><a href="#changing-a-fields-data-type-value">9.7.2 Changing a Field’s DATA TYPE Value 174</a></p>
<p><a href="#deleting-an-existing-field">9.7.3 Deleting an Existing Field 174</a></p>
<p><a href="#examples-of-file-and-field-creation">9.8 Examples of File and Field Creation 175</a></p>
<p><a href="#file-creation">9.8.1 File Creation 176</a></p>
<p><a href="#datetime-fields">9.8.2 DATE/TIME Fields 177</a></p>
<p><a href="#set-of-codes-field">9.8.3 SET OF CODES Field 178</a></p>
<p><a href="#free-text-field">9.8.4 FREE TEXT Field 179</a></p>
<p><a href="#word-processing-field-1">9.8.5 WORD-PROCESSING Field 180</a></p>
<p><a href="#computed-field">9.8.6 COMPUTED Field 182</a></p>
<p><a href="#pointer-to-a-file-field">9.8.7 POINTER TO A FILE Field 183</a></p>
<p><a href="#variable-pointer-field">9.8.8 VARIABLE-POINTER Field 184</a></p>
<p><a href="#boolean-field">9.8.9 BOOLEAN Field 185</a></p>
<p><a href="#label-reference-field">9.8.10 LABEL REFERENCE Field 185</a></p>
<p><a href="#time-field">9.8.11 TIME Field 187</a></p>
<p><a href="#year-field">9.8.12 YEAR Field 188</a></p>
<p><a href="#universal-time-field">9.8.13 UNIVERSAL TIME Field 189</a></p>
<p><a href="#ft-pointer-field">9.8.14 FT POINTER Field 190</a></p>
<p><a href="#ft-date-field">9.8.15 FT DATE Field 190</a></p>
<p><a href="#ratio-field">9.8.16 RATIO Field 191</a></p>
<p><a href="#creating-a-multiple">9.8.17 Creating a Multiple 192</a></p>
<p><a href="#_Toc472601991">10 File Utilities 196</a></p>
<p><a href="#verify-fields">10.1 Verify Fields 196</a></p>
<p><a href="#cross-reference-a-field-or-file">10.2 Cross-Reference a Field or File 197</a></p>
<p><a href="#types-of-traditional-cross-references">10.2.1 Types of Traditional Cross-references 198</a></p>
<p><a href="#edit-a-traditional-cross-reference">10.2.2 Edit a Traditional Cross-reference 199</a></p>
<p><a href="#create-a-traditional-cross-reference">10.2.3 Create a Traditional Cross-reference 200</a></p>
<p><a href="#delete-a-traditional-cross-reference">10.2.4 Delete a Traditional Cross-reference 200</a></p>
<p><a href="#new-style-cross-references">10.2.5 New-Style Cross-references 201</a></p>
<p><a href="#edit-a-new-style-cross-reference">10.2.6 Edit a New-Style Cross-reference 203</a></p>
<p><a href="#create-a-new-style-cross-reference">10.2.7 Create a New-Style Cross-reference 205</a></p>
<p><a href="#delete-a-new-style-cross-reference">10.2.8 Delete a New-Style Cross-reference 207</a></p>
<p><a href="#_Toc472602002">10.3 Identifier 207</a></p>
<p><a href="#re-index-file-option">10.4 Re-Index File Option 209</a></p>
<p><a href="#limits-on-reindexing-files">10.4.1 Limits on Reindexing Files 210</a></p>
<p><a href="#input-transform-syntax">10.5 INPUT Transform (Syntax) 211</a></p>
<p><a href="#edit-file">10.6 Edit File 211</a></p>
<p><a href="#output-transform">10.7 OUTPUT Transform 214</a></p>
<p><a href="#template-edit">10.8 Template Edit 214</a></p>
<p><a href="#uneditable-data">10.9 Uneditable Data 219</a></p>
<p><a href="#mandatoryrequired-field-check">10.10 Mandatory/Required Field Check 219</a></p>
<p><a href="#key-definition">10.11 Key Definition 219</a></p>
<p><a href="#create-a-key">10.11.1 Create a Key 220</a></p>
<p><a href="#edit-a-key">10.11.2 Edit a Key 222</a></p>
<p><a href="#delete-a-key">10.11.3 Delete a Key 222</a></p>
<p><a href="#verify-a-key">10.11.4 Verify a Key 224</a></p>
<p><a href="#_Toc472602016">11 Auditing 225</a></p>
<p><a href="#auditing-a-data-field">11.1 Auditing a Data Field 225</a></p>
<p><a href="#overview-1">11.1.1 Overview 226</a></p>
<p><a href="#setting-a-data-field-audit">11.1.2 Setting a Data Field Audit 226</a></p>
<p><a href="#turning-data-field-audit-onoff">11.1.3 Turning Data Field Audit On/Off 227</a></p>
<p><a href="#reviewing-the-data-field-audit-trail">11.1.4 Reviewing the Data Field Audit Trail 228</a></p>
<p><a href="#tracking-data-field-audits">11.1.5 Tracking Data Field Audits 230</a></p>
<p><a href="#purging-a-data-field-audit-trail">11.1.6 Purging a Data Field Audit Trail 230</a></p>
<p><a href="#auditing-a-data-dictionary">11.2 Auditing a Data Dictionary 232</a></p>
<p><a href="#setting-automatic-data-dictionary-auditing">11.2.1 Setting Automatic Data Dictionary Auditing 232</a></p>
<p><a href="#reviewing-the-data-dictionary-audit-trail">11.2.2 Reviewing the Data Dictionary Audit Trail 232</a></p>
<p><a href="#purging-a-data-dictionary-audit-trail">11.2.3 Purging a Data Dictionary Audit Trail 234</a></p>
<p><a href="#auditable-word-processing-fields">11.2.4 Auditable Word Processing Fields 236</a></p>
<p><a href="#word-processing-fields-can-be-made-uneditable">11.2.5 Word Processing Fields Can be Made Uneditable 236</a></p>
<p><a href="#reviewing-a-users-data-access">11.2.6 Reviewing a User’s Data Access 237</a></p>
<p><a href="#_Toc472602031">12 Data Security 238</a></p>
<p><a href="#security-at-the-file-level">12.1 Security at the File Level 238</a></p>
<p><a href="#access-code-security-on-files">12.1.1 Access Code Security on Files 238</a></p>
<p><a href="#file-access-security-formerly-part-3-of-kernel">12.1.2 File Access Security (Formerly Part 3 of Kernel) 239</a></p>
<p><a href="#protection-for-fields-in-a-file">12.2 Protection for Fields in a File 240</a></p>
<p><a href="#protection-for-templates">12.3 Protection for Templates 240</a></p>
<p><a href="#transferring-file-entries">13 Transferring File Entries 241</a></p>
<p><a href="#transfer-file-entries-option">13.1 Transfer File Entries Option 241</a></p>
<p><a href="#transferring-data-within-the-same-file">13.1.1 Transferring Data within the Same File 242</a></p>
<p><a href="#transferring-entries-between-files">13.1.2 Transferring Entries between Files 244</a></p>
<p><a href="#transferring-entries-into-a-new-file">13.1.3 Transferring Entries into a New File 245</a></p>
<p><a href="#comparemerge-file-entries-option">13.2 Compare/Merge File Entries Option 246</a></p>
<p><a href="#comparing-entries">13.2.1 Comparing Entries 246</a></p>
<p><a href="#merging-entries">13.2.2 Merging Entries 247</a></p>
<p><a href="#_Toc472602045">14 Extract Tool 253</a></p>
<p><a href="#extract-overview">14.1 Extract Overview 253</a></p>
<p><a href="#important-items-to-note">14.2 Important Items to Note 253</a></p>
<p><a href="#source-file">14.2.1 Source File 254</a></p>
<p><a href="#destination-file">14.2.2 Destination File 254</a></p>
<p><a href="#mapping-information">14.3 Mapping Information 255</a></p>
<p><a href="#archival-activity-file">14.4 ARCHIVAL ACTIVITY File 256</a></p>
<p><a href="#extract-steps">14.5 Extract Steps 257</a></p>
<p><a href="#select-entries-to-extract-option-1-of-9">14.5.1 Select Entries to Extract Option (1 of 9) 258</a></p>
<p><a href="#adddelete-selected-entries-option-2-of-9">14.5.2 Add/Delete Selected Entries Option (2 of 9) 260</a></p>
<p><a href="#print-selected-entries-option-3-of-9">14.5.3 Print Selected Entries Option (3 of 9) 261</a></p>
<p><a href="#modify-destination-file-option-4-of-9">14.5.4 Modify Destination File Option (4 of 9) 262</a></p>
<p><a href="#create-extract-template-option-5-of-9">14.5.5 Create Extract Template Option (5 of 9) 263</a></p>
<p><a href="#update-destination-file-option-6-of-9">14.5.6 Update Destination File Option (6 of 9) 265</a></p>
<p><a href="#purge-extracted-entries-option-7-of-9">14.5.7 Purge Extracted Entries Option (7 of 9) 267</a></p>
<p><a href="#cancel-extract-selection-option-8-of-9">14.5.8 Cancel Extract Selection Option (8 of 9) 268</a></p>
<p><a href="#validate-extract-template-option-9-of-9">14.5.9 Validate Extract Template Option (9 of 9) 269</a></p>
<p><a href="#filegrams">15 Filegrams 269</a></p>
<p><a href="#filegram-type-templates">15.1 FILEGRAM-type Templates 270</a></p>
<p><a href="#filegram-and-archiving-relationship">15.2 Filegram and Archiving Relationship 270</a></p>
<p><a href="#using-filegrams">15.3 Using Filegrams 270</a></p>
<p><a href="#filegram-steps">15.4 Filegram Steps 271</a></p>
<p><a href="#createedit-filegram-template-option">15.4.1 Create/Edit Filegram Template Option 271</a></p>
<p><a href="#display-filegram-template-option">15.4.2 Display Filegram Template Option 273</a></p>
<p><a href="#specifiers-option">15.4.3 Specifiers Option 274</a></p>
<p><a href="#generate-filegram-option">15.4.4 Generate Filegram Option 275</a></p>
<p><a href="#receiving-filegrams-with-mailman">15.4.5 Receiving Filegrams with MailMan 276</a></p>
<p><a href="#view-filegram-option">15.4.6 View Filegram Option 277</a></p>
<p><a href="#installverify-filegram-option">15.4.7 Install/Verify Filegram Option 277</a></p>
<p><a href="#deleting-a-filegram">15.4.8 Deleting a Filegram 278</a></p>
<p><a href="#_Toc472602075">16 Archiving 279</a></p>
<p><a href="#considerations-before-archiving">16.1 Considerations before Archiving 279</a></p>
<p><a href="#archiving-process-including-archiving-options-1-9">16.2 Archiving Process, including Archiving Options (1-9) 281</a></p>
<p><a href="#select-entries-to-archive">16.2.1 Select Entries to Archive 281</a></p>
<p><a href="#adddelete-selected-entries">16.2.2 Add/Delete Selected Entries 283</a></p>
<p><a href="#print-selected-entries">16.2.3 Print Selected Entries 284</a></p>
<p><a href="#create-filegram-archiving-template">16.2.4 Create Filegram Archiving Template 285</a></p>
<p><a href="#write-entries-to-temporary-storage">16.2.5 Write Entries to Temporary Storage 286</a></p>
<p><a href="#move-archived-data-to-permanent-storage">16.2.6 Move Archived Data to Permanent Storage 287</a></p>
<p><a href="#_Toc472602084">16.2.7 Purge Stored Entries 289</a></p>
<p><a href="#cancel-archival-selection">16.2.8 Cancel Archival Selection 290</a></p>
<p><a href="#find-archived-entries">16.2.9 Find Archived Entries 291</a></p>
<p><a href="#archival-activity-file-1">16.2.10 ARCHIVAL ACTIVITY File 292</a></p>
<p><a href="#meta-data-dictionary-1">17 Meta Data Dictionary 293</a></p>
<p><a href="#overview-2">17.1 Overview 293</a></p>
<p><a href="#ddd-initial-creation">17.2 ^DDD: Initial Creation 293</a></p>
<p><a href="#filelistddd-file-list-partial-update">17.3 FILELIST^DDD: File List Partial Update 294</a></p>
<p><a href="#partial1ddd-partial-update-using-dicdddmsc">17.4 PARTIAL1^DDD: Partial Update using ^DIC(DDD,"%MSC") 294</a></p>
<p><a href="#partial2ddd-partial-update-using-ddfilefielddt">17.5 PARTIAL2^DDD: Partial Update using ^DD(FILE,FIELD,"DT") 294</a></p>
<p><a href="#_Toc446123570">Glossary 294</a></p>
<p><a href="#_Hlt446131684">Index 306</a></p>
<p><span id="_Toc472601834" class="anchor"></span>List of Figures</p>
<p><a href="#_Ref462325895">Figure 1: Import and Export Tools—Example of a record delimited by a comma 2</a></p>
<p><a href="#_Ref462325873">Figure 2: Import and Export Tools—Example of a file with records delimited by a comma 2</a></p>
<p><a href="#_Ref462325850">Figure 3: Import and Export Tools—Example of a record where the delimiter between quotes is ignored 3</a></p>
<p><a href="#_Ref462325815">Figure 4: Import and Export Tools—Example of a fixed-length record 3</a></p>
<p><a href="#_Ref462325785">Figure 5: Import and Export Tools—Example of a file with fixed-length records 3</a></p>
<p><a href="#_Ref446837180">Figure 6: Import and Export Tools—Data export options 4</a></p>
<p><a href="#_Ref446839887">Figure 7: Import and Export Tools—Creating the Selected Exported Fields template 7</a></p>
<p><a href="#_Toc342980612">Figure 8: Import and Export Tools—Creating the Export template 9</a></p>
<p><a href="#_Ref446997026">Figure 9: Import and Export Tools—Identifying the Foreign Format and Export templates 9</a></p>
<p><a href="#_Ref446997038">Figure 10: Import and Export Tools—Entering DATA TYPE field values in an Export template 10</a></p>
<p><a href="#_Ref389629584">Figure 11: Import and Export Tools—Searching for entries to be exported 12</a></p>
<p><a href="#_Toc342980617">Figure 12: Import and Export Tools—Choosing a device to send exported data 12</a></p>
<p><a href="#_Toc342980618">Figure 13: Import and Export Tools—Example of exported data 14</a></p>
<p><a href="#_Ref462325620">Figure 14: Import and Export Tools—Example of data flattening when exporting data from Multiples 14</a></p>
<p><a href="#_Ref389633121">Figure 15: Import and Export Tools—Example of a file structure 15</a></p>
<p><a href="#_Ref447007539">Figure 16: Import and Export Tools—Import Data option 16</a></p>
<p><a href="#_Ref343503185">Figure 17: Import and Export Tools—Example of a completed Data Import form 17</a></p>
<p><a href="#_Ref343503194">Figure 18: Import and Export Tools—Example of fields selected for import 18</a></p>
<p><a href="#_Ref462325498">Figure 19: Import and Export Tools—Exiting the Template form and performing the import 19</a></p>
<p><a href="#_Ref342484948">Figure 20: Import and Export Tools—Example of an Import Results report 20</a></p>
<p><a href="#_Ref343503204">Figure 21: Import and Export Tools—Example of fields selected for import to a Multiple 21</a></p>
<p><a href="#_Toc342980627">Figure 22: Import and Export Tools—Example of data <em>not</em> flattened when importing data to a Multiple 21</a></p>
<p><a href="#_Ref389633166">Figure 23: Import and Export Tools—Verifying the maximum record length on a VMS system 22</a></p>
<p><a href="#_Toc342980629">Figure 24: Import and Export Tools—Using VA FileMan functions when exporting data 27</a></p>
<p><a href="#_Toc342980630">Figure 25: Import and Export Tools—Print Format Documentation option 28</a></p>
<p><a href="#_Ref462325309">Figure 26: Import and Export Tools—Listing FOREIGN FORMAT file entries using the Print Format Documentation option 29</a></p>
<p><a href="#_Toc342980632">Figure 27: Import and Export Tools—Define Foreign File Format option 30</a></p>
<p><a href="#_Ref389629618">Figure 28: Import and Export Tools—Choosing the Define Foreign Format option 30</a></p>
<p><a href="#_Ref342485832">Figure 29: Import and Export Tools—Selecting an existing FOREIGN FORMAT file entry 31</a></p>
<p><a href="#_Ref342485882">Figure 30: Import and Export Tools—Viewing the contents of a FOREIGN FORMAT file entry 31</a></p>
<p><a href="#_Toc342980636">Figure 31: Import and Export Tools—Creating a new FOREIGN FORMAT file entry 31</a></p>
<p><a href="#_Ref343503212">Figure 32: Import and Export Tools—ScreenMan form for editing foreign formats 32</a></p>
<p><a href="#_Ref343503221">Figure 33: Import and Export Tools—Second page of a Multiple’s with a “popup” window opened 33</a></p>
<p><a href="#_Toc472602129">Figure 34: Relational Navigation—Example Illustrating Relational Navigation 34</a></p>
<p><a href="#_Toc342980640">Figure 35: Relational Navigation—Example of a simple extended pointer 35</a></p>
<p><a href="#_Ref462325096">Figure 36: Relational Navigation—Example of a relational query 37</a></p>
<p><a href="#_Toc342980642">Figure 37: Relational Navigation—Example of the short form extended Pointer syntax 37</a></p>
<p><a href="#_Ref389629668">Figure 38: Relational Navigation—Entering print specifications and including fields in pointed-to files 38</a></p>
<p><a href="#_Ref389633231">Figure 39: Relational Navigation—Example of output that includes fields from pointed-to files 38</a></p>
<p><a href="#_Toc342980646">Figure 40: Relational Navigation—Using relational jumps with the Enter or Edit File Entries option 39</a></p>
<p><a href="#_Ref343503121">Figure 41: Relational Navigation—Example illustrating a file with pointers to another file 40</a></p>
<p><a href="#_Toc342980648">Figure 42: Relational Navigation—Example using a backward extended pointer 41</a></p>
<p><a href="#_Ref389629696">Figure 43: Relational Navigation—Example of the output produced after using a backward extended pointer 41</a></p>
<p><a href="#_Toc342980650">Figure 44: Relational Navigation—Using a value from one file to do a lookup in a second file 42</a></p>
<p><a href="#_Ref389633266">Figure 45: Relational Navigation—Example of matching entries in two files using the SORT BY field 43</a></p>
<p><a href="#_Toc342980652">Figure 46: Relational Navigation—Example of using a WORD-PROCESSING field in an extended pointer expression 44</a></p>
<p><a href="#_Ref462324917">Figure 47: Relational Navigation—Example of using the simple pointer syntax to get data from a Multiple 44</a></p>
<p><a href="#_Ref389631047">Figure 48: Relational Navigation—Example using a cross-referenced backward pointer to yield a multiline response: Stored in an Input template 45</a></p>
<p><a href="#_Toc342980655">Figure 49: Relational Navigation—Example using an Input template with a cross-referenced backward pointer to yield a multiline response 45</a></p>
<p><a href="#_Toc342980656">Figure 50: Advanced Edit Techniques—Setting a default value for a field 47</a></p>
<p><a href="#_Toc342980657">Figure 51: Advanced Edit Techniques—”Stuffing” a value into a field in the database 47</a></p>
<p><a href="#_Toc342980658">Figure 52: Advanced Edit Techniques—Deleting a value from a field in the database 47</a></p>
<p><a href="#_Ref389633307">Figure 53: Advanced Edit Techniques—Warning message when deleting a value from a field in the database 47</a></p>
<p><a href="#_Toc342980660">Figure 54: Advanced Edit Techniques—”Stuffing” default value into a field in the database—Bypassing INPUT Transform 48</a></p>
<p><a href="#_Ref462324753">Figure 55: Advanced Edit Techniques—Example of “Stuffing” a variable default value into a field in the database 48</a></p>
<p><a href="#_Ref389633348">Figure 56: Advanced Edit Techniques—Appending text on to a WORD-PROCESSING field value 49</a></p>
<p><a href="#_Ref389631074">Figure 57: Advanced Edit Techniques—Example of “Looping” through entries in a file 50</a></p>
<p><a href="#_Ref462326558">Figure 58: Advanced Edit Techniques—Example of loading data into a newly created field for select records 50</a></p>
<p><a href="#_Toc342980665">Figure 59: Advanced Edit Techniques—Example of deleting data from a newly created field for select records 51</a></p>
<p><a href="#_Ref389629724">Figure 60: Advanced Edit Techniques—Storing a list of edit fields in an INPUT template 51</a></p>
<p><a href="#_Toc342980667">Figure 61: Advanced Edit Techniques—Creating a special INPUT template 52</a></p>
<p><a href="#_Ref462326559">Figure 62: Advanced Edit Techniques—Defining INPUT template to branch to different field based on another field’s value (1 of 2) 53</a></p>
<p><a href="#_Ref462326560">Figure 63: Advanced Edit Techniques—Defining INPUT template to branch to different field based on another field’s value (2 of 2) 53</a></p>
<p><a href="#_Ref462326561">Figure 64: Advanced Edit Techniques—Example verifying automatic branching to other fields based on user’s entry (1 of 2) 54</a></p>
<p><a href="#_Ref462326562">Figure 65: Advanced Edit Techniques—Example verifying automatic branching to other fields based on user’s entry (2 of 2) 54</a></p>
<p><a href="#_Toc342980673">Figure 66: Advanced Edit Techniques—Example using the Title Edit Qualifier 56</a></p>
<p><a href="#_Toc342980674">Figure 67: Advanced Edit Techniques—Example Using the Duplicate Edit Qualifier 56</a></p>
<p><a href="#_Ref462326563">Figure 68: Advanced Edit Techniques—Example using the required Edit Qualifier 56</a></p>
<p><a href="#_Ref462326566">Figure 69: Computed Expressions—Example using the Print File Entries Option to identify a caption 63</a></p>
<p><a href="#_Toc342980681">Figure 70: Computed Expressions—Defining a DATA TYPE field as COMPUTED 65</a></p>
<p><a href="#_Toc342980682">Figure 71: Computed Expressions—Entering the computed expression into a DATA TYPE field of COMPUTED 65</a></p>
<p><a href="#_Ref389633654">Figure 72: Computed Expressions—Example of dialogue encountered with a COMPUTED field with expected numeric result (1 of 3) 65</a></p>
<p><a href="#_Toc342980684">Figure 73: Computed Expressions—Example of dialogue encountered with a COMPUTED field with expected numeric result (2 of 3) 66</a></p>
<p><a href="#_Toc342980685">Figure 74: Computed Expressions—Example of dialogue encountered with a COMPUTED field with expected numeric result (3 of 3) 66</a></p>
<p><a href="#_Toc342980687">Figure 75: Computed Expressions—Dialogue encountered when defining a COMPUTED field 67</a></p>
<p><a href="#_Toc342980688">Figure 76: Computed Expressions—Entering a computed expression at a “PRINT FIELD” prompt 68</a></p>
<p><a href="#_Toc342980689">Figure 77: Computed Expressions—Entering a computed expression at a “SORT BY” prompt 69</a></p>
<p><a href="#_Toc472602173">Figure 78: Computed Expressions—Entering a computed expression at the “Start with” and/or “Go to” prompt 70</a></p>
<p><a href="#_Toc342980690">Figure 79: Computed Expressions—”Stuffing” a value in a field via a computed expression 70</a></p>
<p><a href="#_Toc342980691">Figure 80: Computed Expressions—Entering a computed expression in an OUTPUT transform 71</a></p>
<p><a href="#_Toc342980692">Figure 81: Computed Expressions—Entering a computed expression in an OUTPUT transform attached to a field 71</a></p>
<p><a href="#_Toc342980693">Figure 82: Computed Expressions—Example of the result of an OUTPUT transform with a computed expression 71</a></p>
<p><a href="#_Toc342980694">Figure 83: Computed Expressions—A |Window| with a computed expression 71</a></p>
<p><a href="#_Toc342980695">Figure 84: Computed Expressions—Example of the result of a |Window| with a computed expression 72</a></p>
<p><a href="#_Ref343503232">Figure 85: Statistics—Initial print dialogue with descriptive statistics 111</a></p>
<p><a href="#_Toc342980769">Figure 86: Statistics—Generating the descriptive statistics 111</a></p>
<p><a href="#_Ref343503242">Figure 87: Statistics—Initial print dialogue for a Scattergram 112</a></p>
<p><a href="#_Ref343503257">Figure 88: Statistics—Generating dialogue and sample output of a Scattergram 113</a></p>
<p><a href="#_Ref343503267">Figure 89: Statistics—Initial print dialogue for a Count Histogram 115</a></p>
<p><a href="#_Toc472602185">Figure 90: Statistics—Generating the Count Histogram diagram 116</a></p>
<p><a href="#_Ref389631133">Figure 91: System Management—Example of creating an ALTERNATE EDITOR file entry 127</a></p>
<p><a href="#_Toc342980781">Figure 92: System Management—Example where the User is prompted to choose an Alternate Editor 129</a></p>
<p><a href="#_Ref462323961">Figure 93: System Management—Example where the User selects to Compare Data Dictionaries 129</a></p>
<p><a href="#_Ref462323970">Figure 94: System Management—Example Namespace Compare File Entries 131</a></p>
<p><a href="#_Toc342980782">Figure 95: List File Attributes—File Attribute Listing format choices 133</a></p>
<p><a href="#_Ref462323654">Figure 96: List File Attributes—Choosing to display the Brief Listing 133</a></p>
<p><a href="#_Ref389629849">Figure 97: List File Attributes—Example of a Brief Data Dictionary Listing 134</a></p>
<p><a href="#_Ref389631171">Figure 98: List File Attributes—Example of a Condensed Data Dictionary Listing 135</a></p>
<p><a href="#_Ref447512027">Figure 99: List File Attributes—Example of a Standard Data Dictionary Listing 138</a></p>
<p><a href="#_Ref389634271">Figure 100: List File Attributes—Choosing the Modified Standard Data Dictionary Listing 140</a></p>
<p><a href="#_Ref462323562">Figure 101: List File Attributes—Choosing the Custom-Tailored Data Dictionary Listing 141</a></p>
<p><a href="#_Ref462323489">Figure 102: List File Attributes—Choosing from a list of field attributes 142</a></p>
<p><a href="#_Ref462323455">Figure 103: List File Attributes—Help on print formatting in the Custom-Tailored Data Dictionary Listing 143</a></p>
<p><a href="#_Toc342980792">Figure 104: List File Attributes—Selecting the field attributes to print 143</a></p>
<p><a href="#_Ref462323412">Figure 105: List File Attributes—Example of a Custom-Tailored Data Dictionary Listing 143</a></p>
<p><a href="#_Ref389629905">Figure 106: List File Attributes—Example of a Global Map Data Dictionary Listing 144</a></p>
<p><a href="#_Ref389629928">Figure 107: List File Attributes—Example of an Indexes and Cross-References Only Data Dictionary Listing 145</a></p>
<p><a href="#_Ref389629952">Figure 108: List File Attributes—Example of a Keys Only Data Dictionary Listing 146</a></p>
<p><a href="#_Ref389723160">Figure 109: List File Attributes—Example of the dialogue encountered when using the Map Pointer Relations option 146</a></p>
<p><a href="#_Toc342980798">Figure 110: List File Attributes—Example of the output produced with the Map Pointer Relations option 147</a></p>
<p><a href="#_Ref447515755">Figure 111: List File Attributes—Example of dialogue and output encountered when using Check/Fix DD Structure option 148</a></p>
<p><a href="#_Ref462323174">Figure 112: Data Dictionary Utilities—Example of dialogue and output encountered when using the Find Pointers Into a File option 149</a></p>
<p><a href="#_Ref462322372">Figure 113: List File Attributes—Example setting up the Meta Data Dictionary 150</a></p>
<p><a href="#_Ref462322872">Figure 114: List File Attributes—Example Meta Data Dictionary 151</a></p>
<p><a href="#_Ref389631203">Figure 115: Creating Files and Fields—Choosing Screen Mode when using the Modify File Attributes option 154</a></p>
<p><a href="#_Ref343503280">Figure 116: Creating Files and Fields—Example using the Modify File Attributes option in Screen Mode 155</a></p>
<p><a href="#_Ref389634454">Figure 117: Creating Files and Fields—Defining a DATA TYPE field value as DATE/TIME in Scrolling Mode (1 of 2) 157</a></p>
<p><a href="#_Toc342980804">Figure 118: Creating Files and Fields—Defining a DATA TYPE field value as DATE/TIME in Scrolling Mode (2 of 2) 157</a></p>
<p><a href="#_Ref389634492">Figure 119: Creating Files and Fields—Defining a DATA TYPE field value as NUMERIC in Scrolling Mode (1 of 2) 158</a></p>
<p><a href="#_Toc342980806">Figure 120: Creating Files and Fields—Defining a DATA TYPE field value as NUMERIC in Scrolling Mode (2 of 2) 158</a></p>
<p><a href="#_Ref349139780">Figure 121: Creating Files and Fields—Defining a DATA TYPE field value as SET OF CODES in Scrolling Mode 159</a></p>
<p><a href="#_Ref389634549">Figure 122: Creating Files and Fields—Defining a DATA TYPE field value as FREE TEXT in Scrolling Mode (1 of 3) 160</a></p>
<p><a href="#_Toc342980809">Figure 123: Creating Files and Fields—Defining a DATA TYPE field value as FREE TEXT in Scrolling Mode (2 of 3) 160</a></p>
<p><a href="#_Toc342980810">Figure 124: Creating Files and Fields—Defining a DATA TYPE field value as FREE TEXT in Scrolling Mode (3 of 3) 160</a></p>
<p><a href="#_Ref389634584">Figure 125: Creating Files and Fields—Defining a DATA TYPE field value as WORD-PROCESSING in Scrolling Mode 161</a></p>
<p><a href="#_Ref389634612">Figure 126: Creating Files and Fields—Defining a DATA TYPE field value as COMPUTED in Scrolling Mode (1 of 2) 162</a></p>
<p><a href="#_Toc342980813">Figure 127: Creating Files and Fields—Defining a DATA TYPE field value as COMPUTED in Scrolling Mode (2 of 2) 162</a></p>
<p><a href="#_Ref389634646">Figure 128: Creating Files and Fields—Defining a DATA TYPE field value as POINTER TO A FILE in Scrolling Mode (1 of 3) 163</a></p>
<p><a href="#_Toc342980815">Figure 129: Creating Files and Fields—Defining a DATA TYPE field value as POINTER TO A FILE in Scrolling Mode (2 of 3) 163</a></p>
<p><a href="#_Toc342980816">Figure 130: Creating Files and Fields—Defining a DATA TYPE field value as POINTER TO A FILE in Scrolling Mode (3 of 3) 163</a></p>
<p><a href="#_Ref389634676">Figure 131: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (1 of 5) 164</a></p>
<p><a href="#_Toc342980818">Figure 132: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (2 of 5) 164</a></p>
<p><a href="#_Toc342980819">Figure 133: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (3 of 5) 165</a></p>
<p><a href="#_Toc342980820">Figure 134: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (4 of 5) 165</a></p>
<p><a href="#_Toc342980821">Figure 135: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (5 of 5) 165</a></p>
<p><a href="#_Ref389634706">Figure 136: Creating Files and Fields—Example of help associated with a VARIABLE-POINTER field 165</a></p>
<p><a href="#_Toc342980823">Figure 137: Creating Files and Fields—Example of “sequencing” a field 169</a></p>
<p><a href="#_Ref452359320">Figure 138: Creating Files and Fields—Creating a NUMBER (#.001) field 169</a></p>
<p><a href="#_Toc342980825">Figure 139: Creating Files and Fields—Example of creating a new file entry with a .001 field defined 170</a></p>
<p><a href="#_Toc342980826">Figure 140: Creating Files and Fields—Looking up an entry in a file using the IEN 170</a></p>
<p><a href="#_Toc472602236">Figure 141: Creating Files and Fields—Looking up an entry in a file using the FMPATIENT, 5’s IEN 170</a></p>
<p><a href="#_Toc472602237">Figure 142: Creating Files and Fields—Looking up an entry in a file using the IEN TEST, PHARMACY 170</a></p>
<p><a href="#_Toc342980827">Figure 143: Editing a Field—LABEL, TITLE, and AUDIT attributes 171</a></p>
<p><a href="#_Toc342980828">Figure 144: Editing a Field—ACCESS Privileges attributes 172</a></p>
<p><a href="#_Toc342980829">Figure 145: Editing a Field—SOURCE, DESTINATION, GROUP attributes 172</a></p>
<p><a href="#_Toc342980830">Figure 146: Editing a Field—DESCRIPTION attributes 172</a></p>
<p><a href="#_Toc342980831">Figure 147: Editing a Field—DATA TYPE, LENGTH, PATTERN MATCH, MANDATORY ‘HELP’ PROMPT attributes 172</a></p>
<p><a href="#_Toc342980832">Figure 148: Editing a Field—Adding fields to a GROUP (1 of 2) 173</a></p>
<p><a href="#_Toc342980833">Figure 149: Editing a Field—Adding fields to a GROUP (2 of 2) 173</a></p>
<p><a href="#_Toc342980834">Figure 150: Editing a Field—Deleting a field and its definition 174</a></p>
<p><a href="#_Ref389631230">Figure 151: Modify File Attributes option—Creating a file 176</a></p>
<p><a href="#_Ref343503291">Figure 152: Modify File Attributes option—Defining the NAME (#.01) field in Screen Mode 176</a></p>
<p><a href="#_Ref389631258">Figure 153: Modify File Attributes option—Editing a DATE/TIME field in Screen Mode 177</a></p>
<p><a href="#_Ref343503302">Figure 154: Modify File Attributes option—Defining a DATA TYPE field as DATE/TIME in Screen Mode 177</a></p>
<p><a href="#_Ref389631290">Figure 155: Modify File Attributes option—Editing a SET OF CODES field in Screen Mode 178</a></p>
<p><a href="#_Ref343503312">Figure 156: Modify File Attributes option—Defining a DATA TYPE field as SET OF CODES in Screen Mode 178</a></p>
<p><a href="#_Ref389631351">Figure 157: Modify File Attributes option—Editing a FREE TEXT field in Screen Mode 179</a></p>
<p><a href="#_Ref343503321">Figure 158: Modify File Attributes option—Defining a Data Type as FREE TEXT in Screen Mode 179</a></p>
<p><a href="#_Toc342980843">Figure 159: Modify File Attributes option—Carets (“^”) in a FREE TEXT field: Piece position 180</a></p>
<p><a href="#_Ref389631377">Figure 160: Modify File Attributes option—Editing a WORD-PROCESSING field in Screen Mode 180</a></p>
<p><a href="#_Ref184736193">Figure 161: Modify File Attributes option—Defining a DATA TYPE field as WORD-PROCESSING in Screen Mode 181</a></p>
<p><a href="#_Ref389631401">Figure 162: Modify File Attributes option—Editing a COMPUTED field in Screen Mode 182</a></p>
<p><a href="#_Ref343503362">Figure 163: Modify File Attributes option—Defining a DATA TYPE field as COMPUTED in Screen Mode 182</a></p>
<p><a href="#_Ref389631424">Figure 164: Modify File Attributes option—Editing a POINTER TO A FILE field in Screen Mode 183</a></p>
<p><a href="#_Ref343503374">Figure 165: Modify File Attributes option—Defining a DATA TYPE field as POINTER TO A FILE in Screen Mode 183</a></p>
<p><a href="#_Ref389631450">Figure 166: Modify File Attributes option—Editing a VARIABLE-POINTER field in Screen Mode 184</a></p>
<p><a href="#_Ref343503386">Figure 167: Modify File Attributes option—Defining a DATA TYPE field as VARIABLE-POINTER in Screen Mode 184</a></p>
<p><a href="#_Ref472426568">Figure 168: Addition/Editing of a Field of Data Type BOOLEAN 185</a></p>
<p><a href="#_Ref472426853">Figure 169: Addition/Editing of a Field of Data Type LABEL REFERENCE 186</a></p>
<p><a href="#_Ref472427068">Figure 170: Addition/editing of a field of data type TIME 187</a></p>
<p><a href="#_Ref472427412">Figure 171: Addition/Editing of a Field of Data Type YEAR 188</a></p>
<p><a href="#_Ref472427514">Figure 172: Addition/Editing of a Field of Data Type UNIVERSAL TIME 189</a></p>
<p><a href="#_Ref472427774">Figure 173: Addition/Editing of a Field of Data Type FT POINTER 190</a></p>
<p><a href="#_Ref472428138">Figure 174: Addition/Editing of a Field of Data Type FT DATE 191</a></p>
<p><a href="#_Ref472428473">Figure 175: Addition/editing of a field of data type RATIO 192</a></p>
<p><a href="#_Ref389631502">Figure 176: Modify File Attributes option—Creating a Multiple in Screen Mode 192</a></p>
<p><a href="#_Ref343503395">Figure 177: Modify File Attributes option—Defining a DATA TYPE field as a NUMERIC Multiple in Screen Mode 193</a></p>
<p><a href="#_Toc342980854">Figure 178: Modify File Attributes option—Editing a Multiple’s Subfield in Screen Mode 193</a></p>
<p><a href="#_Ref343503405">Figure 179: Modify File Attributes option—Reviewing/Editing the Properties of a Multiple Data Type Field in Screen Mode 194</a></p>
<p><a href="#_Ref389631528">Figure 180: Modify File Attributes option—Example of a .01 Subfield of a Multiple 194</a></p>
<p><a href="#_Ref343503416">Figure 181: Modify File Attributes option—Defining a Data Type field as a NUMERIC Subfield in Screen Mode 195</a></p>
<p><a href="#_Toc342980859">Figure 182: File Utilities—Editing a Traditional cross-reference (1 of 2) 199</a></p>
<p><a href="#_Toc342980860">Figure 183: File Utilities—Editing a Traditional cross-reference (2 of 2) 199</a></p>
<p><a href="#_Ref389634788">Figure 184: File Utilities—Creating a Traditional cross-reference 200</a></p>
<p><a href="#_Ref389634816">Figure 185: File Utilities—Deleting a Traditional cross-reference 200</a></p>
<p><a href="#_Toc342980864">Figure 186: File Utilities—Editing a New-Style cross-reference 203</a></p>
<p><a href="#_Ref343502336">Figure 187: File Utilities—Editing a New-Style cross-reference in Screen Mode 204</a></p>
<p><a href="#_Ref389634846">Figure 188: File Utilities—Creating a New-Style cross-reference 205</a></p>
<p><a href="#_Ref343503425">Figure 189: File Utilities—Creating a New-Style cross-reference in Screen Mode 206</a></p>
<p><a href="#_Ref389634870">Figure 190: File Utilities—Deleting a New-Style cross-reference 207</a></p>
<p><a href="#_Toc342980869">Figure 191: File Utilities—Example of setting a field as an identifier 208</a></p>
<p><a href="#_Toc342980870">Figure 192: File Utilities—Example of an identifier field displayed when doing a lookup 208</a></p>
<p><a href="#_Toc342980871">Figure 193: File Utilities—Example of a Subfield as an identifier 208</a></p>
<p><a href="#_Toc342980872">Figure 194: File Utilities—Deleting an identifier field 209</a></p>
<p><a href="#_Ref389634899">Figure 195: File Utilities—Sample dialogue when re-indexing a file 209</a></p>
<p><a href="#_Ref389629982">Figure 196: File Utilities—Choosing the Edit File option 211</a></p>
<p><a href="#_Ref245303958">Figure 197: File Utilities—Using the Edit File option in Screen Mode 212</a></p>
<p><a href="#_Toc342980876">Figure 198: File Utilities—Example of creating an OUTPUT transform 214</a></p>
<p><a href="#_Ref389630010">Figure 199: File Utilities—Example of the <em>first</em> screen of a PRINT template 215</a></p>
<p><a href="#_Ref343503446">Figure 200: File Utilities—Editing a PRINT template’s properties in Screen Mode (<em>first</em> screen) 216</a></p>
<p><a href="#_Ref343503456">Figure 201: File Utilities—Editing a PRINT template’s properties in Screen Mode (<em>second</em> screen) 216</a></p>
<p><a href="#_Toc342980880">Figure 202: File Utilities—Example of the of a SORT Template (<em>first</em> screen) 217</a></p>
<p><a href="#_Ref343503465">Figure 203: File Utilities—Editing a SORT Template’s Properties in Screen Mode (<em>first</em> screen) 218</a></p>
<p><a href="#_Ref343503475">Figure 204: File Utilities—Editing a SORT Template’s Properties in Screen Mode (<em>second</em> screen) 218</a></p>
<p><a href="#_Ref389630684">Figure 205: File Utilities—Mandatory/Required Field Check Report 219</a></p>
<p><a href="#_Toc342980884">Figure 206: File Utilities—Creating a Key 220</a></p>
<p><a href="#_Toc342980885">Figure 207: File Utilities—Creating a Key in Screen Mode 221</a></p>
<p><a href="#_Toc342980886">Figure 208: File Utilities—Creating the Uniqueness Index automatically 221</a></p>
<p><a href="#_Toc342980887">Figure 209: File Utilities—Resolving a conflict with the Key fields and Uniqueness Index 222</a></p>
<p><a href="#_Toc342980888">Figure 210: File Utilities—Editing a Key 222</a></p>
<p><a href="#_Ref389634967">Figure 211: File Utilities—Deleting a Key 223</a></p>
<p><a href="#_Ref389634953">Figure 212: File Utilities—Verifying a Key 224</a></p>
<p><a href="#_Toc342980891">Figure 213: Auditing—Audit options 225</a></p>
<p><a href="#_Ref389631587">Figure 214: Auditing—Example of a Data Field Audit 226</a></p>
<p><a href="#_Toc342980894">Figure 215: Auditing—Turning a Data Audit On 227</a></p>
<p><a href="#_Toc342980895">Figure 216: Auditing—Turning a Data Audit Off 227</a></p>
<p><a href="#_Toc472602312">Figure 217: Auditing—CAPTIONED Output with Audit Trail 228</a></p>
<p><a href="#_Toc472602313">Figure 218: Auditing—AUDIT File: Query 229</a></p>
<p><a href="#_Ref389631837">Figure 219: Auditing—AUDIT File: Output 229</a></p>
<p><a href="#_Toc342980899">Figure 220: Auditing—Sample listing showing fields flagged for auditing 230</a></p>
<p><a href="#_Ref389631876">Figure 221: Auditing—Choosing to purge only <em>selected</em> data audit records 230</a></p>
<p><a href="#_Ref386550307">Figure 222: Auditing—Listing internal entry numbers for data audit fields for possible purging 231</a></p>
<p><a href="#_Toc342980902">Figure 223: Auditing—Purging <em>selected</em> audit records from a file 231</a></p>
<p><a href="#_Ref389631915">Figure 224: Auditing—Purging <em>all</em> audit records from a file 232</a></p>
<p><a href="#_Ref389631942">Figure 225: Auditing—Choosing to review a Data Dictionary Audit 232</a></p>
<p><a href="#_Toc342980906">Figure 226: Auditing—Specifying a Data Dictionary Audit 233</a></p>
<p><a href="#_Toc342980907">Figure 227: Auditing—Reviewing a Data Dictionary Audit 233</a></p>
<p><a href="#_Ref462316616">Figure 228: Auditing—Reviewing DD Changes for Time Period 234</a></p>
<p><a href="#_Ref389631978">Figure 229: Auditing—Purging <em>selected</em> Data Dictionary Audit records 235</a></p>
<p><a href="#_Ref389632031">Figure 230: Auditing—Purging <em>all</em> Data Dictionary Audit records 235</a></p>
<p><a href="#_Ref462318461">Figure 231: Auditing—Auditable Word Processing Fields 236</a></p>
<p><a href="#_Ref462319266">Figure 232: Auditing—+Uneditable Data 236</a></p>
<p><a href="#_Ref462319281">Figure 233: Auditing—Sample User Access Report 237</a></p>
<p><a href="#_Ref389631613">Figure 234: Transferring File Entries—Transferring data within a file 242</a></p>
<p><a href="#_Ref389631638">Figure 235: Transferring File Entries—Example displaying two records in a file <em>prior</em> to a transfer 243</a></p>
<p><a href="#_Ref389631666">Figure 236: Transferring File Entries—Initiating a transfer of file entries 243</a></p>
<p><a href="#_Toc342980916">Figure 237: Transferring File Entries—Results <em>after</em> a transfer of file entries 243</a></p>
<p><a href="#_Toc342980917">Figure 238: Transferring File Entries—Transferring entries from one file to another 244</a></p>
<p><a href="#_Toc342980918">Figure 239: Transferring File Entries—Selecting specific entries for transfer 245</a></p>
<p><a href="#_Ref389630685">Figure 240: Transferring File Entries—Using the Transfer File Entries option to create a new file 245</a></p>
<p><a href="#_Ref389631690">Figure 241: Transferring File Entries—Selecting entries to compare in a file (1 of 2) 246</a></p>
<p><a href="#_Toc342980921">Figure 242: Transferring File Entries—Selecting entries to compare in a file (2 of 2) 246</a></p>
<p><a href="#_Toc342980922">Figure 243: Transferring File Entries—Comparison output 247</a></p>
<p><a href="#_Toc342980923">Figure 244: Transferring File Entries—Merging entries in a file 247</a></p>
<p><a href="#_Toc342980924">Figure 245: Transferring File Entries—Choosing which file entry will serve as the default entry 248</a></p>
<p><a href="#_Ref452362996">Figure 246: Transferring File Entries—Deleting the “Merged From” file entry 248</a></p>
<p><a href="#_Toc342980926">Figure 247: Transferring File Entries—Setting up the merge output 248</a></p>
<p><a href="#_Ref452362952">Figure 248: Transferring File Entries—Merge output (1 of 2) 249</a></p>
<p><a href="#_Toc342980928">Figure 249: Transferring File Entries—Merge output (2 of 2) 250</a></p>
<p><a href="#_Toc342980929">Figure 250: Transferring File Entries—Merge options 250</a></p>
<p><a href="#_Toc342980930">Figure 251: Transferring File Entries—Merge PROCEED option 251</a></p>
<p><a href="#_Ref389630686">Figure 252: Transferring File Entries—Merge SUMMARIZE option 251</a></p>
<p><a href="#_Ref389630687">Figure 253: Extract Tool—Options 257</a></p>
<p><a href="#_Toc342980934">Figure 254: Extract Tool—Search, Sort, and Print options when selecting entries to extract 258</a></p>
<p><a href="#_Toc342980935">Figure 255: Extract Tool—Select entries to extract output 259</a></p>
<p><a href="#_Ref389635027">Figure 256: Extract Tool—Example of a notice regarding an outstanding extract activity 259</a></p>
<p><a href="#_Ref389632160">Figure 257: Extract Tool—Using the ADD/DELETE SELECTED ENTRIES option 260</a></p>
<p><a href="#_Ref389631788">Figure 258: Extract Tool—Using the PRINT SELECTED ENTRIES option 261</a></p>
<p><a href="#_Toc342980939">Figure 259: Extract Tool—PRINT SELECTED ENTRIES option output 261</a></p>
<p><a href="#_Ref389630688">Figure 260: Extract Tool—Using the MODIFY DESTINATION FILE option (1 of 2) 262</a></p>
<p><a href="#_Toc342980941">Figure 261: Extract Tool—Using the MODIFY DESTINATION FILE option (2 of 2) 262</a></p>
<p><a href="#_Toc342980942">Figure 262: Extract Tool—Using the CREATE EXTRACT TEMPLATE option 264</a></p>
<p><a href="#_Ref389632204">Figure 263: Extract Tool—Example of a notice regarding a discrepancy 264</a></p>
<p><a href="#_Ref389630689">Figure 264: Extract Tool—Example of the warning message when the validation check fails 265</a></p>
<p><a href="#_Ref389630690">Figure 265: Extract Tool—Using the UPDATE DESTINATION FILE option 265</a></p>
<p><a href="#_Ref389632252">Figure 266: Extract Tool—Exception Report 266</a></p>
<p><a href="#_Toc342980947">Figure 267: Extract Tool—Using the PURGE EXTRACTED ENTRIES option (1 of 2) 267</a></p>
<p><a href="#_Ref451589780">Figure 268: Extract Tool—Using the PURGE EXTRACTED ENTRIES option (2 of 2) 267</a></p>
<p><a href="#_Ref389632299">Figure 269: Extract Tool—Using the CANCEL EXTRACT SELECTION option 268</a></p>
<p><a href="#_Ref389629479">Figure 270: Extract Tool—Using the VALIDATE EXTRACT TEMPLATE option 269</a></p>
<p><a href="#_Ref389632332">Figure 271: Filegrams—Creating a FILEGRAM template (1 of 3) 271</a></p>
<p><a href="#_Ref389632358">Figure 272: Filegrams—Creating a FILEGRAM template (2 of 3) 271</a></p>
<p><a href="#_Ref389632410">Figure 273: Filegrams—Creating a FILEGRAM template (3 of 3) 272</a></p>
<p><a href="#_Ref389629524">Figure 274: Filegrams—FILEGRAM Template output 273</a></p>
<p><a href="#_Toc342980955">Figure 275: Filegrams—Example of creating a specifier (1 of 2) 274</a></p>
<p><a href="#_Ref389632440">Figure 276: Filegrams—Example of creating a specifier (2 of 2) 274</a></p>
<p><a href="#_Toc342980957">Figure 277: Filegrams—Deleting a specifier 274</a></p>
<p><a href="#_Ref389632473">Figure 278: Filegrams—Example of generating a Filegram 275</a></p>
<p><a href="#_Ref389630691">Figure 279: Filegrams—Example of a Filegram received and forwarded 276</a></p>
<p><a href="#_Ref389630950">Figure 280: Filegrams—Example of a simple Filegram (<em>without</em> pointers) 277</a></p>
<p><a href="#_Ref389632498">Figure 281: Filegrams—Deleting a Filegram 278</a></p>
<p><a href="#_Toc342980962">Figure 282: Archiving—Options 281</a></p>
<p><a href="#_Toc342980963">Figure 283: Archiving—Example of selecting entries to archive 282</a></p>
<p><a href="#_Toc342980964">Figure 284: Archiving—Example of a notice regarding an outstanding archiving activity 283</a></p>
<p><a href="#_Ref389630696">Figure 285: Archiving—Example of adding an entry to the Archival Activity 283</a></p>
<p><a href="#_Ref389631009">Figure 286: Archiving—Printing an Archival Activity in a regular format 284</a></p>
<p><a href="#_Ref389630723">Figure 287: Archiving—Printing an Archival Activity in a Filegram format 284</a></p>
<p><a href="#_Ref389630745">Figure 288: Archiving—Example of creating a Filegram Archiving template 285</a></p>
<p><a href="#_Ref389632526">Figure 289: Archiving—Example of writing entries to <em>temporary</em> storage 286</a></p>
<p><a href="#_Toc342980970">Figure 290: Archiving—Example of moving archived data to <em>permanent</em> storage 288</a></p>
<p><a href="#_Ref389630768">Figure 291: Archiving—Example of an Archive Activity Report 289</a></p>
<p><a href="#_Ref389632562">Figure 292: Archiving—Example of a notice from VA FileMan when purging without archiving data 289</a></p>
<p><a href="#_Ref389632595">Figure 293: Archiving—Example of purging permanently archived data 290</a></p>
<p><a href="#_Toc342980974">Figure 294: Archiving—VA FileMan notifies you of the number of entries purged 290</a></p>
<p><a href="#_Ref389632644">Figure 295: Archiving—Canceling an archival activity 290</a></p>
<p><a href="#_Ref451669432">Figure 296: Archiving—Example of finding archived entries 291</a></p>
<p><a href="#_Toc472602392">Figure 297: Meta Data Dictionary Example Entry for File 200, Field .01 293</a></p>
<p><span id="_Toc472601835" class="anchor"></span>List of Tables</p>
<p><a href="#_Ref386465892">Table 1: Documentation Symbol Descriptions xxvi</a></p>
<p><a href="#_Ref386465924">Table 2: Import and Export Tools—Foreign format field prompts 8</a></p>
<p><a href="#_Ref389633086">Table 3: Import and Export Tools—Allowable sort qualifiers when exporting data 11</a></p>
<p><a href="#_Ref462325028">Table 4: Relational Navigation—Relational jumps that correspond to extended pointer syntax 39</a></p>
<p><a href="#_Ref386465948">Table 5: Advanced Edit Techniques—Edit Qualifiers 55</a></p>
<p><a href="#_Ref447356295">Table 6: Advanced Edit Techniques—Text formatting expressions in word-processing windows 58</a></p>
<p><a href="#_Ref462326564">Table 7: Computed Expressions—Unary Operators 61</a></p>
<p><a href="#_Ref389633391">Table 8: Computed Expressions—Binary Operators 61</a></p>
<p><a href="#_Ref389718192">Table 9: Computed Expressions—Boolean Operators 62</a></p>
<p><a href="#_Toc342980686">Table 10: Computed Expressions—Example Indicating Possible Results of Computed Expression Based on Different Entries to “Totaling” Prompt 66</a></p>
<p><a href="#_Ref389633983">Table 11: VA FileMan Functions—Documentation Conventions 73</a></p>
<p><a href="#_Ref447441381">Table 12: VA FileMan Functions—By Category 74</a></p>
<p><a href="#_Toc342980698">Table 13: VA FileMan Functions—Date/Time Function: BETWEEN 76</a></p>
<p><a href="#_Toc342980699">Table 14: VA FileMan Functions—Date/Time Function: DATE 76</a></p>
<p><a href="#_Toc342980700">Table 15: VA FileMan Functions—Date/Time Function: DAYOFWEEK 77</a></p>
<p><a href="#_Toc342980701">Table 16: VA FileMan Functions—Date/Time Function: MID 77</a></p>
<p><a href="#_Toc342980702">Table 17: VA FileMan Functions—Date/Time Function: MINUTES 78</a></p>
<p><a href="#_Toc342980703">Table 18: VA FileMan Functions—Date/Time Function: MONTH 78</a></p>
<p><a href="#_Toc342980704">Table 19: VA FileMan Functions—Date/Time Function: MONTHNAME 78</a></p>
<p><a href="#_Toc342980705">Table 20: VA FileMan Functions—Date/Time Function: —NOON 79</a></p>
<p><a href="#_Toc342980706">Table 21: VA FileMan Functions—Date/Time Function: NOW 79</a></p>
<p><a href="#_Toc342980707">Table 22: VA FileMan Functions—Date/Time Function: NUMDATE 80</a></p>
<p><a href="#_Toc342980708">Table 23: VA FileMan Functions—Date/Time Function: NUMDATE4 80</a></p>
<p><a href="#_Toc342980709">Table 24: VA FileMan Functions—Date/Time Function: NUMDAY 80</a></p>
<p><a href="#_Toc342980710">Table 25: VA FileMan Functions—Date/Time Function: NUMMONTH 81</a></p>
<p><a href="#_Toc342980711">Table 26: VA FileMan Functions—Date/Time Function: NUMYEAR 81</a></p>
<p><a href="#_Toc342980712">Table 27: VA FileMan Functions—Date/Time Function: NUMYEAR4 81</a></p>
<p><a href="#_Toc342980713">Table 28: VA FileMan Functions—Date/Time Function: RANGEDATE 82</a></p>
<p><a href="#_Toc342980714">Table 29: VA FileMan Functions—Date/Time Function: TIME 82</a></p>
<p><a href="#_Toc342980715">Table 30: VA FileMan Functions—Date/Time Function: TODAY 82</a></p>
<p><a href="#_Toc342980716">Table 31: VA FileMan Functions—Date/Time Function: YEAR 83</a></p>
<p><a href="#_Toc342980717">Table 32: VA FileMan Functions—Environmental Function: BREAKABLE 83</a></p>
<p><a href="#_Toc342980718">Table 33: VA FileMan Functions—Environmental Function: CLOSE 84</a></p>
<p><a href="#_Toc342980719">Table 34: VA FileMan Functions—Environmental Function: SITENUMBER 84</a></p>
<p><a href="#_Toc342980720">Table 35: VA FileMan Functions—Environmental Function: USER 85</a></p>
<p><a href="#_Toc342980721">Table 36: VA FileMan Functions—File and File Data Function: COUNT 86</a></p>
<p><a href="#_Toc342980722">Table 37: VA FileMan Functions—File and File Data Function: DUPLICATED 87</a></p>
<p><a href="#_Toc342980723">Table 38: VA FileMan Functions—File and File Data Function: FILE 88</a></p>
<p><a href="#_Toc342980724">Table 39: VA FileMan Functions—File and File Data Function: INTERNAL 88</a></p>
<p><a href="#_Toc342980725">Table 40: VA FileMan Functions—File and File Data Function: LAST 89</a></p>
<p><a href="#_Toc342980726">Table 41: VA FileMan Functions—File and File Data Function: MAXIMUM 89</a></p>
<p><a href="#_Toc342980727">Table 42: VA FileMan Functions—File and File Data Function: MINIMUM 90</a></p>
<p><a href="#_Toc342980728">Table 43: VA FileMan Functions—File and File Data Function: nTH 91</a></p>
<p><a href="#_Toc342980729">Table 44: VA FileMan Functions—File and File Data Function: NEXT 91</a></p>
<p><a href="#_Toc342980730">Table 45: VA FileMan Functions—File and File Data Function: PREVIOUS 92</a></p>
<p><a href="#_Toc342980731">Table 46: VA FileMan Functions—File and File Data Function: TOTAL 92</a></p>
<p><a href="#_Toc342980732">Table 47: VA FileMan Functions—Mathematical Function: ABS 93</a></p>
<p><a href="#_Toc342980733">Table 48: VA FileMan Functions—Mathematical Function: BETWEEN 93</a></p>
<p><a href="#_Toc342980734">Table 49: VA FileMan Functions—Mathematical Function: MAX 94</a></p>
<p><a href="#_Toc342980735">Table 50: VA FileMan Functions—Mathematical Function: MIN 94</a></p>
<p><a href="#_Toc342980736">Table 51: VA FileMan Functions—Mathematical Function: MODULO 95</a></p>
<p><a href="#_Toc342980737">Table 52: VA FileMan Functions—Mathematical Function: SQUAREROOT 95</a></p>
<p><a href="#_Toc342980738">Table 53: VA FileMan Functions—Printing Related Function: IOM 96</a></p>
<p><a href="#_Toc342980739">Table 54: VA FileMan Functions—Printing Related Function: PAGE 96</a></p>
<p><a href="#_Toc342980740">Table 55: VA FileMan Functions—String Function: DUP 97</a></p>
<p><a href="#_Toc342980741">Table 56: VA FileMan Functions—String Function: LOWERCASE 97</a></p>
<p><a href="#_Toc342980742">Table 57: VA FileMan Functions—String Function: PADRIGHT 98</a></p>
<p><a href="#_Toc342980743">Table 58: VA FileMan Functions—String Function: REPLACE 98</a></p>
<p><a href="#_Toc342980744">Table 59: VA FileMan Functions—String Function: REVERSE 99</a></p>
<p><a href="#_Toc342980745">Table 60: VA FileMan Functions—String Function: STRIPBLANKS 99</a></p>
<p><a href="#_Toc342980746">Table 61: VA FileMan Functions—String Function: TRANSLATE 99</a></p>
<p><a href="#_Toc342980747">Table 62: VA FileMan Functions—String Function: UPPERCASE 100</a></p>
<p><a href="#_Toc342980748">Table 63: VA FileMan Functions—Temporary Data Storage Function: PARAM 100</a></p>
<p><a href="#_Toc342980749">Table 64: VA FileMan Functions—Temporary Data Storage Function: SETPARAM 101</a></p>
<p><a href="#_Toc342980750">Table 65: VA FileMan Functions—Temporary Data Storage Function: VAR 101</a></p>
<p><a href="#_Toc342980751">Table 66: VA FileMan Functions—Temporary Data Storage Function: SET 102</a></p>
<p><a href="#_Toc342980752">Table 67: VA FileMan Functions—M-Related Function: $A[SCII] 102</a></p>
<p><a href="#_Toc342980753">Table 68: VA FileMan Functions—M-Related Function: $C[HAR] 103</a></p>
<p><a href="#_Ref462326565">Table 69: VA FileMan Functions—M-Related Function: $E[XTRACT] 103</a></p>
<p><a href="#_Toc342980755">Table 70: VA FileMan Functions—M-Related Function: $F[IND] 104</a></p>
<p><a href="#_Toc342980756">Table 71: VA FileMan Functions—M-Related Function: $H[OROLOG] 104</a></p>
<p><a href="#_Toc342980757">Table 72: VA FileMan Functions—M-Related Function: $I[O] 105</a></p>
<p><a href="#_Toc342980758">Table 73: VA FileMan Functions—M-Related Function: $J[OB] 105</a></p>
<p><a href="#_Toc342980759">Table 74: VA FileMan Functions—M-Related Function: $J[USTIFY] 106</a></p>
<p><a href="#_Toc342980760">Table 75: VA FileMan Functions—M-Related Function: $L[ENGTH] 106</a></p>
<p><a href="#_Toc342980761">Table 76: VA FileMan Functions—M-Related Function: $P[IECE] 107</a></p>
<p><a href="#_Toc342980762">Table 77: VA FileMan Functions—M-Related Function: $R[ANDOM] 107</a></p>
<p><a href="#_Toc342980763">Table 78: VA FileMan Functions—M-Related Function: $S[ELECT] 108</a></p>
<p><a href="#_Toc342980764">Table 79: VA FileMan Functions—M-Related Function: $S[TORAGE] 108</a></p>
<p><a href="#_Toc342980765">Table 80: VA FileMan Functions—M-Related Function: $X 109</a></p>
<p><a href="#_Toc342980766">Table 81: VA FileMan Functions—M-Related Function: $Y 109</a></p>
<p><a href="#_Ref389634022">Table 82: Statistics—Descriptive Statistics Qualifiers 110</a></p>
<p><a href="#_Toc342980772">Table 83: Statistics—Histogram Qualifiers 114</a></p>
<p><a href="#_Ref388450930">Table 84: System Management—%ZIS variables returned 119</a></p>
<p><a href="#_Ref447500505">Table 85: System Management—%ZISS variables returned 120</a></p>
<p><a href="#_Ref389634139">Table 86: System Management—Optimal procedures for screen-oriented utilities: Based on terminal type 123</a></p>
<p><a href="#_Ref447502813">Table 87: System Management—NEW PERSON file (#200) fields that enhance standalone VA FileMan 124</a></p>
<p><a href="#_Ref462324079">Table 88: System Management—NEW PERSON file (#200) fields to define key variables in VA FileMan 125</a></p>
<p><a href="#_Ref389662098">Table 89: System Management—Description of the ^%ZOSF nodes 126</a></p>
<p><a href="#_Ref447511579">Table 90: List File Attributes—Condensed Data Dictionary Codes 136</a></p>
<p><a href="#_Ref389634414">Table 91: Creating Files and Fields—Data Types 156</a></p>
<p><a href="#_Ref447598334">Table 92: File Utilities—Traditional Cross-references 198</a></p>
<p><a href="#_Ref451240507">Table 93: File Utilities—X, X1, and X2 Arrays 202</a></p>
<p><a href="#_Toc342980892">Table 94: Auditing—”AUDIT” prompt response 226</a></p>
<p><a href="#_Ref389632076">Table 95: Data Security—File Access Codes 239</a></p>
<p><a href="#_Toc342980912">Table 96: Data Security—Field Access Codes 240</a></p>
<p><a href="#_Ref451585774">Table 97: Extract Tool—DATA TYPE field value recommendations 255</a></p>
<p><a href="#_Toc472602490">Table 98: Glossary 294</a></p>
<p><span id="_Hlt446130591" class="anchor"></span>Orientation</p>
<p>What is VA FileMan?</p>
<p>VA FileMan is the database management system for the Veterans Health Information Systems and Technology Architecture user (VistA) environment. VA FileMan creates and maintains a database management system that includes features such as:</p>
<ul>
<li><p>A report writer</p></li>
<li><p>A data dictionary manager</p></li>
<li><p>Scrolling and screen-oriented data entry</p></li>
<li><p>Text editors</p></li>
<li><p>Programming utilities</p></li>
<li><p>Tools for sending data to other systems</p></li>
<li><p>File archiving</p></li>
</ul>
<p>VA FileMan can be used as a standalone database, as a set of interactive or “silent” routines, or as a set of application utilities; in all modes, it is used to define, enter, and retrieve information from a set of computer-stored files, each of which is described by a data dictionary.</p>
<p>VA FileMan is a public domain software package that is developed and maintained by the Department of Veterans Affairs. It is widely used by VA medical centers and in clinical, administrative, and business settings in this country and abroad.</p>
<p>CAUTION: Programmer access in VistA is defined as DUZ(0)=“@”. It grants the privilege to become a developer in VistA. Programmer access allows you to work outside many of the security controls enforced by VA FileMan, enables access to all VA FileMan files, access to modify data dictionaries, etc. It is important to <em>proceed with caution</em> when having access to the system in this way.</p>
<p>How to Use this Manual</p>
<p>The <em>VA FileMan Advanced User Manual</em> describes the “<em>how to</em>” information of the VA FileMan functionality, VistA’s database management system. The features of VA FileMan are used throughout most VistA applications.</p>
<p>This manual shows how to use the features of VA FileMan that are likely to be used by experienced VistA users. It introduces advanced VA FileMan concepts, and shows you how to use VA FileMan’s advanced tools.</p>
<p>The <em>VA FileMan User Manual</em> is comprised of two separate documents:</p>
<ul>
<li><p>The <em>VA FileMan Advanced User Manual</em> (this manual) describes features that are more likely to be used by:</p></li>
</ul>
<ul>
<li><p>Automated Data Processing Application Coordinators (ADPACs)</p></li>
<li><p>Information Resource Management (IRM) staff</p></li>
<li><p>Other technical users</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This document is available in Microsoft Word (.docx), Adobe Acrobat Portable Document Format (PDF), and Hypertext Markup Language (HTML) format (see the “<a href="#_Toc446123252">HTML Manuals</a>” section).</p>
<ul>
<li><p>The <em>VA FileMan User Manual</em> shows how to use VA FileMan features that are likely to be used by <em>all</em> VistA users.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This document is available in Microsoft Word (.docx), Adobe Acrobat Portable Document Format (PDF), and Hypertext Markup Language (HTML) format (see the “<a href="#_Toc446123252">HTML Manuals</a>” section).</p>
<p>In this manual, the following major features of VA FileMan are introduced along with a description on how to use them:</p>
<ul>
<li><p><span class="underline">Import and Export Tools</span>.</p></li>
<li><p><span class="underline">Relational Navigation</span>.</p></li>
<li><p><span class="underline">Advanced Edit Techniques</span>.</p></li>
<li><p><span class="underline">Computed Expressions</span>.</p></li>
<li><p><span class="underline">VA FileMan Functions</span>.</p></li>
<li><p><span class="underline">Statistics</span>.</p></li>
<li><p><span class="underline">System Management</span>.</p></li>
<li><p><span class="underline">List File Attributes</span>.</p></li>
<li><p><span class="underline">Creating Files and Fields</span>.</p></li>
<li><p><span class="underline">File Utilities</span>.</p></li>
<li><p><span class="underline">Auditing</span>.</p></li>
<li><p><span class="underline">Data Security</span>.</p></li>
<li><p><span class="underline">Transferring File Entries</span>.</p></li>
<li><p><span class="underline">Extract Tool</span>.</p></li>
<li><p><span class="underline">Filegrams</span>.</p></li>
<li><p><span class="underline">Archiving</span>.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For VA FileMan installation instructions in the VistA environment see the <em>VA FileMan Installation Guide</em> and any national patch description of the patch being released.</p>
<p><span id="_Toc446123252" class="anchor"></span>HTML Manuals</p>
<p>Why produce an HTML (Hypertext Markup Language) edition of the VA FileMan User Manual?</p>
<ul>
<li><p>The HTML versions of the VA FileMan manuals are useful as online documentation support as you use VA FileMan. HTML manuals allow you to instantly jump (link) to specific topics or references online.</p></li>
<li><p>The VA FileMan HTML manuals are “living” documents that are continuously updated with the most current VA FileMan information (unlike paper or printed documentation). They are updated based on new versions, patches, or enhancements to VA FileMan.</p></li>
<li><p>Presenting manuals in an HTML format on a Web server also gives new opportunities, such as accessing embedded multimedia training material (e.g., movies) directly in the manuals themselves.</p></li>
<li><p>Manuals are accessible over the VA Intranet network.</p></li>
</ul>
<p>Intended Audience</p>
<p>The intended audience of this manual is all key stakeholders. The stakeholders include the following:</p>
<ul>
<li><p>Automated Data Processing Application Coordinators (ADPACs)</p></li>
<li><p>Information Resource Management (IRM)—System administrators at Department of Veterans Affairs (VA) sites who are responsible for computer management and system security on the VistA M Servers.</p></li>
<li><p>Product Development (PD)—VistA legacy development teams.</p></li>
<li><p>Product Support (PS).</p></li>
</ul>
<p>Disclaimers</p>
<p>Software Disclaimer</p>
<p>This software was developed at the Department of Veterans Affairs (VA) by employees of the Federal Government in the course of their official duties. Pursuant to title 17 Section 105 of the United States Code this software is <em>not</em> subject to copyright protection and is in the public domain. VA assumes no responsibility whatsoever for its use by other parties, and makes no guarantees, expressed or implied, about its quality, reliability, or any other characteristic. We would appreciate acknowledgement if the software is used. This software can be redistributed and/or modified freely provided that any derivative works bear some notice that they are derived from it, and any modified versions bear some notice that they have been modified.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: To protect the security of V<em>ist</em>A systems, distribution of this software for use on any other computer system by V<em>ist</em>A sites is prohibited. All requests for copies of Kernel for <em>non</em>-V<em>ist</em>A use should be referred to the VistA site’s local Office of Information Field Office (OIFO).</p>
<p>Documentation Disclaimer</p>
<p>This manual provides an overall explanation of VA FileMan and the functionality contained in VA FileMan 22.0; however, no attempt is made to explain how the overall VistA programming system is integrated and maintained. Such methods and procedures are documented elsewhere. We suggest you look at the various VA Internet and Intranet Websites for a general orientation to VistA. For example, visit the Office of Information and Technology (OI&amp;T) VistA Development Intranet website.</p>
<p><img src="./media/image4.png" title="Caution" alt="Caution" style="width:0.44792in;height:0.44792in" /> DISCLAIMER: The appearance of any external hyperlink references in this manual does <em>not</em> constitute endorsement by the Department of Veterans Affairs (VA) of this Website or the information, products, or services contained therein. The VA does <em>not</em> exercise any editorial control over the information you find at these locations. Such links are provided and are consistent with the stated purpose of this VA Intranet Service.</p>
<p>Documentation Conventions</p>
<p>This manual uses several methods to highlight different aspects of the material:</p>
<ul>
<li><p>Various symbols are used throughout the documentation to alert the reader to special information. <span class="underline">Table 1</span> gives a description of each of these symbols:</p></li>
</ul>
<p><span id="_Ref386465892" class="anchor"></span>Table 1: Documentation Symbol Descriptions</p>
<table>
<tbody>
<tr class="odd">
<td>Symbol</td>
<td>Description</td>
</tr>
<tr class="even">
<td><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /></td>
<td><strong>NOTE / REF:</strong> Used to inform the reader of general information including references to additional reading material.</td>
</tr>
<tr class="odd">
<td><img src="./media/image4.png" alt="Caution" style="width:0.45833in;height:0.45833in" /></td>
<td><strong>CAUTION / RECOMMENDATION / DISCLAIMER:</strong> Used to caution the reader to take special notice of critical information.</td>
</tr>
<tr class="even">
<td></td>
<td><strong>TIP:</strong> Used to inform the reader of helpful tips or tricks they can use when working with VA FileMan.</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Descriptive text is presented in a proportional font (as represented by this font).</p></li>
<li><p>Conventions for displaying TEST data in this document are as follows:</p></li>
</ul>
<ul>
<li><p>The first three digits (prefix) of any Social Security Numbers (SSN) begin with either “000” or “666”.</p></li>
<li><p>Patient and user names are formatted as follows:</p></li>
</ul>
<ul>
<li><blockquote>
<p><em>&lt;Application Name/Abbreviation/Namespace&gt;</em>PATIENT,<em>&lt;N&gt;</em></p>
</blockquote></li>
<li><blockquote>
<p><em>&lt;Application Name/Abbreviation/Namespace&gt;</em>USER,<em>&lt;N&gt;</em></p>
</blockquote></li>
</ul>
<p>Where:</p>
<ul>
<li><blockquote>
<p><em>&lt;Application Name/Abbreviation/Namespace&gt;</em> is defined in the Approved Application Abbreviations document.</p>
</blockquote></li>
<li><blockquote>
<p><em>&lt;N&gt;</em> represents the first name as a number spelled out and incremented with each new entry.</p>
</blockquote></li>
</ul>
<p>For example, in Kernel (DI or FM) test patient and user names would be documented as follows:</p>
<p>FMPATIENT,ONE; FMPATIENT,TWO; FMPATIENT,THREE; … FMPATIENT,14; etc.</p>
<p>FMUSER,ONE; FMUSER,TWO; FMUSER,THREE; … FMUSER,14; etc.</p>
<ul>
<li><p>“Snapshots” of computer online displays (i.e., screen captures/dialogues) and computer source code, if any, are shown in a <em>non</em>-proportional font and enclosed within a box.</p></li>
</ul>
<ul>
<li><p>User’s responses to online prompts are <strong>bold</strong> typeface and highlighted in yellow (e.g., <strong>&lt;Enter&gt;</strong>).</p></li>
<li><p>Emphasis within a dialogue box is <strong>bold</strong> typeface and highlighted in blue (e.g., STANDARD LISTENER: RUNNING).</p></li>
<li><p>Some software code reserved/key words are <strong>bold</strong> typeface with alternate color font.</p></li>
<li><p>References to “<strong>&lt;Enter&gt;</strong>” within these snapshots indicate that the user should press the <strong>Enter</strong> key on the keyboard. Other special keys are represented within <strong>&lt; &gt;</strong> angle brackets. For example, pressing the <strong>PF1</strong> key can be represented as pressing <strong>&lt;PF1&gt;</strong>.</p></li>
<li><p>Author’s comments are displayed in italics or as “callout” boxes.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Callout boxes refer to labels or descriptions usually enclosed within a box, which point to specific areas of a displayed image.</p>
<ul>
<li><p>All uppercase is reserved for the representation of M code, variable names, or the formal name of options, field/file names, and security keys (e.g., DIEXTRACT).</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Other software code (e.g., Delphi/Pascal and Java) variable names and file/folder names can be written in lower or mixed case (e.g., CamelCase).</p>
<p>Documentation Navigation</p>
<p>This document uses Microsoft® Word’s built-in navigation for internal hyperlinks. To add <strong>Back</strong> and <strong>Forward</strong> navigation buttons to your toolbar, do the following:</p>
<ol type="1">
<li><p>Right-click anywhere on the customizable Toolbar in Word (<em>not</em> the Ribbon section).</p></li>
<li><p>Select <strong>Customize Quick Access Toolbar</strong> from the secondary menu.</p></li>
<li><p>Select the drop-down arrow in the “Choose commands from:” box.</p></li>
<li><p>Select <strong>All Commands</strong> from the displayed list.</p></li>
<li><p>Scroll through the command list in the left column until you see the <strong>Back</strong> command (green circle with arrow pointing left).</p></li>
<li><p>Select/Highlight the <strong>Back</strong> command and select <strong>Add</strong> to add it to your customized toolbar.</p></li>
<li><p>Scroll through the command list in the left column until you see the <strong>Forward</strong> command (green circle with arrow pointing right).</p></li>
<li><p>Select/Highlight the Forward command and select <strong>Add</strong> to add it to your customized toolbar.</p></li>
<li><p>Select <strong>OK</strong>.</p></li>
</ol>
<p>You can now use these <strong>Back</strong> and <strong>Forward</strong> command buttons in your Toolbar to navigate back and forth in your Word document when clicking on hyperlinks within the document.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This is a one-time setup and is automatically available in any other Word document once you install it on the Toolbar.</p>
<p>How to Obtain Technical Information Online</p>
<p>Exported VistA M Server-based software file, routine, and global documentation can be generated through the use of Kernel, MailMan, and VA FileMan utilities.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <em><strong>NOTE:</strong></em> Methods of obtaining specific technical information online is indicated where applicable under the appropriate topic.<br />
<br />
<strong>REF:</strong> For further information, see the <em>VA FileMan Technical Manual</em>.</p>
<p>Help at Prompts</p>
<p>VistA M Server-based software provides online help and commonly used system default prompts. Users are encouraged to enter question marks at any response prompt. At the end of the help display, you are immediately returned to the point from which you started. This is an easy way to learn about any aspect of the software.</p>
<p>Obtaining Data Dictionary Listings</p>
<p>Technical information about VistA M Server-based files and the fields in files is stored in data dictionaries (DD). You can use the List File Attributes option [DILIST] on the Data Dictionary Utilities menu [DI DDU] in VA FileMan to print formatted data dictionaries.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <em><strong>REF:</strong></em> For details about obtaining data dictionaries and about the formats available, see the “<span class="underline">List File Attributes</span>” section.</p>
<p>Assumptions</p>
<p>This manual is written with the assumption that the reader is familiar with the following:</p>
<ul>
<li><p><strong>VistA</strong> computing environment:</p></li>
</ul>
<ul>
<li><p>Kernel—VistA M Server software</p></li>
<li><p>VA FileMan data structures and terminology—VistA M Server software</p></li>
</ul>
<ul>
<li><p>Microsoft<sup>®</sup> Windows environment</p></li>
<li><p>M programming language</p></li>
</ul>
<p>Reference Materials</p>
<p>Readers who wish to learn more about VA FileMan should consult the following documents:</p>
<ul>
<li><p><em>VA FileMan Release Notes</em></p></li>
<li><p><em>VA FileMan Installation Guide</em></p></li>
<li><p><em>VA FileMan Technical Manual</em></p></li>
<li><p><em>VA FileMan User Manual</em> (PDF and HTML format)</p></li>
<li><p><em>VA FileMan Advanced User Manual</em> (this manual; PDF and HTML format)</p></li>
<li><p><em>VA FileMan Developer’s Guide</em> (PDF and HTML format)</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Zip files of the VA FileMan documentation in HTML format are located on the VA FileMan Intranet Product website and VDL at: <a href="http://www.va.gov/vdl/application.asp?appid=5">http://www.va.gov/vdl/application.asp?appid=5</a>.<br />
<br />
Using a Web browser, open the <strong>HTML</strong> documents “table of contents” page (i.e., index.shtml). The <em>VA FileMan User Manual</em>, the <em>VA FileMan Advanced User Manual</em>, and the <em>VA FileMan Developer’s Guide</em> are all linked together.</p>
<p>VistA documentation is made available online in Microsoft<sup>®</sup> Word format and in Adobe<sup>®</sup> Acrobat Portable Document Format (PDF). The PDF documents <em>must</em> be read using the Adobe<sup>®</sup> Acrobat Reader, which is freely distributed by Adobe<sup>®</sup> Systems Incorporated at: <a href="http://www.adobe.com/">http://www.adobe.com/</a></p>
<p><strong>VistA software</strong> documentation can be downloaded from the <strong>VA Software Document Library</strong> (VDL) at: <a href="http://www.va.gov/vdl/">http://www.va.gov/vdl/</a></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> VA FileMan manuals are located on the VDL at: <a href="http://www.va.gov/vdl/application.asp?appid=5">http://www.va.gov/vdl/application.asp?appid=5</a></p>
<p>VistA documentation and software can also be downloaded from the <strong>Product</strong> Support (PS) Anonymous Directories.</p>

<h1 id="import-and-export-tools">Import and Export Tools</h1>
<p>If you want to use an application like Microsoft<sup>®</sup> Excel to manipulate data stored in a VA FileMan file, you need some way to exchange that data between VA FileMan and your application. VA FileMan provides the Import and Export Tools for this purpose.</p>
<p>Suppose, for example, that you want to use Microsoft<sup>®</sup> Word’s Print Merge utility to print a form letter to a list of recipients that is maintained in a VA FileMan file. You can use VA FileMan’s <strong>Export Tool</strong> to export the list of recipients from the VA FileMan file to Microsoft<sup>®</sup> Word. Once you have done this, you can use Word to generate your form letters based on the exported list.</p>
<h2 id="what-applications-can-you-exchange-data-with">What Applications Can You Exchange Data With?</h2>
<p>In theory, you can exchange data with any application that supports delimited or fixed-length ASCII data exchange. Many applications do, using a variety of formats. Typically, you can expect the ability to import and export data with the following types of applications:</p>
<ul>
<li><p>Databases</p></li>
<li><p>Spreadsheets</p></li>
<li><p>Statistical and Analysis Programs (SAS, SPSS, etc.)</p></li>
<li><p>Vertical Applications</p></li>
<li><p>Word Processor (data records, <em>not</em> word-processing text)</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <em><strong>NOTE:</strong></em> You can export data records to a word-processor, which often uses data records for functions such as print merges. You <em>cannot</em> use the Import or Export Tools to exchange word-processing fields from VA FileMan files, however.</p>
<h2 id="how-data-is-moved-between-applications">How Data is Moved between Applications</h2>
<p>Movement of data between applications that do <em>not</em> “speak the same language” is a complex process, because it involves coordinating activities in different computer applications and often in multiple computing environments.</p>
<p>VA FileMan’s <strong>Import</strong> and <strong>Export Tools</strong> use ASCII data exchange. It is the oldest and most widely supported way of exchanging data between applications. Data for a particular record or group of records can be transported in one of two standard formats:</p>
<ul>
<li><p>Delimited</p></li>
<li><p>Fixed-length</p></li>
</ul>
<p>To <em><strong>export</strong></em> data from a VA FileMan file, use the <strong>Export Tool</strong> to create an ASCII data file containing exported records. The exported data is formatted in such a way that it can be recognized by the particular foreign application. The ASCII data file can then be imported into the foreign application.</p>
<p>To <em><strong>import</strong></em> data to a VA FileMan file, use your foreign application to generate an ASCII data file containing records in either delimited or fixed-length formats. Then use the <strong>Import Tool</strong> to load those records into the VA FileMan file you specify.</p>
<h2 id="dependency-on-correct-data-communication">Dependency on Correct Data Communication</h2>
<p>For import or export of data to succeed, the data <em>must</em> be passed correctly on all communication pathways between VA FileMan and the foreign application. A glitch in the communication of data can cause data exchange to fail.</p>
<p>For example, suppose the foreign application expects the fields in records you are exporting to be separated (or “delimited”) by the Tab character (<strong>&lt;TAB&gt;</strong>). The Export Tool can output a <strong>&lt;TAB&gt;</strong> between each field’s data value. However, if you use a communication program’s screen capture facility to create a file of the exported data and if that communication program automatically changes <strong>&lt;TAB&gt;</strong>s into a certain number of spaces to align text, the exported data is corrupted and the import fails.</p>
<p>You should be familiar with your importing or exporting application and with any communications programs that you are using. Knowledge of all the applications involved, starting with VA FileMan and its Import and Export Tools, increases the likelihood of a successful transfer of data.</p>
<h3 id="data-formats">Data Formats</h3>
<h4 id="delimited-data-format">Delimited Data Format</h4>
<p>Suppose you have a record with the following data:</p>
<ul>
<li><p>LASTNAME = “FMPATIENT”</p></li>
<li><p>FIRSTNAME = “ONE”</p></li>
<li><p>AGE = “36”</p></li>
</ul>
<p>In delimited data format, you choose a delimiter character to place between field values. For this example, use a comma as the delimiter character.</p>
<p>A comma (“<strong>,</strong>”) is then inserted between each of a record’s fields, to “delimit” them. The resulting record, exported in comma-delimited format, would look like <span class="underline">Figure 1</span>:</p>
<p><span id="_Ref462325895" class="anchor"></span>Figure 1: Import and Export Tools—Example of a record delimited by a comma</p>
<p>FMPATIENT,ONE,36</p>

<p>Groups of records are exported line-by-line, one line after another. A file of records in comma-delimited format might look like <span class="underline">Figure 2</span>:</p>
<p><span id="_Ref462325873" class="anchor"></span>Figure 2: Import and Export Tools—Example of a file with records delimited by a comma</p>
<p>FMPATIENT,TWO,1 GREEN LANE,,,Amherst,NH,99999</p>
<p>FMPATIENT,THREE,0 Plaza Court,,,San Francisco,CA,99999</p>
<p>FMPATIENT,FOUR,0 123rd St.,,,San Francisco,CA,99999</p>
<p>In order to use delimited data format, both applications (the exporting application and the importing application) <em>must</em> be able to recognize the format.</p>
<h5 id="quoted-fields-in-delimited-format">Quoted Fields in Delimited Format</h5>
<p>Now, suppose in the previous example that instead of two separate fields for LASTNAME and FIRSTNAME, there is only a single NAME field for both. Suppose that incoming data you want to place in the single NAME field comes in the form FMPATIENT,FOUR, but you still want to use commas as your delimiter. You can use the “Fields Quoted” setting in the Import form (or the Quote Non-Numeric Fields setting in a Foreign Format) to ignore the delimiter if it is between quotes in the incoming data.</p>
<p>Thus, if you set “Fields Quoted” to <strong>YES</strong> in your import form, and you pass in a record that looks like <span class="underline">Figure 3</span>:</p>
<p><span id="_Ref462325850" class="anchor"></span>Figure 3: Import and Export Tools—Example of a record where the delimiter between quotes is ignored</p>
<p>“FMPATIENT,FOUR”,0 123rd St.,,,San Francisco,CA,99999</p>
<p>For quoted fields, like “FMPATIENT,FOUR”, the Import Tool ignores the comma delimiter between the quotes and treats “FMPATIENT,FOUR” as a single field value.</p>
<h4 id="fixed-length-data-format">Fixed-Length Data Format</h4>
<p>In fixed-length data format, a standard width is expected for each field in the record. Suppose, for example, you have a record with LASTNAME = “FMPATIENT”, FIRSTNAME = “ONE”, AGE = “36”. 25 characters might be set aside for LASTNAME, 20 characters for FIRSTNAME, and 3 characters for AGE. The resulting record, exported in fixed-length format, would look like <span class="underline">Figure 4</span>:</p>
<p><span id="_Ref462325815" class="anchor"></span>Figure 4: Import and Export Tools—Example of a fixed-length record</p>
<p>FMPATIENT ONE 36</p>
<p>Groups of records are exported line-by-line, one line after another. A file of records in fixed-length format might look like <span class="underline">Figure 5</span>:</p>
<p><span id="_Ref462325785" class="anchor"></span>Figure 5: Import and Export Tools—Example of a file with fixed-length records</p>
<p>FMPATIENT TWO 29</p>
<p>FMPATIENT THREE 47</p>
<p>FMPATIENT FOUR 38</p>
<p>In order to use fixed-length data format, both applications (the exporting application and the importing application) <em>must</em> be able to recognize the format.</p>
<h3 id="how-to-export-data">How to Export Data</h3>
<p>The menu in <span class="underline">Figure 6</span> shows the options used to export data:</p>
<p><span id="_Ref446837180" class="anchor"></span>Figure 6: Import and Export Tools—Data export options</p>
<p>VA FileMan ... [DIUSER]</p>
<p>Other Options ... [DIOTHER]</p>
<p>Data Export to Foreign Format ... [DDXP EXPORT MENU]</p>
<p>Define Foreign File Format [DDXP DEFINE FORMAT]</p>
<p>**&gt; Locked with DDXP-DEFINE</p>
<p>Select Fields for Export [DDXP SELECT EXPORT FIELDS]</p>
<p>Create Export Template [DDXP CREATE EXPORT TEMPLATE]</p>
<p>Export Data [DDXP EXPORT DATA]</p>
<p>Print Format Documentation [DDXP FORMAT DOCUMENTATION]</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The Export Data option [DDXP EXPORT DATA] is used to stream data to external devices or files. It is <em>not</em> designed to print clearly to the screen.</p>
<p>If you know how to print file entries, you already know most of the procedures to export file entries. The Export Tool is based on the standard VA FileMan Print File Entries option.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on the Print File Entries option, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>The Export Tool creates a specially formatted print output. Some limitations apply to data exports that do <em>not</em> apply to setting up a regular print (e.g., WORD-PROCESSING-type fields <em>cannot</em> be exported). Some capabilities are available when exporting that are <em>not</em> when you are printing (e.g., the records you export can be longer than 245 characters, if you are using a delimited format; see the description of the Maximum Output Length FOREIGN FORMAT attribute below). These differences are discussed below.</p>
<p>The steps to export data are:</p>
<ol type="1">
<li><blockquote>
<p><span class="underline">Make Sure a FOREIGN FORMAT File Entry is Available</span>—Make sure there is a FOREIGN FORMAT file (#.44) entry available to export your data in the format expected by the receiving application.</p>
</blockquote></li>
</ol>
<ol start="10" type="1">
<li><p><span class="underline">Select Fields for Export Option</span>—Select the fields you want to export (Select Fields for Export option). This creates a SELECTED EXPORT FIELDS template.</p></li>
<li><p><span class="underline">Create Export Template Option</span>—Create an EXPORT Template. This is where you combine the SELECTED EXPORT FIELDS template with a desired FOREIGN FORMAT.</p></li>
<li><p><span class="underline">Choose Entries/Export Data</span>—Export Data option. This is where you select which entries to export, and perform the export.</p></li>
</ol>
<h4 id="make-sure-a-foreign-format-file-entry-is-available">Make Sure a FOREIGN FORMAT File Entry is Available</h4>
<p>First, you need to determine an ASCII data format (some form of delimited or fixed-length) that your foreign application recognizes. This is the format you need the Export Tool to generate.</p>
<p>This data format <em>must</em> be set up in advance, as an entry in the FOREIGN FORMAT file (#.44). The following are the major format parameters stored in a FOREIGN FORMAT file (#.44) entry:</p>
<ul>
<li><p>What delimiters are used between fields?</p></li>
<li><p>Does the export use fixed length fields?</p></li>
<li><p>What headers to output before the body of the data, and what footers after the data</p></li>
<li><p>Any special formatting for specific DATA TYPE field values (e.g., dates and numbers)?</p></li>
</ul>
<p>Some formats are already set up in advance in the FOREIGN FORMAT file (#.44), targeted towards specific foreign applications. These include:</p>
<ul>
<li><p>Word Data File (Comma)</p></li>
<li><p>Excel (Comma)</p></li>
<li><p>Excel (Tab)</p></li>
<li><p>1-2-3 Import Numbers</p></li>
<li><p>1-2-3 Data Parse</p></li>
<li><p>Oracle (Delimited)</p></li>
</ul>
<p>Keep in mind that applications are often updated. A format that worked for one version may <em>not</em> work for a different version, or a more efficient, simpler format might be possible for a different version.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> The full details of the export parameters that can be set up for exporting are described in the “<span class="underline">FOREIGN FORMAT File Attributes Reference</span>” section.</p>
<p>In many cases, you can use an existing FOREIGN FORMAT file (#.44) entry for your export. If you need to create a <em>new</em> FOREIGN FORMAT file (#.44) entry (rather than using an existing entry), set up the new entry with the Define Foreign File Format option.</p>
<h4 id="select-fields-for-export-option">Select Fields for Export Option</h4>
<p>With the <span class="underline">Define Foreign File Format Option</span>, you determined the data format for your export, and made sure there was a corresponding FOREIGN FORMAT file (#.44) entry. The next step is to choose what file and field data to export. Do this using the Select Fields for Export Option; this creates a SELECTED EXPORT FIELDS template.</p>
<p>The process of creating a SELECTED EXPORT FIELDS template is very similar to the way you choose fields for printing with the Print File Entries option.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For details on selecting fields, see the “Choosing Print Fields” section in the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>First, you <em>must</em> identify the file from which you are exporting data. This is the primary file. Then you choose from which fields to export data.</p>
<p>In addition to fields from that file and its Multiples, you can export data from other files by using the extended pointer syntax.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on pointer syntax, see the “<span class="underline">Relational Navigation</span>” section.</p>
<p>Also, you can put other computed expressions at the “EXPORT FIELD:” prompt to make use of VA FileMan functions or M code.</p>
<p>There are several kinds of specifications that are valid at the “PRINT FIELD:” prompt that are <em>not</em> allowed at the “EXPORT FIELD:” prompt. They are:</p>
<ul>
<li><p>WORD-PROCESSING-type fields.</p></li>
<li><p>“<strong>ALL</strong>” signifying all the fields in a file.</p></li>
<li><p>Print qualifiers following the field designation (e.g., “<strong>;X</strong>” or “<strong>;C22</strong>”).</p></li>
<li><p>Statistical print qualifiers preceding the field (e.g., “<strong>#</strong>” or “<strong>&amp;</strong>”).</p></li>
<li><p>Backward extended pointers.</p></li>
<li><p>Relational jumps to other files (i.e.,<strong> </strong>use of a terminating colon); instead, use the full extended pointer syntax to obtain data from other files.</p></li>
<li><p>Specifications that return more than one value (e.g., a Multiple in a pointed-to file); you can specify Multiples in the primary file.</p></li>
</ul>
<p>After you enter a set of field specifications, you are <em>immediately</em> prompted for a template in which to store the selected fields. You <em>must</em> store your field specifications in a template to proceed with the next step in the data export. After you specify a template name for the SELECTED EXPORT FIELDS template, you have completed this step.</p>
<p><span class="underline">Figure 7</span> is an example of the “EXPORT FIELD:” dialogue. The example uses the sample PATIENT file (#2). Several unacceptable responses are shown; the error messages are the ones you would receive to these responses:</p>
<p><span id="_Ref446839887" class="anchor"></span>Figure 7: Import and Export Tools—Creating the Selected Exported Fields template</p>
<p>Select VA FileMan OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>DATA EXPORT TO FOREIGN FORMAT</strong></p>
<p>Select DATA EXPORT TO FOREIGN FORMAT OPTION: <strong>SELECT FIELDS FOR EXPORT</strong></p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>FIRST EXPORT FIELD: <strong>NAME;S</strong></p>
<p>SORRY. You cannot add ;S to the export field specifications.</p>
<p>FIRST EXPORT FIELD: <strong>NAME</strong></p>
<p>THEN EXPORT FIELD: <strong>INTERNAL(SEX)</strong></p>
<p>THEN EXPORT FIELD: <strong>RELIGION:</strong></p>
<p>SORRY. You cannot jump to another file when selecting fields</p>
<p>for export.</p>
<p>THEN EXPORT FIELD: <strong>$E(RELIGION:CLASSIFICATION,1,5)</strong></p>
<p>THEN EXPORT FIELD: <strong>DIAGNOSIS &lt;Enter&gt;</strong> (multiple)</p>
<p>THEN EXPORT DIAGNOSIS SUB-FIELD: <strong>DIAGNOSIS</strong></p>
<p>THEN EXPORT DIAGNOSIS SUB-FIELD: <strong>HISTORY &lt;Enter&gt;</strong> (word-processing)</p>
<p>SORRY. You cannot choose a word processing field for export.</p>
<p>THEN EXPORT DIAGNOSIS SUB-FIELD: <strong>AGE AT ONSET</strong></p>
<p>THEN EXPORT DIAGNOSIS SUB-FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>THEN EXPORT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE EXPORT LOGIC IN TEMPLATE: <strong>PATIENT TEST</strong></p>
<p>Are you adding ‘PATIENT TEST’ as a new PRINT TEMPLATE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>Select DATA EXPORT TO FOREIGN FORMAT OPTION:</p>
<p>SELECTED EXPORT FIELDS templates are sometimes referred to as PRINT templates in the user dialogue. This is because they are stored in the PRINT TEMPLATE file (#.4).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Even though you <em>cannot</em> “jump” to the RELIGION file (#13) using the RELIGION field, which is a pointer to the RELIGION file (#13), you can retrieve data from that file by using extended pointer syntax.<br />
<br />
<strong>REF:</strong> For more information on pointer syntax, see the “<span class="underline">Relational Navigation</span>” section.</p>
<p>You can edit a SELECTED EXPORT FIELDS template. The editing <em>must</em> occur in the Export Data option, <em>not</em> in the standard Print File Entries option. To edit one, enter the template name at the “FIRST EXPORT FIELD:” prompt preceded by a left bracket (“<strong>[</strong>“).</p>
<p>If an EXPORT template (see Section <span class="underline">1.3.2.3</span>) has been created based on the SELECTED EXPORT FIELDS template that you edit, the SELECTED EXPORT FIELDS template are <em>not</em> updated to reflect the changes. You <em>must</em> create a new SELECTED EXPORT FIELDS template to make use of the changes.</p>
<h4 id="create-export-template-option">Create Export Template Option</h4>
<p>The next step to export data is to create an EXPORT template with the Create Export Template option. The EXPORT template combines the SELECTED EXPORT FIELDS template (created in Step 2 above) with a FOREIGN FORMAT file (#.44) (see Step 1 above).</p>
<p>Besides choosing a SELECTED EXPORT FIELDS template and a FOREIGN FORMAT, you are asked for any additional information that is needed to fully define the export. If you do <em>not</em> supply the requested information, the EXPORT template <em>cannot</em> be created. Values in the FOREIGN FORMAT entry you choose determine whether or not you are prompted for more information.</p>
<p><span class="underline">Table 2</span> indicates which values for which FOREIGN FORMAT fields result in prompts:</p>
<p><span id="_Ref386465924" class="anchor"></span>Table 2: Import and Export Tools—Foreign format field prompts</p>
<table>
<tbody>
<tr class="odd">
<td>Foreign Format Field</td>
<td>Value</td>
<td>Information Required</td>
</tr>
<tr class="even">
<td>FIELD DELIMITER</td>
<td>“ASK”</td>
<td>The character or characters to separate fields.</td>
</tr>
<tr class="odd">
<td>RECORD DELIMITER</td>
<td>“ASK”</td>
<td>The character or characters to separate records.</td>
</tr>
<tr class="even">
<td>RECORD LENGTH FIXED?</td>
<td>“1” or “YES”</td>
<td>The number of characters in each field to be exported.</td>
</tr>
<tr class="odd">
<td>NEED FOREIGN FIELD NAMES?</td>
<td>“1” or “YES”</td>
<td>The name of each field recognized by the importing application.</td>
</tr>
<tr class="even">
<td>MAXIMUM OUTPUT LENGTH</td>
<td>“Ø”</td>
<td>The maximum number of characters on each line of output, usually the longest possible exported record.</td>
</tr>
<tr class="odd">
<td>PROMPT FOR DATA TYPE?</td>
<td>“1” or “YES”</td>
<td><p>The DATA TYPE field value of each exported field; possible choices are:</p>
<ul>
<li><p>FREE TEXT</p></li>
<li><p>NUMERIC</p></li>
<li><p>DATE/TIME</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>In the example below, the file and field specifications in the SELECTED EXPORT FIELDS template example (<span class="underline">Figure 7</span>) are combined with the 123 Import Numbers FOREIGN FORMAT:</p>
<p><span id="_Toc342980612" class="anchor"></span>Figure 8: Import and Export Tools—Creating the Export template</p>
<p>Select DATA EXPORT TO FOREIGN FORMAT OPTION: <strong>CREATE EXPORT TEMPLATE</strong></p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT &lt;Enter&gt;</strong> (10 entries)</p>
<p>Enter SELECTED EXPORT FIELDS Template: <strong>PATIENT TEST</strong></p>
<p>**SELECTED EXPORT FIELDS** (OCT 30, 1992@11:32) USER #7 FILE #99002</p>
<p>Do you want to see the fields stored in the PATIENT TEST template?</p>
<p>Enter Yes or No: NO// <strong>YES</strong></p>
<p>FIRST PRINT FIELD: NAME// <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT FIELD: INTERNAL(SEX)// <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT FIELD: $E(RELIGION:CLASSIFICATION,1,5)// <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT FIELD: DIAGNOSIS// <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT DIAGNOSIS SUB-FIELD: DIAGNOSIS// <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT DIAGNOSIS SUB-FIELD: AGE AT ONSET// <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT DIAGNOSIS SUB-FIELD: // <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT FIELD: // <strong>&lt;Enter&gt;</strong></p>
<p>Do you want to use this template?</p>
<p>Enter Yes or No: YES// <strong>&lt;Enter&gt;</strong></p>
<p>Do you want to delete the PATIENT TEST template</p>
<p>after the export template is created?</p>
<p>Enter Yes or No: NO// <strong>&lt;Enter&gt;</strong></p>
<p>When asked if you want the SELECTED EXPORT FIELDS template deleted, answer <strong>YES</strong> only if you know you do <em>not</em> need the template again. If an EXPORT template is <em>not</em> successfully created, the SELECTED EXPORT FIELDS template is <em>not</em> deleted.</p>
<p>Next, identify the FOREIGN FORMAT to use, and name the EXPORT template that you are creating. You <em>cannot</em> overwrite an existing PRINT template:</p>
<p><span id="_Ref446997026" class="anchor"></span>Figure 9: Import and Export Tools—Identifying the Foreign Format and Export templates</p>
<p>Select FOREIGN FORMAT: <strong>123 IMPORT NUMBERS &lt;Enter&gt;</strong> **DISTRIBUTED BY VA FILEMAN**</p>
<p>Enter name for EXPORT Template: <strong>PATIENT TO 123</strong></p>
<p>Are you adding ‘PATIENT TO 123’ as</p>
<p>a new PRINT TEMPLATE (the 197TH)? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>After you choose the EXPORT template name, you are prompted for any additional information needed. In this example, the format does require additional information: the DATA TYPE field value for each field (in this situation the defaults derived by the Export Tool are correct) and the maximum length of each record:</p>
<p><span id="_Ref446997038" class="anchor"></span>Figure 10: Import and Export Tools—Entering DATA TYPE field values in an Export template</p>
<p>Enter the data types of the fields being exported below.</p>
<p>Do you want to continue?</p>
<p>Enter Yes or No: YES// <strong>&lt;Enter&gt;</strong></p>
<p>NAME: FREE TEXT// <strong>&lt;Enter&gt;</strong> FREE TEXT</p>
<p>INTERNAL(SEX): FREE TEXT// <strong>&lt;Enter&gt;</strong> FREE TEXT</p>
<p>$E(RELIGION:CLASSIFICATION,1,5): FREE TEXT// <strong>&lt;Enter&gt;</strong> FREE TEXT</p>
<p>DIAGNOSIS in DIAGNOSIS subfile: FREE TEXT// <strong>&lt;Enter&gt;</strong> FREE TEXT</p>
<p>AGE AT ONSET in DIAGNOSIS subfile: NUMERIC// <strong>&lt;Enter&gt;</strong> NUMERIC</p>
<p>Enter the maximum length of a physical record that can be exported.</p>
<p>Enter ‘^’ to stop the creation of an EXPORT template.</p>
<p>MAXIMUM OUTPUT LENGTH: <strong>100</strong></p>
<p>Export Template created.</p>
<p>The Export Tool checks to make sure that your SELECTED EXPORT FIELDS template does <em>not</em> contain fields from Subfiles (Multiples) that are <em>not</em> descendent from each other.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on Subfiles (Multiples), see the “<span class="underline">Exporting Data from Multiples</span>” section.</p>
<p>If you have <em>not</em> followed that restriction, you receive an error message. The SELECTED EXPORT FIELDS template would have to be modified.</p>
<h4 id="choose-entriesexport-data">Choose Entries/Export Data</h4>
<p>In the final step to export data, use the Export Data option to select which entries from the file to export, and then perform the export.</p>
<p>First, choose which entries to export with a “SEARCH” dialogue; then choose the order of the exported entries with a “SORT BY” dialogue (you are <em>not</em> given the “SORT BY” dialogue, if you are exporting fields from Subfiles.) Finally, specify the device to send the exported data.</p>
<p>During either the Search or Sort process, you can use previously created SEARCH and SORT templates. Those templates need <em>not</em> have been originally made during a data export; however, SORT templates that contain unacceptable qualifiers should <em>not</em> be used. At the “SORT BY:” prompt, you can only use the subset of sort qualifiers shown in <span class="underline">Table 3</span>:</p>
<p><span id="_Ref389633086" class="anchor"></span>Table 3: Import and Export Tools—Allowable sort qualifiers when exporting data</p>
<table>
<tbody>
<tr class="odd">
<td>Sort Qualifier</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>‘</strong></td>
<td>To <em>not</em> sort. Used when you want to use the “FROM … TO” dialogue to restrict the entries to be exported.</td>
</tr>
<tr class="odd">
<td><strong>-</strong></td>
<td>To sort in reverse order.</td>
</tr>
<tr class="even">
<td><strong>;Ln</strong></td>
<td>To sort on the first <em><strong>n</strong></em>-characters only.</td>
</tr>
<tr class="odd">
<td><strong>;TXT</strong></td>
<td>To sort following strict ASCII sorting sequence.</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more detailed information about searching and sorting, see the “Print: How to Print Reports from Files” and “Search” sections in the <em>VA FileMan User Manual</em>.</p>
<h5 id="export-example">Export Example</h5>
<p><span class="underline">Figure 11</span> is an example of an export using the “PATIENT TO 123” EXPORT template created in the previous section (<span class="underline">Figure 9</span> and <span class="underline">Figure 10</span>). You begin by identifying the file and the EXPORT template that you want to use for the export. Do <em>not</em> enclose the template’s name with brackets. Again, you can delete the EXPORT template after a successful export.</p>
<p>Because there is a Multiple involved, you are told that you do <em>not</em> have the opportunity to sort. Then, you are given the opportunity to search the file for entries to export.</p>
<p><span id="_Ref389629584" class="anchor"></span>Figure 11: Import and Export Tools—Searching for entries to be exported</p>
<p>Select DATA EXPORT TO FOREIGN FORMAT OPTION: <strong>EXPORT DATA</strong></p>
<p>OUTPUT FROM WHAT FILE: PATIENT// <strong>&lt;Enter&gt;</strong></p>
<p>Choose an EXPORT template: <strong>PATIENT TO 123 &lt;Enter&gt;</strong> **EXPORT**</p>
<p>(OCT 30, 1992@15:08) USER #7 FILE #99002</p>
<p>Do you want to delete the PATIENT TO 123 template</p>
<p>after the data export is complete?</p>
<p>Enter Yes or No: NO// <strong>&lt;Enter&gt;</strong></p>
<p>Since you are exporting fields from multiples,</p>
<p>a sort will be done automatically.</p>
<p>You will not have the opportunity to sort the data before export.</p>
<p>Do you want to SEARCH for entries to be exported? NO// <strong>YES</strong></p>
<p>-A- SEARCH FOR PATIENT FIELD: <strong>DATE OF BIRTH</strong></p>
<p>-A- CONDITION: <strong>&lt; &lt;Enter&gt;</strong> LESS THAN</p>
<p>-A- LESS THAN DATE: <strong>1980 &lt;Enter&gt;</strong> (1980)</p>
<p>-B- SEARCH FOR PATIENT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>IF: A// <strong>&lt;Enter&gt;</strong> DATE OF BIRTH LESS THAN 1980 (1980)</p>
<p>STORE RESULTS OF SEARCH IN TEMPLATE: <strong>&lt;Enter&gt;</strong></p>
<p>If Multiples had <em>not</em> been involved, you would now be able to respond to the SORT BY dialogue. You can do the same things with sort here that you can do when using the Print File Entries option.</p>
<h5 id="what-device-to-send-export-data-to">What Device to Send Export Data To</h5>
<p>After you complete the sort dialogue, you are immediately given the “DEVICE:” prompt. Choose what device the exported data should be sent to:</p>
<p><span id="_Toc342980617" class="anchor"></span>Figure 12: Import and Export Tools—Choosing a device to send exported data</p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>If you press the <strong>Enter</strong> key at the “DEVICE:” prompt, the export output is displayed on your <em>screen</em>. Sending the formatted export data to the screen allows you to use a PC-based screen capture to put the data into a file. This file would be a readable ASCII file on that computer. This method of transferring the data into a file is a simple one that is often successful and convenient, especially if the importing application is on the same PC.</p>
<p>When using a screen capture to create a file from the exported data, you <em>must</em> consider the peculiarities of your communication and terminal emulation software. Your communication application, for example, can intercept certain control characters (like the <strong>&lt;TAB&gt;</strong>, ASCII 9) and convert them into something else. This can cause the import to fail. Also, your terminal emulation can <em>automatically</em> “break” lines at 80 characters by inserting an unwanted carriage return or line feed. When emulating VT-100 and other ANSI terminals, you can avoid this last problem by turning wraparound mode <strong>off</strong>.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: When exporting data to your terminal’s screen, there are no page breaks. Therefore, there is no graceful way to interrupt the export once it has begun.</p>
<h5 id="sending-export-data-to-a-host-file">Sending Export Data to a Host File</h5>
<p>Having data printed on-screen is of little use, if you are using a terminal with no screen-capture capabilities. An alternative is to send the data to a file on the host system, for example, to a VMS file if you are using DSM. Another advantage to sending data to a Host file is that only the exported data is in the file. (Often, screen captures unavoidably contain extraneous parts of the user’s dialogue prior to or after the export.) To export your data to a file, at the “DEVICE:” prompt, send your export output to an HFS-type device.</p>
<p>Your IRM should be able to help you, if you are <em>not</em> sure how to use HFS devices.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> The <em>Kernel Systems Management Guide</em> also describes how to send output to Host files, including how to set up and use HFS-type devices.</p>
<p>When a Host file is created, you <em>must</em> move that ASCII file to the computer on which the importing application resides. A file transfer protocol (e.g., KERMIT or XMODEM) can be used to move this file.</p>
<p>The export can be queued, if it is <em>not</em> sent to the screen. Queuing the export is <em>recommended</em> for large files and for complex sorts of the data.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> <strong>On HFS Device Setup on OpenVMS Systems:</strong> DSM for OpenVMS requires that you add a command parameter to the <strong>OPEN</strong> command, if you export records longer than 512 characters to a Host file. The parameter is RECORDSIZE=<em>nnnn</em>, where “<em>nnnn</em>” is greater than the longest record that you are exporting. If you are using Kernel’s DEVICE file (#3.5), the OPEN PARAMETER field for the HFS device you are using should be edited to look like “(NEW:RECORDSIZE=<em>nnnn</em>)”.</p>
<h5 id="sample-output">Sample Output</h5>
<p>The data below has been prepared for import by Lotus 1-2-3, so it need <em>not</em> be easily read by people. However, you can see that text fields are surrounded by quotes; empty text fields consist just of two quotes (<strong>“”</strong>). A space is in between each field’s value. Numeric values have no quotes. If a field defined as numeric in the VA FileMan data dictionary has no value, a zero (0) is output, because this format has SUBSTITUTE FOR NULL set to “0”.</p>
<p><span id="_Toc342980618" class="anchor"></span>Figure 13: Import and Export Tools—Example of exported data</p>
<p>“FMPATIENT,FIVE” “m” “PROTE” “GANGRENE” 45</p>
<p>“FMPATIENT,SIX” “f” “CATHO” “SLEEPING SICKNESS” 28</p>
<p>“FMPATIENT,SEVEN” “m” “PROTE” “CIRRHOSIS” 25</p>
<p>“FMPATIENT,EIGHT” “f” “OTHER” “FLU” 34</p>
<p>“FMPATIENT,NINE” “m” ““ “BLOOD POISONING” 44</p>
<p>“FMPATIENT,FIVE” “m” “PROTE” “GUN SHOT “ 50</p>
<p>“FMPATIENT,EIGHT” “f” “OTHER” “FLU” 37</p>
<p>“FMPATIENT,NINE” “m” ““ “FLU” 0</p>
<p>“FMPATIENT,EIGHT” “f” “OTHER” “FLU” 46</p>
<p>“FMPATIENT,EIGHT” “f” “OTHER” “APPENDICITIS” 39</p>
<h4 id="special-considerations-exporting-numbers">Special Considerations: Exporting Numbers</h4>
<p>If a number comes from a field in your primary file that is defined as NUMERIC or COMPUTED, that number is exported with all leading spaces or trailing insignificant zeroes removed. This is different from the way that the regular VA FileMan Print File Entries works. If the field had a value of zero, the character zero (0) is exported. If the value of a numeric field in the primary file is null, the exported value depends on the contents of the SUBSTITUTE FOR NULL field for the format being used.</p>
<p>If a number comes from a source other than a DATA TYPE field of NUMERIC or COMPUTED in the primary file, it can be output with leading spaces or trailing insignificant zeroes. Such a number might originate from a field in a pointed-to file reached by the relational syntax, a VA FileMan function, or other computed expression. In these cases, the value of the SUBSTITUTE FOR NULL field usually has no effect on what is exported.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Whether exported numbers have leading spaces or trailing insignificant zeroes and whether nulls produce special output is controlled by how the field is defined in the VA FileMan data dictionary. The DATA TYPE field input by the user when the PROMPT FOR DATA TYPE? field contains <strong>YES</strong> does <em>not</em> affect these characteristics of the export.</p>
<h4 id="special-considerations-multiples">Special Considerations: Multiples</h4>
<h5 id="exporting-data-from-multiples">Exporting Data from Multiples</h5>
<h6 id="data-flattening">Data Flattening</h6>
<p>Data exported from Multiples is “flattened” (i.e., data at upper levels is repeated for each subentry). For example, take the comma-delimited export for a top-level file’s #.01 NAME field and a Subfile’s #.01 DATE and #1 TYPE fields. The output for an entry with four subentries would look like <span class="underline">Figure 14</span>:</p>
<p><span id="_Ref462325620" class="anchor"></span>Figure 14: Import and Export Tools—Example of data flattening when exporting data from Multiples</p>
<p>FMPATIENT,01-JAN-95,SC</p>
<p>FMPATIENT,24-JUN-95,NSC</p>
<p>FMPATIENT,14-AUG-95,SC</p>
<p>FMPATIENT,21-JUL-96,NSC</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The top-level .01 field is repeated for each Subfile entry.</p>
<h5 id="no-more-than-one-multiple-at-any-one-file-level">No More Than One Multiple at Any One File Level</h5>
<p>You <em>cannot</em> export <em>more than one</em> Multiple at <em>any one file level</em>. You can export data from one Multiple and from Subfiles directly descendent from that Multiple (as long as you never export more than one Subfile at the same level). Suppose you are exporting data from a file with the structure shown in <span class="underline">Figure 15</span>:</p>
<p><span id="_Ref389633121" class="anchor"></span>Figure 15: Import and Export Tools—Example of a file structure</p>
<p><img src="./media/image6.png" alt="Example of a File Structure Primary File box connects to Subfile 1A box and Subfile 2A box. Subfile 2A box connects to Subfile 2B-1 box and Subfile 2B-2 box. Subfile 2B-1 box connects to Subfile 2C-1 box." style="width:3.17708in;height:2.5in" /></p>
<p>In addition to fields in the Primary file, you can export from Subfile 1A <em>or</em> Subfile 2A, but <em>not</em> from both. Also, you can export from Subfile 2A, Subfile 2B-1, and Subfile 2C-1, but you could <em>not</em> additionally choose fields in Subfile 2B-2. If you need data from Subfiles that are <em>not</em> directly descendent from each other, you can do multiple exports and “join” the data together in the importing application.</p>
<h5 id="sorting-with-multiples">Sorting with Multiples</h5>
<p>A special, automated sort is done to the data when Multiples are exported; you <em>cannot</em> perform your own sort. When Subfiles are involved, the Export Tool performs a special sort in order to format the data. Since the Export Tool <em>must</em> do this customized sort, you <em>cannot</em> sort the data yourself. If you need the data in a particular sequence, sort it in the importing application. You can perform any search on the data that is necessary to choose entries for export.</p>
<h4 id="about-export-templates">About EXPORT Templates</h4>
<p>The Export Tool uses two types of templates:</p>
<ul>
<li><p>EXPORT FIELDS template (created in Step 2)</p></li>
<li><p>EXPORT template (created in Step 3).</p></li>
</ul>
<p>These templates are variations on standard PRINT templates. They are stored in the PRINT TEMPLATE file (#.4) and are sometimes referred to as PRINT templates in the user dialogue. Although similar to PRINT templates, they do differ in important respects. For example, you <em>cannot compile</em> either of the Export Tool’s templates.</p>
<p>You can delete these templates as soon as they are used if you wish. Also, both kinds of templates can be deleted using the Template Edit option on the Utility Functions menu [DIUTILITY]. In addition, you can delete an EXPORT FIELDS template by choosing the template within the Select Fields for Export option, editing it, and putting an at-sign (“<strong>@”</strong>) at the “NAME:” prompt. Do <em>not</em> delete an EXPORT template before a queued export has been completed.</p>
<h3 id="how-to-import-data">How to Import Data</h3>
<p>The menu in <span class="underline"> </span> <span class="underline">Figure 16</span> shows the option used to import data:</p>
<p><span id="_Ref447007539" class="anchor"></span>Figure 16: Import and Export Tools—Import Data option</p>
<p>VA FileMan ... [DIUSER]</p>
<p>Other Options ... [DIOTHER]</p>
<p>Import Data [DDMP IMPORT]</p>
<p>The Import Tool lets you import records stored in an ASCII data file into a VA FileMan file.</p>
<p>The Import Tool imports records from an ASCII data file by <em>adding</em> them as new records to the VA FileMan file in question. Existing records in the destination VA FileMan file are <em>never</em> edited or updated, and the Import Tool does <em>not</em> prevent duplicate records from being added.</p>
<p>Importing data records from an ASCII file is a four-step process, as described below.</p>
<h4 id="generate-ascii-source-file">Generate ASCII Source File</h4>
<p>Generate your source file (from your non-VA FileMan application), containing the records to be imported. Generate the file with one record per line, with the fields in each record being set off using either the delimited or fixed-length method. The last record in the file <em>must</em> be terminated with the appropriate EOL (End-of-Line) characters for your operating system.</p>
<p>Once you generate your ASCII source file, you need to move it to a disk that is accessible from the computer system running VA FileMan. IRM should be able to assist you with this.</p>
<h4 id="specify-data-format-source-file-and-destination-file">Specify Data Format, Source File, and Destination File</h4>
<p>Invoke VA FileMan’s Import Data option. It loads a two-page ScreenMan form. On page one of the form, you need to specify the: data format, source file, and destination file for your import.</p>
<ul>
<li><p><strong>DATA FORMAT—INTERNAL or EXTERNAL:</strong> Specify if the incoming data is in external form (the way VA FileMan would display it) or internal form (the way VA FileMan would store it). Unless you are knowledgeable about how VA FileMan stores data, you should choose EXTERNAL. Also, the incoming data is only validated by VA FileMan if you choose EXTERNAL (validation prevents you from putting invalid data into the file).</p></li>
<li><p><strong>FOREIGN FORMAT:</strong> Choose a Foreign Format entry whose settings match the ASCII format for the incoming records. The only settings used from the Foreign Format entry are</p></li>
</ul>
<ul>
<li><p>Record Delimiter</p></li>
<li><p>Record Length Fixed?</p></li>
<li><p>Quote Non-numeric Fields?</p></li>
</ul>
<p>Make sure the settings in the Foreign Format match the format of your incoming data. Because some foreign applications export data in a different format than they import it, a Foreign Format that works for export may <em>not</em> have the appropriate settings for import.</p>
<p>As an alternative to specifying a Foreign Format entry, you can manually specify the settings for your incoming data in the three provided fields:</p>
<p>1. Is the data fixed length?</p>
<p>2. If not, what is the field delimiter?</p>
<p>3. Are fields quoted?</p>
<ul>
<li><p><strong>SOURCE FILE:</strong> Enter the path and name of your source file (the file containing the records to import).</p></li>
<li><p><strong>VA FILEMAN FILE:</strong> Specify the destination file for the imported records.</p></li>
<li><p><strong>FIELD SELECTION PAGE/IMPORT TEMPLATE:</strong> This is where you match the fields in the incoming records to the fields in the destination file. If you do <em>not</em> have an existing IMPORT template that matches incoming to destination fields, go to the Field Selection page and specify those fields individually (see the “<span class="underline">Match Source to Destination Fields</span>” section).</p></li>
</ul>
<p>A completed page one of the form might look like <span class="underline">Figure 17</span>:</p>
<p><span id="_Ref343503185" class="anchor"></span>Figure 17: Import and Export Tools—Example of a completed Data Import form</p>
<p>DATA IMPORT Page 1</p>
<p>===========</p>
<p>DATA FORMAT SOURCE FILE</p>
<p>——————————- ——————————-</p>
<p>Internal or external: EXTERNAL Full path: USER$:[FMPATIENT]</p>
<p>Host file name: IMPORT.DAT</p>
<p>Foreign format: EXCEL (COMMA)</p>
<p>OR</p>
<p>Data fixed length? VA FILEMAN FILE</p>
<p>Field delimiter: ——————————————-</p>
<p>Fields quoted? Primary file: NEW PERSON</p>
<p>Field selection page...</p>
<p>OR</p>
<p>Import Template:</p>
<p>___________________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<h4 id="match-source-to-destination-fields">Match Source to Destination Fields</h4>
<p>For your import, you need to match each field in the incoming record to a field in the destination VA FileMan file.</p>
<p>Fields in the incoming record are imported in order, from left to right. Thus, for each field in the incoming record, you specify the corresponding destination field in the VA FileMan file, in the same order. The first VA FileMan field you specify is the destination for the first field in the incoming record, the second matches the second field in the incoming record, and so forth.</p>
<p><span id="_Ref343503194" class="anchor"></span>Figure 18: Import and Export Tools—Example of fields selected for import</p>
<p>FIELD SELECTION FOR IMPORT Page 2</p>
<p>==========================</p>
<p>Choose a field from</p>
<p>NEW PERSON</p>
<p>Field:</p>
<p>Delete last field selected?</p>
<p>These are the fields selected so far:</p>
<p>1 – NAME</p>
<p>2 – STREET ADDRESS 1</p>
<p>3 – STREET ADDRESS 2</p>
<p>4 – STREET ADDRESS 3</p>
<p>5 – CITY</p>
<p>6 – STATE</p>
<p>7 – ZIP CODE</p>
<p>___________________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>Remember that you <em>must</em> include the .01 field, and any fields that are required identifiers for the top-level of the file. The same is true for any Subfiles (Multiples).</p>
<p>If you specified a fixed-length (as opposed to delimited) data format for the incoming records, you <em>must</em> enter <em>not</em> only the destination VA FileMan field, but also the length for each corresponding incoming field.</p>
<p>Each time you enter a field at the “Field:” prompt, it’s added to the bottom of the list of fields displayed on the form. This shows you the destination fields you have selected, and their order. If you make a mistake, you can delete fields from the bottom of the list, one-by-one, by entering <strong>YES</strong> at the “Delete last field selected?” prompt. To insert a field, delete back to the insertion point, enter the new field, and then re-enter the deleted fields.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> There are special issues when importing data into fields in Multiples; see the “<span class="underline">Special Considerations: Multiples</span>” section.</p>
<p>You can save the information you specify on the Field Selection page in an IMPORT template. This lets you reuse the field matching criteria you have entered for subsequent imports that use the same file and fields, without having to re-enter it. To save your field specifications as an IMPORT template, enter <strong>YES</strong> at the “Do you want to store the selected fields in an Import Template?” prompt, which you are asked after you exit the Import form (see the “<span class="underline">Run the Import</span>” section). Then, for future imports, simply enter the name of the IMPORT template on Page 1 of the Import form. You can use any IMPORT template to which your VA FileMan Access Code gives you access.</p>
<h4 id="run-the-import">Run the Import</h4>
<p>Once you have set up your data format, source file, and destination file, and matched source to destination fields, exit the Import form (press <strong>&lt;PF1&gt;E</strong>). After you exit the form, you are asked a series of questions:</p>
<ol type="1">
<li><blockquote>
<p>Do you want to store the selected fields in an Import Template?</p>
</blockquote></li>
</ol>
<ol start="13" type="1">
<li><p>Do you want to proceed with the import?</p></li>
<li><p>Device for Import Results Report</p></li>
</ol>
<p>Storing your file and field specifications in an IMPORT template lets you do subsequent imports <em>without</em> having to re-enter all of the field information.</p>
<p>If you proceed with the import, enter a device to which the Import Results report should print. You can run the Import directly or queue it.</p>
<p>As the import proceeds, if an error occurs updating a field in a particular record, the record is <em>not</em> added, and an error message is added to the Import Report saying what the problem was.</p>
<p>An example of the dialogue after exiting the Import form is shown in <span class="underline">Figure 19</span>:</p>
<p><span id="_Ref462325498" class="anchor"></span>Figure 19: Import and Export Tools—Exiting the Template form and performing the import</p>
<p>Do you want to store the selected fields in an Import Template? <strong>YES</strong></p>
<p>Name of Import Template: <strong>ZZIMPORT</strong></p>
<p>Are you adding ‘ZZIMPORT’ as a new Import Template? <strong>YES</strong></p>
<p>Do you want to proceed with the import? <strong>YES</strong></p>
<p>Device for Import Results Report: HOME// <strong>&lt;Enter&gt;</strong> SYSTEM</p>
<p>Once the import finishes, you can review the Import Results report. It lists:</p>
<ul>
<li><p>The criteria you chose for your import.</p></li>
<li><p>Any records for which the import failed.</p></li>
<li><p>The internal entry numbers of the first and last records imported.</p></li>
</ul>
<p><span class="underline">Figure 20</span> is a sample Import Results report:</p>
<p><span id="_Ref342484948" class="anchor"></span>Figure 20: Import and Export Tools—Example of an Import Results report</p>
<p>Log for VA FileMan Data Import Page 1</p>
<p>==============================</p>
<p>Import Initiated By: 10 FMPATIENT</p>
<p>Source File: USER$:[FMPATIENT1]IMPORT.DAT</p>
<p>Fixed Length: NO</p>
<p>Delimited By: ,</p>
<p>Text Values Quoted: NO</p>
<p>Values Are: External</p>
<p>Primary FileMan Destination File: NEW PERSON</p>
<p>Seq Len Field Name Subfile Name (if applicable)</p>
<p>--- --- ---------- ----------------------------</p>
<p>1 n/a NAME</p>
<p>2 n/a STREET ADDRESS 1</p>
<p>3 n/a STREET ADDRESS 2</p>
<p>4 n/a STREET ADDRESS 3</p>
<p>5 n/a CITY</p>
<p>6 n/a STATE</p>
<p>7 n/a ZIP CODE</p>

<p>Error Report</p>
<p>------------</p>
<p>Record #4 Rejected:</p>
<p>The value ‘Illlinois’ for field STATE in file NEW PERSON is not valid.</p>
<p>Summary of Import</p>
<p>-----------------</p>
<p>Total Records Read: 7</p>
<p>Total Records Filed: 6</p>
<p>Total Records Rejected: 1</p>
<p>IEN of First Record Filed: 209</p>
<p>IEN of Last Record Filed: 214</p>
<p>Import Filing Started: Jul 16, 1996@08:24:36</p>
<p>Import Filing Completed: Jul 16, 1996@08:24:38</p>
<p>Time of Import Filing: 0:00:02</p>
<p>In this example (<span class="underline">Figure 20</span>), six records were added, and one record was <em>not</em> added. The record that was <em>not</em> added was the fourth record in the source file. It failed due to the misspelled value “Illlinois” being rejected by the STATE field in the NEW PERSON file (#200).</p>
<h4 id="special-considerations-multiples-1">Special Considerations: Multiples</h4>
<h5 id="importing-data-into-multiples">Importing Data into Multiples</h5>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Incoming Data Should <em>not</em> be flattened.</p>
<p>The Import Tool expects that any data bound for a Multiple be contained in the same import record (line of data) as the data for the top file level. This is different from the output of the Export Tool, which “flattens” exported data from Multiples into separate lines of output.</p>
<p>For example, consider a comma-delimited import of records, each including a name plus four subentries. Each subentry contains a DATE and a TYPE. The records are imported into a file with a top-level NAME field (#.01) and a Multiple with DATE field (#.01) and TYPE field (#1). For this import, you would choose the destination fields as shown in <span class="underline">Figure 21</span>:</p>
<p><span id="_Ref343503204" class="anchor"></span>Figure 21: Import and Export Tools—Example of fields selected for import to a Multiple</p>
<p>FIELD SELECTION FOR IMPORT Page 2</p>
<p>==========================</p>
<p>Choose a field from</p>
<p>PATIENT : DATE Subfile</p>
<p>Field:</p>
<p>Delete last field selected?</p>
<p>These are the fields selected so far:</p>
<p>1 – NAME</p>
<p>2 – DATE:DATE</p>
<p>3 – DATE:TYPE</p>
<p>4 – DATE:DATE</p>
<p>5 – DATE:TYPE</p>
<p>6 – DATE:DATE</p>
<p>7 – DATE:TYPE</p>
<p>8 – DATE:DATE</p>
<p>9 – DATE:TYPE</p>
<p>___________________________________________________________________________________</p>
<p>Exit Save Next Page Refresh</p>
<p>Enter a command or ‘^’ followed by a caption to jump to a specific field.</p>
<p>COMMAND: <strong>NEXT</strong> Press &lt;PF1&gt;H for help Insert</p>
<p>A corresponding line of data to be imported for a record, containing data for both the top-level record and its subentries, would look like:</p>
<p><span id="_Toc342980627" class="anchor"></span>Figure 22: Import and Export Tools—Example of data <em>not</em> flattened when importing data to a Multiple</p>
<p>FMPATIENT,01-JAN-95,SC,24-JUN-95,NSC,14-AUG-95,SC,21-JUL-96,NSC</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You <em>must</em> file the same number of subentries in each record you import.</p>
<h5 id="completeness-of-subfile-entries">Completeness of Subfile Entries</h5>
<p>New subentries need to be added to every Subfile on a path to the lowest level Subfiles. Your data <em>must</em> include values for the .01 field and all the required identifiers for every Subfile (as well as for the top-level of the file). You can add more than one subentry in a particular Subfile. However, you are restricted to the same set of fields for every entry in each Subfile.</p>
<h4 id="importing-from-vms-files">Importing from VMS Files</h4>
<p>When importing from a data file that’s been transferred to a VMS-based computer system, a problem can occur if, once transferred, the data file does <em>not</em> get a maximum record length stored in its file header. This can happen when a DOS file is moved to a VMS system by some protocols. When the maximum record length is unknown, VMS uses a default maximum size of 510. If the length of a data record in the source file is larger than the maximum size, an error results.</p>
<p>The solution is to run the VMS CONVERT utility on the Host file. This utility adds the maximum record information to the file header and everything works just fine!</p>
<p>You can see if the maximum record length is stored in a file’s header on a VMS system, by using DCL command in <span class="underline">Figure 23</span>:</p>
<p><span id="_Ref389633166" class="anchor"></span>Figure 23: Import and Export Tools—Verifying the maximum record length on a VMS system</p>
<p>DIR filename /FULL</p>
<h3 id="foreign-formats">Foreign Formats</h3>
<h4 id="foreign-format-file-attributes-reference">FOREIGN FORMAT File Attributes Reference</h4>
<p>The following fields in the FOREIGN FORMAT File (#.44) correspond to attributes of the formatted data that you wish to export or import:</p>
<ul>
<li><p>FIELD DELIMITER</p></li>
<li><p>QUOTE NON-NUMERIC FIELDS?</p></li>
<li><p>SEND LAST FIELD DELIMITER?</p></li>
<li><p>PROMPT FOR DATA TYPE?</p></li>
<li><p>RECORD DELIMITER</p></li>
<li><p>SUBSTITUTE FOR NULL</p></li>
<li><p>RECORD LENGTH FIXED?</p></li>
<li><p>DATE FORMAT</p></li>
<li><p>MAXIMUM OUTPUT LENGTH</p></li>
<li><p>FILE HEADER</p></li>
<li><p>NEED FOREIGN FIELD NAMES?</p></li>
<li><p>FILE TRAILER</p></li>
</ul>
<p>When <em>exporting</em> records, all fields in this file are used in the export process. When <em>importing</em> records, only three fields are used in the import process:</p>
<ul>
<li><p>FIELD DELIMITER</p></li>
<li><p>RECORD LENGTH FIXED?</p></li>
<li><p>QUOTE NON-NUMERIC FIELDS?</p></li>
</ul>
<p>In this section, each format characteristic is described. Some combinations of characteristics are unacceptable; these situations are mentioned.</p>
<p>Also, some of the fields allow you to enter M code.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Export-specific variables you can use in this M code are described in the “Variables Available for Programmer Use” section.</p>
<p>To set up a FOREIGN FORMAT file (#.44) entry, use the Define Foreign File Format option to print out a format, use the Print Format Documentation option.</p>
<h5 id="field-delimiter">FIELD DELIMITER</h5>
<p>Many applications can import and export data, if the values of fields in each record are separated by a known character or sequence of characters. The application puts (or expects) data before the first delimiter into its first field, between the first and second delimiter into the second field, and so on. Therefore, the ability to specify and recognize these field delimiters is a crucial aspect of many data exchanges.</p>
<p>The Import and Export Tools’ FIELD DELIMITER fields allow you to specify up to 15 characters to be placed between each field. You can directly enter any string of characters except ones that begin with a number or consist of characters that have special meaning when editing VA FileMan data (e.g., “<strong>^</strong>” or “<strong>@</strong>”).</p>
<p>If your field delimiter begins with one of these restricted characters or consists of an unprintable control character (like <strong>&lt;TAB&gt;</strong>), you can enter the ASCII-value of the delimiter. When entering the ASCII values, always use three digits. Thus, <strong>&lt;TAB&gt;</strong> (ASCII 9) becomes “009” and “<strong>@</strong>” (ASCII 64) becomes “064”. You can enter up to four ASCII values. If more than one is needed, separate the values with commas (e.g., “048,094”).</p>
<p>If you want the user to be prompted for a field delimiter at the time the EXPORT template is being created, enter “ASK” in this field.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Using unprintable control characters (ASCII values less than 32) as delimiters may not have the effect you want. During either export or import, often control characters are intercepted by terminal software, communication programs, or network links; they may not be passed through unaltered as regular printable characters usually are. For example, ASCII value 5 is interpreted by many terminals as a request for their Answerback Message. Thus, putting “005” in the FIELD DELIMITER field might cause an Answerback Message to be returned by your terminal instead of the ASCII value 5 being inserted between field values.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The importing application will find the delimiting character, if it occurs in the data. This causes an incorrect determination of the boundary between fields. For example, if a comma (<strong>,</strong>) is the field delimiter and the data for a field was <strong>FMPATIENT,10</strong>, the importing application would put <strong>FMPATIENT</strong> into the first field and <strong>10</strong> into the second field. You can avoid this problem by specifying that data in <em>non</em>-numeric fields be surrounded by quotes (e.g., <strong>“FMPATIENT,10”</strong>). Most importing applications ignore delimiters, if they occur within a quoted string.<br />
<br />
<strong>REF:</strong> For more information on <em>non</em>-numeric fields, see the “<span class="underline">QUOTE NON-NUMERIC FIELDS?</span>” section.</p>
<h5 id="send-last-field-delimiter">SEND LAST FIELD DELIMITER?</h5>
<p>Some importing applications expect a field delimiter following every field, including the final field in a record. Other applications only expect delimiters between fields; nothing follows the final field. This field allows you to specify whether or not a field delimiter should be exported after the last field. A <strong>YES</strong> answer sends the delimiter, a <strong>NO</strong> answer does <em>not</em>.</p>
<p>The contents of this field does <em>not</em> affect whether or not a delimiter is sent after each <em>record</em>.</p>
<h5 id="record-delimiter">RECORD DELIMITER</h5>
<p>Applications that import delimited fields need to know when one record ends and a new one begins. In most cases, records are separated by a carriage return (or by a line feed and a carriage return). This is the same as pressing <strong>Enter</strong> at the end of a line. The Export Tool <em>automatically</em> puts this separator after each record; every record begins on a new line of output. You do <em>not</em> need to put the ASCII values for carriage return and line feed in this field.</p>
<p>Some applications may also require that additional characters be placed after each record. If this is the case, put those characters into the RECORD DELIMITER field. The requirements for coding the field are the same as for the FIELD DELIMITER field.</p>
<h5 id="record-length-fixed">RECORD LENGTH FIXED?</h5>
<p>A second common way to import and export data (in addition to using delimited data) is with fixed length records. In a fixed length record, each field has a predetermined, constant data length. For example, a name field might be 30 characters long. The name “FMPATNT,10” is only 10 characters long; thus, 20 spaces would be added to the field value to fill the required 30 characters. The next field’s value would begin in the thirty-first column.</p>
<p>If you want to import or export fixed length records, answer <strong>YES</strong> to this field. At the time that the EXPORT template is created (or an import is done), the user is prompted for the length of each field in the target or source file.</p>
<p>During export, in most cases data is truncated when the length of a field is reached. Thus, if a field contains 32 characters but the user-defined length is 30, the last 2 characters are <em>not</em> exported. However, DATE/TIME-valued fields are always exported in their entirety. For dates, the user <em>must</em> indicate a data length at least as long as the exported date, which is 11 characters for standard VA FileMan dates.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Fixed record lengths <em>cannot</em> be used in conjunction with field delimited data. Also, the <em>maximum record size for exports for a fixed length format is 255</em> characters. There is <em>no limit on record length during import</em>, however.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Fixed length exports succeed only if all fields are exported on the same physical line. Therefore, the total of all the field lengths <em>must not</em> be more than the value stored in the MAXIMUM OUTPUT LENGTH field.</p>
<h5 id="maximum-output-length">MAXIMUM OUTPUT LENGTH</h5>
<p>In many cases, data import is much easier if an entire record is contained on a single “line” of output; there are no carriage returns within a single record, only between records. (This is a requirement for a successful fixed length export.)</p>
<p>In a regular VA FileMan print, the amount of data printed before a carriage return is dependent on the type of device being used for output (i.e., a CRT screen would normally have 80 characters on a line, a printer 80 or 132). For data export, however, the physical characteristics of the output device are <em>not</em> controlling. Rather, the capabilities of the application importing data are overriding. Therefore, you can use the MAXIMUM OUTPUT LENGTH field to specify the length of a physical record. For field delimited (as opposed to fixed length) exports, this record length can be larger than the traditional M data limit of 255 characters.</p>
<p>Put a number from 0 through 9999 into this field. The default record length is 80. If you want the user to be prompted for a record length at the time that an EXPORT template is being created, put “0” (zero) into this field.</p>
<p>Regardless of the length of the maximum record, a carriage return is written after each record is output.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The length of a record <em>cannot</em> exceed 255 characters when using a fixed length format.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: When sending exports to a Host file on a DSM for OpenVMS (e.g., VAX) system, you <em>must</em> add a parameter to the OPEN command, if any of your exported records are longer than 512 characters. See the “Export Data” section for details.</p>
<h5 id="need-foreign-field-names">NEED FOREIGN FIELD NAMES?</h5>
<p>If this field is answered <strong>YES</strong>, the user is prompted for a field name for each exported field when the EXPORT template is created. The field names are stored in the NAME OF FOREIGN FIELD field in the EXPORT FIELD Multiple in the PRINT TEMPLATE file (#.4).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For one way to use this information, see the discussion in the “<span class="underline">FILE HEADER</span>” section.</p>
<h5 id="quote-non-numeric-fields">QUOTE NON-NUMERIC FIELDS?</h5>
<p>When <em><strong>importing</strong></em> data, VA FileMan ignores the field delimiter in a quoted string when this field is set to <strong>YES</strong>.</p>
<p>When <em><strong>exporting</strong></em> data, if you want all values that do <em>not</em> belong to a DATA TYPE field of NUMERIC to be surrounded by quotation marks, answer <strong>YES</strong> to this field.</p>
<p>Many importing applications treat data within quotation marks (<strong>“</strong>) in a special way. Sometimes such data is automatically considered to be text, as opposed to numbers. Also, the importer may ignore the field delimiter character, if it falls within a quoted string. Quoting a null value from a <em>non</em>-numeric field results in two double quotes (<strong>“”</strong>) being exported.</p>
<p>During export, the DATA TYPE field value is automatically determined for fields in the primary file and its Multiples. DATA TYPE fields of NUMERIC are considered NUMERIC. There may be other fields that you want treated as NUMERIC. For example:</p>
<ul>
<li><p>COMPUTED-type fields with numeric results.</p></li>
<li><p>Fields referenced by the extended pointer syntax.</p></li>
<li><p>Replies to the “EXPORT FIELD:” prompt that are computed expressions with numeric results.</p></li>
</ul>
<p>By default, these fields are assigned a FREE TEXT DATA TYPE. If you want the user to choose the DATA TYPE when the EXPORT template is created, answer <strong>YES</strong> to the PROMPT FOR DATA TYPE? field.</p>
<p>If the Export Tool assigns a <em>non</em>-numeric to a DATA TYPE field or if the user chooses one of those DATA TYPE field values, the field’s values is surrounded by quotes when this field contains <strong>YES</strong>.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Do <em>not</em> set this field to <strong>YES</strong> if a fixed length record is being exported or imported.</p>
<h5 id="prompt-for-data-type">PROMPT FOR DATA TYPE?</h5>
<p>The Export Tool determines the DATA TYPE field value for fields in the primary file and its Multiples based on their definition in the data dictionary. Other fields are automatically assigned a DATA TYPE of FREE TEXT. If you want the user to choose the DATA TYPE of each field when creating an EXPORT template, answer <strong>YES</strong> to this field. The only DATA TYPE field values recognized by the Export Tool are the following:</p>
<ul>
<li><p>FREE TEXT</p></li>
<li><p>NUMERIC</p></li>
<li><p>DATE/TIME.</p></li>
</ul>
<p>The DATA TYPE field value entered by the user controls whether or not the values from that field are surrounded by quotes if the QUOTE NON-NUMERIC FIELDS? field is set to <strong>YES</strong>. The user supplied DATA TYPE field value does <em>not</em> affect how numbers are exported; numeric export is controlled by the DATA TYPE field value in the data dictionary only.</p>
<h6 id="substitute-for-null">SUBSTITUTE FOR NULL</h6>
<p>Numeric fields with no data (a “null” value) results by default in nothing being exported for that field. For fixed record length exports, this should <em>not</em> be a problem. However, if your importing application uses spaces as a delimiter, you may need a printable character to be exported for null-valued numeric fields. If you want a character or characters (such as “<strong>0</strong>” or “<strong>.</strong>”) substituted for numeric nulls, put them into this field. Null values for DATA TYPE field values of NUMERIC in the primary file (including its Multiples) have this character exported. If you want quotes (<strong>‘‘</strong>) in your substitute string, enter two quote marks (<strong>““</strong>) for each quote you want.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Do <em>not</em> put anything in this field when defining a fixed length format.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: There are no substitutions for null values if the field being exported is <em>not</em> in the primary file; if it is reached using relational navigation.</p>
<h5 id="date-format">DATE FORMAT</h5>
<p>The native, or default, format for dates varies from application to application. VA FileMan uses two formats:</p>
<ul>
<li><p>Internal or Storage format:</p></li>
</ul>
<p><em>YYYMMDD</em></p>
<p>Where <em>YYY</em> is the year minus 1700.</p>
<ul>
<li><p>External or Default display format:</p></li>
</ul>
<p><em>MON DD,YYYY</em></p>
<p>When data from a DATA TYPE field of DATE/TIME is exported, it is in the external format.</p>
<p>Since the importing application may recognize a different format, you can change the exported value by placing M code in this field (only those with programmer access can enter code in this field.) When this M code is executed, the local variable X contains the date in VA FileMan <em>internal</em> format. Your M code should result in the local variable Y containing the date in the format you want exported.</p>
<p>If your format is used with Kernel, it is <em>recommended</em> that you make use of the date extrinsic functions provided by Kernel, if possible.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on Kernel date extrinsic functions, see the <em>Kernel Developer’s Guide</em>.</p>
<p>Data from fields with DATA TYPE field values of DATE/TIME in the primary file, its Multiples and pointed-to files are altered by the code in this field; date values from other sources are <em>not</em>. There is another way to change the exported output; you can use a VA FileMan function when selecting fields for export:</p>
<p><span id="_Toc342980629" class="anchor"></span>Figure 24: Import and Export Tools—Using VA FileMan functions when exporting data</p>
<p>THEN EXPORT FIELD: <strong>NUMDATE(DATE OF BIRTH)</strong></p>
<p>The DATE FORMAT field has no effect on that output.</p>
<h5 id="file-header">FILE HEADER</h5>
<p>Some applications require special information to process the data in the file that is imported. For example, the field names might be needed. Also, you can put some special data into the file for identification or documentation purposes.</p>
<p>The FILE HEADER field allows you to output information before the stream of exported data. This field can contain either a literal string surrounded by quotation marks (e.g., “Data for Lotus 1-2-3”) or M code that, when executed, writes the desired output.</p>
<p>You can put M code here only if you have programmer access. The local variable DDXPXTNO, which equals the internal entry number in the PRINT TEMPLATE file (#.4) of the EXPORT template being used for data output, is defined when the code is executed. You can use this variable to access information about the export. The data type, length, and foreign field name are stored in the EXPORT FIELD Multiple field (#100).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For additional information, see the data dictionary for the PRINT TEMPLATE file (#.4).</p>
<h5 id="file-trailer">FILE TRAILER</h5>
<p>You can use this field like the FILE HEADER field. The literal or M code is output <em>after</em> the exported data.</p>
<h5 id="variables-available-for-developer-use">Variables Available for Developer Use</h5>
<p>Some of the fields in the FOREIGN FORMAT file (#.44) allow you to enter M code, if you have programmer access. You can use data stored in the EXPORT template entry at the time the export is performed. You can also access information in the FOREIGN FORMAT file (#.44) entry used for the export.</p>
<p>Two variables are available for use in the M code entered in the FOREIGN FORMAT file (#.44) fields:</p>
<ul>
<li><p><strong>DDXPXTNO</strong>—Internal entry number of the EXPORT template in the PRINT TEMPLATE file.</p></li>
<li><p><strong>DDXPFFNO</strong>—Internal entry number of the Foreign Format in the FOREIGN FORMAT file (#.44).</p></li>
</ul>
<p>Consult the data dictionaries of the two files for fields that can contain useful information about either the format or the specific export itself. The EXPORT FIELD Multiple field (#100) in the PRINT TEMPLATE file (#.4) might be of particular interest. This Multiple contains information about each field being exported.</p>
<h4 id="print-format-documentation-option">Print Format Documentation Option</h4>
<p><span id="_Toc342980630" class="anchor"></span>Figure 25: Import and Export Tools—Print Format Documentation option</p>
<p>VA FileMan ... [DIUSER]</p>
<p>Other Options ... [DIOTHER]</p>
<p>Data Export to Foreign Format ... [DDXP EXPORT MENU]</p>
<p>Print Format Documentation [DDXP FORMAT DOCUMENTATION]</p>
<p>You can list the available FOREIGN FORMAT file (#.44) entries on the system using the Print Format Documentation option. When you use this option, you are given the choice of specifying individual formats or of printing all of the formats on your system. Since your system can contain many formats, try to select individual ones.</p>
<p><span class="underline">Figure 26</span> shows a typical dialogue for choosing formats and the resulting output:</p>
<p><span id="_Ref462325309" class="anchor"></span>Figure 26: Import and Export Tools—Listing FOREIGN FORMAT file entries using the Print Format Documentation option</p>
<p>Select DATA EXPORT TO FOREIGN FORMAT OPTION: <strong>PRINT FORMAT DOCUMENTATION</strong></p>
<p>Select one of the following:</p>
<p>1 Only print selected foreign formats</p>
<p>2 Print all foreign formats</p>
<p>Enter response: <strong>1 &lt;Enter&gt;</strong> Only print selected foreign formats</p>
<p>Select FOREIGN FORMAT: <strong>123 IMPORT NUMBERS</strong></p>
<p>Select FOREIGN FORMAT: <strong>EXCEL-COMMA</strong></p>
<p>Select FOREIGN FORMAT: <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>AVAILABLE FOREIGN FORMATS NOV 2,1992 15:34 Page 1</p>
<p>------------------------------------------------------------------------------</p>
<p>NAME: 123 IMPORT NUMBERS</p>
<p>DESCRIPTION: This format exports data for use with LOTUS 1-2-3 spreadsheets.</p>
<p>Non-numeric fields will be in quotes.</p>
<p>Each field will be separated by a space.</p>
<p>USAGE NOTE: To import into 1-2-3, choose FILE-&gt;IMPORT-&gt;NUMBERS.</p>
<p>OTHER NAME: LOTUS 123 (NUMBERS)</p>
<p>DESCRIPTION:</p>
<p>NAME: EXCEL-COMMA</p>
<p>DESCRIPTION: Use this format to export data to the EXCEL spreadsheet on the Macintosh. The exported data will have a comma between each field’s value. The user will be asked to specify the data type of each exported field. Those fields that are not numeric will be surrounded by quotes (“). Commas are allowed in the</p>
<p>non-numeric data, but quotes (“) are not.</p>
<p>USAGE NOTE:</p>
<p>OTHER NAME: COMMA DELIMITED</p>
<blockquote>
<p>DESCRIPTION: Exported data is delimited by commas. Non-numeric data is surrounded by quotes.</p>
</blockquote>
<p>OTHER NAME: CSV</p>
<p>DESCRIPTION: Comma Separated Values.</p>
<h4 id="define-foreign-file-format-option">Define Foreign File Format Option</h4>
<p><span id="_Toc342980632" class="anchor"></span>Figure 27: Import and Export Tools—Define Foreign File Format option</p>
<p>VA FileMan ... [DIUSER]</p>
<p>Other Options ... [DIOTHER]</p>
<p>Data Export to Foreign Format ... [DDXP EXPORT MENU]</p>
<p>Define Foreign File Format [DDXP DEFINE FORMAT]</p>
<p>**&gt; Locked with DDXP-DEFINE</p>
<p>All exports depend on a Foreign Format. In addition, you can use Foreign Formats for imports as well. Usually, you can use an existing format to properly format your data for export or import.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> To find out what formats exist on your system, see the “<span class="underline">Print Format Documentation Option</span>” section.</p>
<p>If no existing format meets your needs, use the Define Foreign File Format option to create a new one. You can use the Define Foreign File Format option to:</p>
<ul>
<li><p>Define a new Foreign Format from scratch.</p></li>
<li><p>Modify a Foreign Format that has <em>not</em> been used to create an EXPORT template.</p></li>
<li><p>Copy an existing format in order to create a similar, modified one.</p></li>
</ul>
<p>If you are using the Export Tool through Kernel’s menu system, you need the DDXP-DEFINE key to use the Define Foreign File Format option.</p>
<p><span class="underline">Figure 28</span> is an example of making a new format from an existing one.</p>
<p>The Define Foreign File Format option is the first one on the Data Export to Foreign Format submenu:</p>
<p><span id="_Ref389629618" class="anchor"></span>Figure 28: Import and Export Tools—Choosing the Define Foreign Format option</p>
<p>Select OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>DATA EXPORT TO FOREIGN FORMAT</strong></p>
<p>Select DATA EXPORT TO FOREIGN FORMAT OPTION: <strong>DEFINE FOREIGN FILE FORMAT</strong></p>
<p>You are first asked for the name of a format. If you want to create a new format from scratch, enter a new name. You are presented with the ScreenMan form used to define a Foreign Format (see <span class="underline">Figure 29</span>).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Whenever you are asked to choose a FOREIGN FORMAT, you can reply with either the format’s NAME or one of its OTHER NAMES.</p>
<p>In <span class="underline">Figure 29</span>, an existing format’s name is given:</p>
<p><span id="_Ref342485832" class="anchor"></span>Figure 29: Import and Export Tools—Selecting an existing FOREIGN FORMAT file entry</p>
<p>Select FOREIGN FORMAT: <strong>123 IMPORT NUMBERS</strong></p>
<p>123 IMPORT NUMBERS foreign format has been used to create an Export Template.</p>
<p>Therefore, its definition cannot be changed.</p>
<p>This format has already been used to create an EXPORT template. Since that template relies on the information in the FOREIGN FORMAT file’s (#.44) entry at the time the template was created, you <em>cannot</em> modify this format. Instead, you are given the option of seeing what is in the format:</p>
<p><span id="_Ref342485882" class="anchor"></span>Figure 30: Import and Export Tools—Viewing the contents of a FOREIGN FORMAT file entry</p>
<p>Do you want to see the contents of 123 IMPORT NUMBERS format? NO// <strong>YES</strong></p>
<p>NAME: 123 IMPORT NUMBERS FIELD DELIMITER: 032</p>
<p>MAXIMUM OUTPUT LENGTH: 0 FORMAT USED?: YES</p>
<p>QUOTE NON-NUMERIC FIELDS?: YES PROMPT FOR DATA TYPE?: YES</p>
<p>SEND LAST FIELD DELIMITER?: YES SUBSTITUTE FOR NULL: 0</p>
<p>DESCRIPTION: This format exports data for use with LOTUS 1-2-3</p>
<p>spreadsheets. Non-numeric fields will be in quotes. Each field</p>
<p>will be separated by a space. A 0 will be exported for null-</p>
<p>valued numeric fields in the primary file.</p>
<p>USAGE NOTES: To import into 1-2-3, choose FILE-&gt;IMPORT-&gt;NUMBERS.</p>
<p>As this example shows (<span class="underline">Figure 30</span>), the FORMAT USED? field is <strong>YES</strong>. This indicates that the format has been used to create an EXPORT template.</p>
<p>Whether you ask to see the contents of the format or not, you are next given the chance to make a copy of the format in order to modify it. You enter a name for the new format that does <em>not</em> yet exist in the FOREIGN FORMAT file (#.44):</p>
<p><span id="_Toc342980636" class="anchor"></span>Figure 31: Import and Export Tools—Creating a new FOREIGN FORMAT file entry</p>
<p>Do you want to use 123 IMPORT NUMBERS as the basis</p>
<p>for a new format? NO// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<p>Name for new FOREIGN FORMAT: <strong>CLONE 123 IMPORT NUMBERS</strong></p>
<p>Are you adding ‘CLONE 123 IMPORT NUMBERS’ as</p>
<p>a new FOREIGN FORMAT (the 22ND)? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>When the new format has been created, you are given the opportunity to modify it. The ScreenMan form in <span class="underline">Figure 32</span> is used for editing Foreign Formats:</p>
<p><span id="_Ref343503212" class="anchor"></span>Figure 32: Import and Export Tools—ScreenMan form for editing foreign formats</p>
<p><span class="underline">FOREIGN FILE FORMAT</span>: <strong>CLONE 123 IMPORT NUMBERS</strong> Page 1</p>
<p>=============================================</p>
<p>FIELD DELIMITER: <strong>032</strong> RECORD LENGTH FIXED?</p>
<p>SEND LAST DELIMITER? <strong>YES</strong> MAXIMUM OUTPUT LENGTH: <strong>0</strong></p>
<p>RECORD DELIMITER: NEED FOREIGN FIELD NAMES?</p>
<p>FILE HEADER:</p>
<p>FILE TRAILER:</p>
<p>DATE FORMAT:</p>
<p>SUBSTITUTE FOR NULL: <strong>0</strong></p>
<p>QUOTE NON-NUMERIC? <strong>YES</strong></p>
<p>PROMPT FOR DATA TYPE? <strong>YES</strong></p>
<p>Go to next page to document format.</p>
<p>___________________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> The meaning of the fields on this page of the form is described in the “<span class="underline">FOREIGN FORMAT File Attributes Reference</span>” section.</p>
<p>You are presented with the same form whether you are modifying an existing format or creating one from scratch.</p>
<p><strong>TIP:</strong> It is important to always create and edit formats using the Data Export options because validity checks on the relationships between the various fields are built into the ScreenMan form. If you enter inconsistent data, you are alerted when you try to exit the form.</p>
<p>There is a second page of the form that contains documenting information about the format. The second page allows you to enter a description and usage notes for the format. You can also enter other names for the format (in a Multiple); these other names can then be used to reference the format anywhere in the Export or Import Tools.</p>
<p><span class="underline">Figure 33</span> is what the second page looks like with the Multiple’s “popup” window opened:</p>
<p><span id="_Ref343503221" class="anchor"></span>Figure 33: Import and Export Tools—Second page of a Multiple’s with a “popup” window opened</p>
<p><span class="underline">FOREIGN FILE FORMAT</span>: <strong>CLONE 123 IMPORT NUMBERS</strong> Page 2</p>
<p>=============================================</p>
<p>DESCRIPTION (WP):</p>
<p>USAGE NOTES (WP):</p>
<p>Select OTHER NAME FOR FORMAT: <strong>LOTUS 123 (NUMBERS)</strong></p>
<p>_____________________________________</p>
<p>| |</p>
<p>| OTHER NAME: <strong>LOTUS 123 (NUMB |</strong></p>
<p>| DESCRIPTION (WP): |</p>
<p>|_____________________________________|</p>
<p>___________________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>After you have completed and filed the ScreenMan forms, you are returned to the Data Export submenu. You can now use the new format to create an EXPORT template or do an import.</p>

<h1 id="relational-navigation">Relational Navigation</h1>
<p>Relational navigation gives you a way to reach beyond the current file to reference fields within other files.</p>
<p>Suppose, for example, you are doing a printout from the PATIENT file (#2). In the PATIENT file (#2), there is a pointer to the (fictitious) DOCTOR file. This links a given patient to a given doctor. But the only information about the doctor available from the point of view of the PATIENT file (#2) is the doctor’s name. What if, in your printout, you want to print the doctor’s name, phone number, and specialty (where phone number and specialty are fields in the DOCTOR file)?</p>
<p>The answer is to use relational navigation. By using the pointer relationship between the PATIENT and the (fictitious) DOCTOR file, you can start from the PATIENT file (#2), and for each record in the PATIENT file (#2), retrieve not only the name of the doctor for that patient, but also additional information about the doctor from the (fictitious) DOCTOR file.</p>
<p><span id="_Toc472602129" class="anchor"></span>Figure 34: Relational Navigation—Example Illustrating Relational Navigation</p>
<p><img src="./media/image7.jpg" title="Relational Navigation—Example Illustrating Relational Navigation" alt="Example Illustrating Relational Navigation Graphic showing an example Illustrating Relational Navigation. PATIENT File Record box (sample FMPATIENT,11 record displayed) --&gt; Pointer Relationship --&gt; DOCTOR File Record box (sample FMPROVIDER,1 record displayed) Both PATIENT File Record box and DOCTOR File Record box point to a sample PATIENT LIST report: Relational Navigation lets you combine information from different files." style="width:6.5in;height:4.06875in" /></p>
<p>You can use relational navigation in many places in VA FileMan to <em>move beyond the current file</em> and retrieve or edit information in related files’ records, including:</p>
<ul>
<li><p>Reports (Print Fields, Sort Criteria, Search Criteria)</p></li>
<li><p>Editing Records (edit information in related files, <em>not</em> just current file)</p></li>
<li><p>Computed Expressions</p></li>
<li><p>COMPUTED Fields</p></li>
<li><p>Within word-processing <strong>|Windows|</strong></p></li>
</ul>
<p>The syntax to perform relational navigation, called Extended Pointer syntax, is discussed throughout this section.</p>
<p>Several types of pointer relationships between files can be exploited to combine information:</p>
<ul>
<li><p><span class="underline">Simple Extended Pointer</span> (most common)</p></li>
<li><p><span class="underline">Backward Extended Pointer</span></p></li>
<li><p><span class="underline">Join Extended Pointer</span></p></li>
</ul>
<p>A special form of relational navigation, called relational jumping, uses these pointer relationships to let you “jump” from one file to another. This makes it easier to specify a group of fields from another file when specifying what fields to edit, search, print, or sort by in interactive VA FileMan.</p>
<h2 id="simple-extended-pointer">Simple Extended Pointer</h2>
<p>The most common form of relational navigation uses <em>simple extended pointers</em>. This type of navigation requires a pointer field to exist from the current file to another file. Using a pointer field from an entry in the current file, you can easily retrieve information from the pointed-to entry in another file.</p>
<p>For example, suppose you are printing a report from the PATIENT file (#2). Further suppose that the PATIENT file (#2) has a pointer field called ATTENDING PHYSICIAN field to the (fictitious) DOCTOR file. Now, what if you wanted to include the phone number of the attending physician for each patient in your report from the PATIENT file? The attending physician’s phone number is stored in the (fictitious) DOCTOR file, <em>not</em> the PATIENT file.</p>
<p>You can include the attending physician’s phone number for each patient in your report, by using a simple extended pointer at the “PRINT FIELD:” prompt:</p>
<p><span id="_Toc342980640" class="anchor"></span>Figure 35: Relational Navigation—Example of a simple extended pointer</p>
<p>PRINT FIELD: <strong>ATTENDING PHYSICIAN:PHONE NUMBER</strong></p>
<p>You can use simple extended pointers in many places in VA FileMan, including:</p>
<ul>
<li><p>Reports (Print Fields, Sort Criteria, Search Criteria)</p></li>
<li><p>Editing Records (edit information in related files, <em>not</em> just current file)</p></li>
<li><p>Computed Expressions</p></li>
<li><p>COMPUTED Fields</p></li>
<li><p>Within word-processing <strong>|Windows|</strong></p></li>
</ul>
<p>The syntax for simple extended pointers is described below.</p>
<h3 id="simple-extended-pointer-syntax-short-form">Simple Extended Pointer Syntax (Short form)</h3>
<p>With simple extended pointers, there <em>must</em> be an existing relationship based on a pointer field from the current file to the file you are interested in. In this case, you can reference a field in a pointed-to entry by using the following syntax:</p>
<p>pfield:element</p>
<ul>
<li><p>“<strong>pfield</strong>” is the name (or number, preceded by <strong>#</strong>) of a pointer field in the current file.</p></li>
<li><p>“<strong>element</strong>” is an element that exists in the field to which pfield points.</p></li>
</ul>
<p>This is called the short form of extended pointer syntax.</p>
<p>For example, since ATTENDING PHYSICIAN is a pointer field in the current file to the (fictitious) DOCTOR file, the short form of extended pointer syntax to reference the PHONE NUMBER field in the (fictitious) DOCTOR file would be:</p>
<p>ATTENDING PHYSICIAN:PHONE NUMBER</p>
<h3 id="simple-extended-pointer-syntax-long-form">Simple Extended Pointer Syntax (Long Form)</h3>
<p>The most complete or general form of extended pointer syntax (also called long form) is shown below:</p>
<p>expr:file:element</p>
<p>OR</p>
<p>expr IN file FILE:element</p>
<p>“<strong>Expr</strong>” is any expression that applies to the file that is your current context. “<strong>File</strong>” is the name of any file. “<strong>Element</strong>” is any element (field) in the file named by “File”.</p>
<p>For example, since ATTENDING PHYSICIAN is a pointer field in the current file to the (fictitious) DOCTOR file, the long form of extended pointer syntax to reference the PHONE NUMBER field in the (fictitious) DOCTOR file would be:</p>
<p>ATTENDING PHYSICIAN:DOCTOR:PHONE NUMBER</p>
<p>OR</p>
<p>ATTENDING PHYSICIAN IN file DOCTOR:PHONE NUMBER</p>
<h3 id="examples">Examples</h3>
<h4 id="relational-query-example">Relational Query Example</h4>
<p>You can use simple extended pointers to make relational queries. For example, suppose you want to print all patients who are older than their attending physicians. A field in the PATIENT file called ATTENDING PHYSICIAN points to the (fictitious) DOCTOR file. Given a field PT AGE in the PATIENT file and a field DR AGE in the (fictitious) DOCTOR file, you can use the Print File Entries option and then enter the information shown in <span class="underline">Figure 36</span>:</p>
<p><span id="_Ref462325096" class="anchor"></span>Figure 36: Relational Navigation—Example of a relational query</p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>SORT BY: NAME// <strong>PT AGE&gt; (ATTENDING PHYSICIAN:DR AGE)</strong></p>
<p>WITHIN PT AGE&gt;(ATTENDING PHYSICIAN:DR AGE), SORT BY: <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>NAME</strong></p>
<p>Here, the simple extended pointer (ATTENDING PHYSICIAN:DR AGE) is used to make a comparison between values in fields in two different files.</p>
<h4 id="computed-field-example">COMPUTED Field Example</h4>
<p>Suppose the PATIENT file has an ATTENDING PHYSICIAN field that points to the (fictitious) DOCTOR file. The (fictitious) DOCTOR file, in turn, has a field called SPECIALTY. If you want to create a COMPUTED field within the PATIENT file (#2) data dictionary that is equivalent to the SPECIALTY field in the (fictitious) DOCTOR file, you can define a COMPUTED field as:</p>
<p><span id="_Toc342980642" class="anchor"></span>Figure 37: Relational Navigation—Example of the short form extended Pointer syntax</p>
<p>‘COMPUTED-FIELD’ EXPRESSION: <strong>ATTENDING PHYSICIAN:SPECIALTY</strong></p>
<p>The file does <em>not</em> have to be specified in this case, since there is a direct link between the two files through the pointer field. This is an example of the <em><strong>short form</strong></em> of the simple extended pointer syntax.</p>
<p>An equivalent computed expression that explicitly identifies the file is: ATTENDING PHYSICIAN IN DOCTOR FILE:SPECIALTY. This is the <em><strong>long form</strong></em> of the syntax. It is “long” because the file name is included.</p>
<h3 id="how-to-navigate-with-a-variable-pointer-field">How to Navigate With a Variable Pointer Field</h3>
<p>If the pointing field is a variable pointer, the long form of the extended pointer syntax <em>must</em> be used so that VA FileMan knows which of the pointed-to files to search. Here is the syntax:</p>
<p>vpfield IN file FILE:element</p>
<p>OR</p>
<p>vpfield:file:element</p>
<p>“<strong>Vpfield</strong>” is the variable-pointer field in the current file, “<strong>file</strong>” is one of the possible pointed-to files, and “<strong>element</strong>” applies to that pointed-to file.</p>
<p><span class="underline">Figure 38</span> is an example from the PATIENT file (#2) where the PROVIDER field is a variable pointer to either the (fictitious) PHYSICIAN file or the (fictitious) PERSON file, and PHONE is a field in the (fictitious) PERSON file. You could enter the print specifications shown in <span class="underline">Figure 38</span>:</p>
<p><span id="_Ref389629668" class="anchor"></span>Figure 38: Relational Navigation—Entering print specifications and including fields in pointed-to files</p>
<p>FIRST PRINT FIELD: <strong>NAME</strong></p>
<p>THEN PRINT FIELD: <strong>PROVIDER</strong></p>
<p>THEN PRINT FIELD: <strong>FILE(PROVIDER)</strong></p>
<p>THEN PRINT FIELD: <strong>PROVIDER:PERSON:PHONE</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>You would receive the output shown in <span class="underline">Figure 39</span>:</p>
<p><span id="_Ref389633231" class="anchor"></span>Figure 39: Relational Navigation—Example of output that includes fields from pointed-to files</p>
<p>NAME PROVIDER FILE(PROVIDER) PROVIDER:PERSON:PHONE</p>
<p>---------------------------------------------------------------------------</p>
<p>FMPATIENT,13 FMPROVIDER,3 PHYSICIAN</p>
<p>FMPATIENT,14 FMPROVIDER,4 PERSON 555-3332</p>
<p>The long form simple pointer asked for the PHONE field from the PERSON file. Only the variable pointer from the FMPATIENT,14 entry pointed to the (fictitious) PERSON file. Thus, only his phone number is displayed.</p>
<h2 id="relational-jumps-across-files">Relational Jumps across Files</h2>
<p>In interactive VA FileMan mode, you can use the following syntax:</p>
<p>file:</p>
<p>This syntax changes your context to the file you specify; you “jump” to the specified file. You can then select fields from the file to which you have jumped. You can only do this in four places in VA FileMan:</p>
<ul>
<li><p>“EDIT WHICH FIELD:” prompt (Enter or Edit File Entries option)</p></li>
<li><p>“SEARCH FOR FIELD:” prompt (Search File Entries option)</p></li>
<li><p>“SORT BY:” prompt (Print File Entries and Search File Entries option)</p></li>
<li><p>“PRINT FIELD:” prompt (Print File Entries and Search File Entries option)</p></li>
</ul>
<p>Relational jumping is mainly a convenience to make it easier to select more than one field from another file. By letting you temporarily “jump” to the other file, it’s easier to pick all the fields you want directly, rather than having to use extended pointer syntax to specify each field.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> When sorting, printing, searching, or editing, if you want to reference several fields from another file, it is more efficient to jump to the file and specify the needed fields than it is to use the extended pointer syntax to reference the fields one at a time. Multiple uses of the extended pointer cause multiple relational jumps.</p>
<p><span class="underline">Table 4</span> lists the four types of relational jumps that correspond to the four extended pointer syntax:</p>
<p><span id="_Ref462325028" class="anchor"></span>Table 4: Relational Navigation—Relational jumps that correspond to extended pointer syntax</p>
<table>
<tbody>
<tr class="odd">
<td>Type</td>
<td>Example</td>
</tr>
<tr class="even">
<td><strong>Simple (short form)</strong></td>
<td>ATTENDING PHYSICIAN:</td>
</tr>
<tr class="odd">
<td><strong>Simple (long form)</strong></td>
<td>PROVIDER IN PERSON FILE:</td>
</tr>
<tr class="even">
<td><strong>Backward</strong></td>
<td>RADIOLOGY EXAM:</td>
</tr>
<tr class="odd">
<td><strong>Join</strong></td>
<td>PAYSCALE IN FACTOR FILE:</td>
</tr>
</tbody>
</table>
<p>Within the Enter or Edit File Entries option, for example, you can respond to the prompts as depicted in the dialogue that follows:</p>
<p><span id="_Toc342980646" class="anchor"></span>Figure 40: Relational Navigation—Using relational jumps with the Enter or Edit File Entries option</p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>NAME</strong></p>
<p>THEN EDIT FIELD: <strong>ATTENDING PHYSICIAN:</strong></p>
<p>EDIT WHICH DOCTOR FIELD: ALL// <strong>NAME;”PHYSICIAN NAME”</strong></p>
<p>THEN EDIT DOCTOR FIELD: <strong>NICKNAME</strong></p>
<p>THEN EDIT DOCTOR FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Because of a pointer linkage between the ATTENDING PHYSICIAN field in the PATIENT file (#2) and the (fictitious) DOCTOR file, you can use the simple, short form of the extended pointer to navigate to the (fictitious) DOCTOR file. Then, during an interactive editing session you can specify the fields you want to edit for each patient. In this case, after you edit the patient’s name, you can edit that patient’s physician’s name and nickname.</p>
<h2 id="backward-extended-pointer">Backward Extended Pointer</h2>
<p>Simple extended pointers let you retrieve information from an entry in another file that the current entry explicitly points to through a POINTER TO A FILE field. What if you wanted to go the other way—retrieve information from an entry in another file that points to (<em>not from</em>) the current entry?</p>
<p><span id="_Ref343503121" class="anchor"></span>Figure 41: Relational Navigation—Example illustrating a file with pointers to another file</p>
<p>Suppose you have selected the PATIENT file (#2) and you want to list dates of radiology exams for certain patients. If the pointer is from the RADIOLOGY EXAM file to the PATIENT file (<em>not from</em>), you can list the radiology exam dates using a <em>Backward Extended Pointer</em>.</p>
<p>In the file that contains the POINTER TO A FILE field, one of the following three conditions <em>must</em> be true:</p>
<ol type="1">
<li><blockquote>
<p>Either a New-Style or Traditional cross-reference on the field exists. If the POINTER TO A FILE field is in a subfile Multiple, the whole file <em>must</em> be cross-referenced. Compound cross-references can be used as long as the first subscript in the cross-reference is the pointer value with no transforms. The use of a compound cross-reference can result in “navigation” to only a subset of the pointing entries. Even though a record can have a valid POINTER TO A FILE field, unless all the other fields that make up subscripts on the compound index are also non-null, there is no entry in the index for that record.</p>
</blockquote></li>
</ol>
<ol start="15" type="1">
<li><p>The .001 field of the file is the pointing field.</p></li>
<li><p>The .01 field of the pointing file is the pointing field, and there is a “DINUM” condition on the field.</p></li>
</ol>
<p>To use a Backward Extended Pointer, you <em>must</em> make a relational jump from the current file to the file in question (enter the name of the file pointing to the current file, followed by a colon). Once you make the relational jump to the backwards-pointer-linked file, specify which fields/elements to access in that file.</p>
<p>Returning to the situation mentioned above, within the RADIOLOGY EXAM file there is a field called EXAMINEE pointing back to the PATIENT file (#2). That EXAMINEE pointer field is cross-referenced. You want to list the EXAM DATE field from the RADIOLOGY EXAM file entries that point back to a patient. From the PATIENT file (#2), enter:</p>
<p><span id="_Toc342980648" class="anchor"></span>Figure 42: Relational Navigation—Example using a backward extended pointer</p>
<p>FIRST PRINT FIELD: <strong>NAME;N;S1</strong></p>
<p>THEN PRINT FIELD: <strong>RADIOLOGY EXAM:</strong></p>
<p>By ‘RADIOLOGY EXAM’, do you mean the RADIOLOGY EXAM File,</p>
<p>pointing via its ‘EXAMINEE’ Field? YES// <strong>&lt;Enter&gt;</strong> (YES)</p>
<p>THEN PRINT RADIOLOGY EXAM FIELD: <strong>EXAM DATE</strong></p>
<p>THEN PRINT RADIOLOGY EXAM FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>As indicated by this example, you did <em>not</em> have to specify the EXAMINEE field. That field was identified because it is a field in the RADIOLOGY EXAM file that points back to the current file.</p>
<p><span class="underline">Figure 43</span> is the output produced by these print specifications:</p>
<p><span id="_Ref389629696" class="anchor"></span>Figure 43: Relational Navigation—Example of the output produced after using a backward extended pointer</p>
<p>PATIENT LIST OCT 1,1996 15:12 PAGE 1</p>
<p>NAME EXAM DATE</p>
<p>-------------------------------------------------------------------</p>
<p>FMPATIENT,13 DEC 22,1995</p>
<p>FMPATIENT,14</p>
<p>FMPATIENT,15 1995</p>
<p>1993</p>
<p>FMPATIENT,10 SEP 29,1995</p>
<p>JUN 22,1996</p>
<p>The resulting output is a two-column report containing names from the PATIENT file and corresponding examination dates from the RADIOLOGY EXAM file. Since there may be several RADIOLOGY EXAM file entries for a given patient, this report is an example of a Multiple-valued (Multiline) result being returned.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on Multiline results being returned, see the “<span class="underline">Multiline Return Values</span>” section.</p>
<p>You can use Backwards Extended Pointers in the following places in VA FileMan:</p>
<ul>
<li><p>“EDIT WHICH FIELD:” prompt (Enter or Edit File Entries option)</p></li>
<li><p>“SEARCH FOR FIELD:” prompt (Search File Entries option)</p></li>
<li><p>“SORT BY:” prompt (Print File Entries and Search File Entries option)</p></li>
<li><p>“PRINT FIELD:” prompt (Print File Entries and Search File Entries option)</p></li>
</ul>
<h2 id="join-extended-pointer">Join Extended Pointer</h2>
<p>You can establish an extended pointer link even if there is no pre-existing pointer relationship between the two files. You use a value from one file to do a lookup in a second file.</p>
<p>Suppose you store in the (fictitious) PAY FACTOR file a list of factors for calculating taxes. Each entry in this file corresponds to a different pay scale. In the (fictitious) PERSONNEL file, you have a field called PAYSCALE. You want to retrieve the value of a field DEDUCTION in the PAY FACTOR entry that equals the PAYSCALE field for each entry in the (fictitious) PERSONNEL file. You can create a COMPUTED field expression in the (fictitious) PERSONNEL file:</p>
<p><span id="_Toc342980650" class="anchor"></span>Figure 44: Relational Navigation—Using a value from one file to do a lookup in a second file</p>
<p>‘COMPUTED-FIELD’ EXPRESSION: <strong>PAYSCALE IN PAY FACTOR FILE:DEDUCTION</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> PAYSCALE was <em>not</em> defined as pointing to the (fictitious) PAY FACTOR file. The link to that file is made by the COMPUTED field definition. PAYSCALE could itself be a COMPUTED field. In this situation, the value of the PAYSCALE field in the (fictitious) PERSONNEL file is used to do a normal lookup in the (fictitious) PAY FACTOR file using all lookup type cross-references.</p>
<p>In database terminology, this extended pointer capability is similar to a <strong>JOIN</strong> operation, because you can specify at any time a new relationship between two formerly unrelated files. Therefore, this type of pointing is called the Join Extended Pointer.</p>
<h3 id="limitations">Limitations</h3>
<p>If the join expression matches more than one entry in the file being joined, the first matching entry (by internal entry number) is returned as the result of the join. Thus, if your join expression is likely to match more than one entry, be aware that only the <em>first</em> matching entry is returned.</p>
<h3 id="example">Example</h3>
<p>You could find out if any entries in the PERSONNEL file could be matched against the NAME field in the PATIENT file just by specifying the sort shown in <span class="underline">Figure 45</span>:</p>
<p><span id="_Ref389633266" class="anchor"></span>Figure 45: Relational Navigation—Example of matching entries in two files using the SORT BY field</p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>SORT BY: <strong>NAME IN PERSONNEL FILE</strong></p>
<p>The expression at the “SORT BY:” prompt selects entries in the PERSONNEL file where the value of the NAME field in the PATIENT file matches the PERSONNEL file’s .01 field. The PATIENT file’s NAME field is being used as a lookup in the PERSONNEL file. Since we are evaluating the .01 field of the PERSONNEL file, the “<strong>:element</strong>” part of the extended pointer syntax is unnecessary.</p>
<h2 id="multiline-return-values">Multiline Return Values</h2>
<p>When you use extended pointer syntax, a lookup is performed in the navigated-to file. This lookup usually evaluates to a single value. However, in some situations, extended pointer syntax can end up returning a Multiple-valued or “Multiline” result. Multiline responses can be generated by:</p>
<ul>
<li><p>Simple Pointer to a WORD-PROCESSING Field</p></li>
<li><p>Simple Pointer to a Multiple</p></li>
<li><p>Backward Pointer</p></li>
</ul>
<p>You <em>cannot</em> use extended pointer syntax that can evaluate to a Multiline value at VA FileMan’s “SORT BY:” and “SEARCH FOR FIELD:” prompts. Some of the ways in which you <em>can</em> use extended pointers that evaluate to a Multiline value are:</p>
<ul>
<li><p>As the definition of a COMPUTED field.</p></li>
<li><p>Within word-processing <strong>|Windows|</strong> (so one document can call another document to print inside it).</p></li>
<li><p>For input to word-processing data elements (so you can use the Enter or Edit File Entries option to stuff one document into another).</p></li>
<li><p>As the name of a transfer document in the Line Editor’s Transfer option.</p></li>
<li><p>As a Print Field: specification in the Print File Entries option.</p></li>
<li><p>In an INPUT template when a multi-valued field is being edited.</p></li>
</ul>
<h3 id="word-processing-field">WORD-PROCESSING Field</h3>
<p>WORD-PROCESSING field names (or field numbers preceded with a <strong>#</strong>) are allowed as elements in extended pointer expressions. For example, in the PATIENT file (#2) the HISTORY field is in the DIAGNOSIS Multiple. You can define this computed expression:</p>
<p><span id="_Toc342980652" class="anchor"></span>Figure 46: Relational Navigation—Example of using a WORD-PROCESSING field in an extended pointer expression</p>
<p>“B-12 Deficiency” IN DIAGNOSIS FILE:HISTORY</p>
<p>This Multiline computed expression would signify the WORD-PROCESSING HISTORY field text associated with a patient’s B-12 Deficiency DIAGNOSIS. A lookup is done on the DIAGNOSIS Multiple using “B-12 Deficiency” as the lookup value. If the patient does <em>not</em> have that DIAGNOSIS (or no HISTORY is associated with it), the value of this extended pointer expression would be null.</p>
<h3 id="multiples">Multiples</h3>
<p>You can use the simple pointer syntax to get data from Multiples of files pointed to by other files. The RADIOLOGY EXAM file described above points to the PATIENT file (#2) by way of the EXAMINEE field. In the PATIENT file (#2) there is a DIAGNOSIS Multiple. You could obtain a list of diagnoses associated with RADIOLOGY EXAM file entries by doing what is shown in <span class="underline">Figure 47</span>:</p>
<p><span id="_Ref462324917" class="anchor"></span>Figure 47: Relational Navigation—Example of using the simple pointer syntax to get data from a Multiple</p>
<p>Select OPTION: <strong>PRINT FILE ENTRIES</strong></p>
<p>OUTPUT FROM WHAT FILE: RADIOLOGY EXAM// <strong>&lt;Enter&gt;</strong></p>
<p>SORT BY: NAME// <strong>&lt;Enter&gt;</strong></p>
<p>START WITH NAME: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>TEST NUMBER</strong></p>
<p>THEN PRINT FIELD: <strong>EXAMINEE:DIAGNOSIS</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>HEADING: RADIOLOGY EXAM LIST// <strong>&lt;Enter&gt;</strong></p>
<p>STORE PRINT LOGIC IN TEMPLATE: <strong>Exam Diagnoses</strong></p>
<p>For each entry in the RADIOLOGY EXAM file, EXAMINEE points to an entry in the PATIENT file (#2). The diagnoses associated with that patient are returned as the Multiline output of the expression EXAMINEE:DIAGNOSIS.</p>
<h3 id="backward-pointer">Backward Pointer</h3>
<p><span class="underline">Figure 48</span> shows how you can use the cross-referenced Backward Pointer that yields a Multiline response in an INPUT template:</p>
<p><span id="_Ref389631047" class="anchor"></span>Figure 48: Relational Navigation—Example using a cross-referenced backward pointer to yield a multiline response: Stored in an Input template</p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>NAME</strong></p>
<p>THEN EDIT FIELD: <strong>RADIOLOGY EXAM:</strong></p>
<p>By ‘RADIOLOGY EXAM’, do you mean the RADIOLOGY EXAM File,</p>
<p>pointing via its ‘EXAMINEE’ Field? YES// <strong>&lt;Enter&gt;</strong> (YES)</p>
<p>WILL TERMINAL USER BE ALLOWED TO SELECT PROPER ENTRY IN ‘RADIOLOGY EXAM’ FILE? YES// <strong>&lt;Enter&gt;</strong> (YES)</p>
<p>DO YOU WANT TO PERMIT ADDING A NEW ‘RADIOLOGY EXAM’ ENTRY? NO// <strong>&lt;Enter&gt;</strong></p>
<p>EDIT WHICH RADIOLOGY EXAM FIELD: <strong>DATE OF EXAM</strong></p>
<p>THEN EDIT WHICH RADIOLOGY EXAM FIELD: <strong>RESULTS</strong></p>
<p>THEN EDIT WHICH RADIOLOGY EXAM FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>THEN EDIT FIELD: <strong>ATTENDING PHYSICIAN</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE THESE FIELDS IN TEMPLATE: <strong>PATIENT-EXAM</strong></p>
<p>To use this template you:</p>
<ol type="1">
<li><blockquote>
<p>Specify the patient’s name to edit.</p>
</blockquote></li>
</ol>
<ol start="17" type="1">
<li><p>Select one of the RADIOLOGY EXAM file’s entries that point back to that patient.</p></li>
<li><p>Edit data within that selected entry in the RADIOLOGY EXAM file.</p></li>
<li><p>Return to edit another field in the PATIENT file (#2).</p></li>
</ol>
<p>A sample editing session using this INPUT template looks like this:</p>
<p><span id="_Toc342980655" class="anchor"></span>Figure 49: Relational Navigation—Example using an Input template with a cross-referenced backward pointer to yield a multiline response</p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>[PATIENT-EXAM</strong></p>
<p>Select PATIENT NAME: <strong>FMPATIENT,11</strong></p>
<p>NAME: FMPATIENT,11// <strong>&lt;Enter&gt;</strong></p>
<p>Select RADIOLOGY EXAM: <strong>?</strong></p>
<p>CHOOSE FROM:</p>
<p>1. DEC 4, 1984</p>
<p>2. OCT 1, 1985</p>
<p>CHOOSE 1-2: <strong>2</strong></p>
<p>DATE OF EXAM: OCT 1, 1985// <strong>&lt;Enter&gt;</strong></p>
<p>RESULTS: <strong>NORMAL</strong></p>
<p>ATTENDING PHYSICIAN: FMPATIENT// <strong>&lt;Enter&gt;</strong></p>
<p>As indicated by this example, the only RADIOLOGY EXAM file entries you were allowed to choose were the two that pointed back to the selected patient (FMPATIENT,11).</p>
<p>Each file, for the purpose of this editing sequence, is considered a subfile of the original, so that when no more fields within the second file are specified, the dialogue falls back to the original file. Having navigated over to a second file, you can use another extended pointer to move to still a third file.</p>
<p>You <em>cannot</em> cross file boundaries on input unless you have WRITE access to the file to which you move. This restriction applies to the individual who created this Patient-Exam INPUT template.</p>
<h1 id="advanced-edit-techniques">Advanced Edit Techniques</h1>
<h2 id="field-value-stuffing">Field Value Stuffing</h2>
<p>You can make the editing process quicker, easier, and more accurate by “stuffing” field values, when appropriate. The amount of data that needs to be entered from the keyboard can be reduced by providing responses that can be verified by pressing the <strong>Enter</strong> key or that are automatically put into the file.</p>
<h3 id="set-field-default-2">Set Field Default (2 //)</h3>
<p>You can require a particular field to default to a certain data value by answering the “EDIT WHICH FIELD:” prompt with the name of the field followed with two slashes (“<strong>//</strong>”) and the default value.</p>
<p>For example, if you enter:</p>
<p><span id="_Toc342980656" class="anchor"></span>Figure 50: Advanced Edit Techniques—Setting a default value for a field</p>
<p>EDIT WHICH FIELD: <strong>SEX//MALE</strong></p>
<p>In this example, every time you get to the SEX field prompt for an entry in which sex has <em>not</em> yet been recorded, MALE is prompted as the default value of the SEX field.</p>
<h3 id="stuffdelete-field-value-3">Stuff/Delete Field Value (3///)</h3>
<p>VA FileMan offers a way to force a value to be inserted into the database (i.e., “stuff”), even if a different value is already on file. You simply use three slashes (“<strong>///</strong>”) instead of two:</p>
<p><span id="_Toc342980657" class="anchor"></span>Figure 51: Advanced Edit Techniques—”Stuffing” a value into a field in the database</p>
<p>EDIT WHICH FIELD: <strong>SEX///MALE</strong></p>
<p>No terminal dialogue occurs when such mandatory defaults are inserted.</p>
<p>If you want to force the value of SEX to be deleted, you would respond as follows:</p>
<p><span id="_Toc342980658" class="anchor"></span>Figure 52: Advanced Edit Techniques—Deleting a value from a field in the database</p>
<p>EDIT WHICH FIELD: <strong>SEX///@</strong></p>
<p>After entering the at-sign (“<strong>@</strong>”), you would see the message shown in <span class="underline">Figure 53</span>:</p>
<p><span id="_Ref389633307" class="anchor"></span>Figure 53: Advanced Edit Techniques—Warning message when deleting a value from a field in the database</p>
<p>WARNING: THIS MEANS AUTOMATIC DELETION!!</p>
<p>The three-slash default’s value <em>must</em> contain the external value of the field. The value is validated (using the INPUT transform) just as a user-supplied response is validated.</p>
<h3 id="unvalidated-stuffs-4">Unvalidated Stuffs: (4////)</h3>
<p>If you have programmer access, you can define a default that does <em>not</em> go through the INPUT transform by using four slashes (“<strong>////</strong>”). If you use this kind of default, you <em>must</em> show the internally stored value of the field.</p>
<p>For example, the SEX field has a DATA TYPE field value of SET OF CODES, where “<strong>m</strong>” stands for MALE and “<strong>f</strong>” stands for FEMALE; you could define a four-slash stuff like this:</p>
<p><span id="_Toc342980660" class="anchor"></span>Figure 54: Advanced Edit Techniques—”Stuffing” default value into a field in the database—Bypassing INPUT Transform</p>
<p>EDIT WHICH FIELD: <strong>SEX////m</strong></p>
<h3 id="variable-stuffs">Variable Stuffs</h3>
<p>An even more powerful kind of default is the variable default. In this mode, you specify, <em>not</em> a literal value like the word MALE, but rather a field name from which to calculate the default value for each entry being edited.</p>
<p>One example of the usefulness of this kind of default is a case where you are editing two fields that usually have the same value. Suppose that, for a set of patients, you want to enter a NEXT OF KIN field, followed by a BENEFICIARY field. Once you have typed a patient’s NEXT OF KIN, you want to see that particular answer as the default value of BENEFICIARY.</p>
<p>The process would look like <span class="underline">Figure 55</span>:</p>
<p><span id="_Ref462324753" class="anchor"></span>Figure 55: Advanced Edit Techniques—Example of “Stuffing” a variable default value into a field in the database</p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>NEXT OF KIN</strong></p>
<p>THEN EDIT FIELD: <strong>BENEFICIARY//NEXT OF KIN</strong></p>
<p>DO YOU MEAN ‘NEXT OF KIN’ AS A VARIABLE? YES// <strong>&lt;Enter&gt;</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>FMPATIENT,11</strong></p>
<p>NEXT OF KIN: <strong>MRS CLOSERELATIVE FMPATIENT</strong></p>
<p>BENEFICIARY: MRS CLOSERELATIVE FMPATIENT// <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>FMPATIENT,14</strong></p>
<p>NEXT OF KIN: <strong>MR CLOSERELATIVE FMPATIENT</strong></p>
<p>BENEFICIARY: MR CLOSERELATIVE FMPATIENT// <strong>MISS CLOSERELATIVE_2 FMPATIENT</strong></p>
<p>Here, Mrs. CLOSERELATIVE FMPATIENT ends up as both the NEXT OF KIN and BENEFICIARY for 11 FMPATIENT, while 14 FMPATIENT’s NEXT OF KIN and BENEFICIARY are two distinct people.</p>
<p>A variable default value can be any computed expression—such as LAST VISIT DATE+365.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on computed expressions, see the “<span class="underline">Computed Expressions</span>” section.</p>
<h3 id="word-processing-field-stuffing">WORD-PROCESSING Field Stuffing</h3>
<p>The effect of stuffing values in a DATA TYPE field of WORD-PROCESSING is similar to defaults for other fields: the default value becomes the first line of the word-processing text. Also, you can stuff many lines of text into a DATA TYPE field of WORD-PROCESSING by use of a computed expression that has a Multiline value (e.g., another WORD-PROCESSING-type field).</p>
<p>Alternatively, you can automatically append data to a DATA TYPE field of WORD-PROCESSING by following the “<strong>//</strong>” or “<strong>///</strong>” with a “<strong>+</strong>” sign. This means add on the text shown in <span class="underline">Figure 56</span> to whatever may already be on file. Taking the example of the WORD-PROCESSING-type HISTORY field data in the PATIENT file (#2):</p>
<p><span id="_Ref389633348" class="anchor"></span>Figure 56: Advanced Edit Techniques—Appending text on to a WORD-PROCESSING field value</p>
<p>EDIT WHICH FIELD: <strong>DIAGNOSIS</strong></p>
<p>EDIT WHICH DIAGNOSIS SUB-FIELD: <strong>HISTORY//+ This case is essentially normal</strong></p>
<p>The text string following the “//+” is appended automatically to any HISTORY field text that already exists for the chosen patient and diagnosis. If no HISTORY field text existed, the string would become Line 1 of the HISTORY field text.</p>
<p>When editing the entry, you see the text with the addition and can edit it in the usual way. If you use three slashes (“<strong>///</strong>”) instead of two, the addition is made, and you are <em>not</em> presented with the text to edit.</p>
<h3 id="looping-loop">Looping (^LOOP)</h3>
<p>The Enter or Edit File Entries option allows you to loop through a group of entries, without having to select each entry individually. After choosing the fields to edit, enter the entire word <strong>^LOOP</strong> in upper- or lowercase. Then, you can choose which entries to loop through by responding to the “EDIT ENTRIES BY:” and “START WITH ... GO TO” prompts. Answer these prompts in the same way that you respond to the “SORT BY:” and “START WITH ... GO TO” prompts in the Print File Entries option.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more details, see the “Specifying SORT BY Fields” topic in the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>In <span class="underline">Figure 57</span>, all entries would be looped through:</p>
<p><span id="_Ref389631074" class="anchor"></span>Figure 57: Advanced Edit Techniques—Example of “Looping” through entries in a file</p>
<p>EDIT WHICH FIELD: <strong>NAME</strong></p>
<p>THEN EDIT FIELD: <strong>DATE OF BIRTH</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>^LOOP</strong></p>
<p>EDIT ENTRIES BY: NAME// <strong>&lt;Enter&gt;</strong></p>
<p>START WITH NAME: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>FMPATIENT,15</p>
<p>NAME: FMPATIENT,15// <strong>FMPATIENT,16</strong></p>
<p>DATE OF BIRTH: APR 1, 1923// <strong>&lt;Enter&gt;</strong></p>
<p>FMPATIENT,11</p>
<p>NAME: FMPATIENT,11// <strong>&lt;Enter&gt;</strong></p>
<p>DATE OF BIRTH: FEB 27, 1939// <strong>JAN 27, 1939</strong></p>
<p>:</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can enter a SORT template at the “EDIT ENTRIES BY:” prompt.</p>
<p>This <strong>^LOOP</strong> feature, in combination with the <strong>///-stuff</strong> convention, makes it easy to load data values into newly created fields.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Use caution with the automatic loading and automatic deleting features of VA FileMan, since these features loop through entries and make changes <em>without stopping</em> for verification.</p>
<p>For example, suppose you have a patient database to which a new field called FOLLOW-UP DATE has been added. You want to create values for this field for all patients who have LAST VISIT DATEs earlier than 1977 on file. For all such patients, you want FOLLOW-UP DATE set equal to JUNE 1, 1982. Use the Enter or Edit File Entries option as shown in <span class="underline">Figure 58</span>:</p>
<p><span id="_Ref462326558" class="anchor"></span>Figure 58: Advanced Edit Techniques—Example of loading data into a newly created field for select records</p>
<p>EDIT WHICH FIELD: <strong>FOLLOW-UP DATE///JUNE 1, 1982</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>^LOOP</strong></p>
<p>EDIT ENTRIES BY: NAME// <strong>LAST VISIT DATE</strong></p>
<p>START WITH LAST VISIT DATE: FIRST// <strong>1900</strong></p>
<p>GO TO LAST VISIT DATE: LAST// <strong>DEC 31, 1976</strong></p>
<p>WITHIN LAST VISIT DATE, EDIT ENTRIES BY: <strong>&lt;Enter&gt;</strong></p>
<p>...HOLD ON, PLEASE...</p>
<p>FMPATIENT,17</p>
<p>FMPATIENT,18</p>
<p>:</p>
<p>Now, without keyboard input, the system automatically loads the June 1, 1982 data value into each entry’s new FOLLOW-UP DATE field while looping through LAST VISIT DATEs up to 1977.</p>
<p>Suppose you wanted to undo the work done in the previous example; you want to delete all these FOLLOW-UP DATEs:</p>
<p><span id="_Toc342980665" class="anchor"></span>Figure 59: Advanced Edit Techniques—Example of deleting data from a newly created field for select records</p>
<p>EDIT WHICH FIELD: <strong>FOLLOW-UP DATE/// @</strong></p>
<p>WARNING-THIS MEANS AUTOMATIC DELETION!</p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>^LOOP</strong></p>
<p>EDIT ENTRIES BY: NAME// <strong>LAST VISIT DATE</strong></p>
<p>START WITH LAST VISIT DATE: FIRST// <strong>1900</strong></p>
<p>GO TO LAST VISIT DATE: LAST// <strong>12 31 76</strong></p>
<p>WITHIN LAST VISIT DATE, EDIT ENTRIES BY: <strong>&lt;Enter&gt;</strong></p>
<p>...JUST A MOMENT, PLEASE...</p>
<p>FMPATIENT, 17</p>
<p>FMPATIENT, 18</p>
<p>:</p>
<h2 id="input-templates">INPUT Templates</h2>
<h3 id="overview">Overview</h3>
<p>Just as you can store complex output specification in a PRINT or a SORT template for later use, you can store a long list of edit fields in an INPUT template. If you answer the “EDIT WHICH FIELD:” prompt at least five different times, or if you answer it with a right bracket (“<strong>]</strong>”), you are prompted for a template name. <span class="underline">Figure 60</span> is an example:</p>
<p><span id="_Ref389629724" class="anchor"></span>Figure 60: Advanced Edit Techniques—Storing a list of edit fields in an INPUT template</p>
<p>Select OPTION: <strong>ENTER OR EDIT FILE ENTRIES</strong></p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>NAME</strong></p>
<p>THEN EDIT FIELD: <strong>DATE OF BIRTH</strong></p>
<p>THEN EDIT FIELD: <strong>]</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE THESE FIELDS IN TEMPLATE: <strong>UPDATE</strong></p>
<p>UPDATE is the name of the template. You notice that brackets were <em>not</em> included.</p>
<p>When stored in a template, the input specifications can be easily recalled in the future without retyping them. The template name <em>must</em> be from 2 to 30 characters in length; do <em>not</em> begin the template name with a bracket. Any field numbers (with their defaults and other qualifications, if you have specified any) are stored. When you return to this option, you can edit the same fields again in the same way by answering the “EDIT WHICH FIELD:” prompt with the name of the template enclosed in brackets, (e.g., [UPDATE]).</p>
<p>When you return to use an INPUT template in this way, you are asked to edit its field specifications. If you answer <strong>YES</strong>, you first see the template name, which you can then edit. Entering an at-sign (“<strong>@</strong>”) at the “NAME:” prompt deletes the entire INPUT template.</p>
<p>You can then edit the security codes for READ and WRITE access, and then the original answers to the “EDIT WHICH FIELD:” prompts.</p>
<p>If your previous answer is less than 20 characters, it is followed by two slashes (“<strong>//</strong>”), after which you can re-enter the line. Longer answers are followed by “Replace” and are edited with the “<strong>Replace…With</strong>” syntax. Deleting with the at-sign (“<strong>@</strong>”) works in either case.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> The “<strong>Replace…With</strong>” syntax is described in the “Longer Default Responses and the ‘Replace … With’ Editor” topic in the “VA FileMan Prompts” section in the <em>VA FileMan User Manual</em>.</p>
<p>To insert a new field ahead of the field being displayed, precede your line with a caret (“<strong>^</strong>”). When you have finished, you can save your edited INPUT template under the same name (use <strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong>) or a new one.</p>
<p>You can create a special INPUT template by entering the right bracket (“<strong>]</strong>”) at the “EDIT WHICH FIELD: ALL//” prompt. This template contains all the fields currently in the file and updates the template when new fields are added to the file.</p>
<p><span id="_Toc342980667" class="anchor"></span>Figure 61: Advanced Edit Techniques—Creating a special INPUT template</p>
<p>EDIT WHICH FIELD: ALL// <strong>]</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>&lt;Enter&gt;</strong></p>
<p>STORE THESE FIELDS IN TEMPLATE: <strong>EVERY FIELD</strong></p>
<h3 id="branching-within-input-templates">Branching within INPUT Templates</h3>
<p>Sometimes, you want to dynamically control editing based on the responses given for a particular entry or on other aspects of the editing session. By using a technique called branching, the designer of an INPUT template can make the presentation of certain fields conditional based on the values of other fields. You <em>must</em> have programmer access to set up branching. With programmer access, any executable M code can be put into an INPUT template.</p>
<p>You can branch either to a field prompt elsewhere in the template or to a predefined place holder. The place holder is identified by <strong>@<em>n</em></strong>, where “<em><strong>n</strong></em>” is an integer (e.g., <strong>@1</strong>).</p>
<p>To branch within an INPUT template, you enter M code at one of the “EDIT FIELD:” prompts. You set the variable Y to the branch destination. Y can be given the value of a field label, a field number, or a place holder:</p>
<ul>
<li><p>If Y is set to zero and editing is being done at the top-level of a file, the template is exited.</p></li>
<li><p>If Y is set to zero and a Multiple is being edited, the Multiple is exited.</p></li>
</ul>
<p>The variable X contains the <em>updated</em>, <em>internal</em> value of the field edited at the previous prompt. Thus, you can check X to determine if you want to set Y to branch or not. For example, suppose you had a file called ADMISSIONS. Some of the fields are concerned only with the discharge of a patient. You want to branch around those fields, if the DATE OF DISCHARGE is empty in the database and no date is given in the current editing session. Your template could be defined as shown in <span class="underline">Figure 62</span>:</p>
<p><span id="_Ref462326559" class="anchor"></span>Figure 62: Advanced Edit Techniques—Defining INPUT template to branch to different field based on another field’s value (1 of 2)</p>
<p>Select OPTION: <strong>ENTER OR EDIT FILE ENTRIES</strong></p>
<p>INPUT TO WHAT FILE: <strong>ADMISSIONS</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>NAME</strong></p>
<p>THEN EDIT FIELD: <strong>DIAGNOSIS</strong></p>
<p>THEN EDIT FIELD: <strong>ADMITTING PHYSICIAN</strong></p>
<p>THEN EDIT FIELD: <strong>DATE OF DISCHARGE</strong></p>
<p>THEN EDIT FIELD: <strong>S:X=“” Y=“@1”</strong></p>
<p>THEN EDIT FIELD: <strong>DISCHARGING PHYSICIAN</strong></p>
<p>THEN EDIT FIELD: <strong>FOLLOW-UP DATE</strong></p>
<p>THEN EDIT FIELD: <strong>@1</strong></p>
<p>THEN EDIT FIELD: <strong>BILLING METHOD</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE THESE FIELDS IN TEMPLATE: <strong>EDIT ADMISSION</strong></p>
<p>Are you adding ‘EDIT ADMISSION’ as a new INPUT TEMPLATE? <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>This template branches around the discharge related questions, if the DATE OF DISCHARGE is null.</p>
<p>If you wanted to further enhance the template to ask for MEDICARE NUMBER only if BILLING METHOD is “M” (for Medicare), you could change the template as shown in <span class="underline">Figure 63</span>:</p>
<p><span id="_Ref462326560" class="anchor"></span>Figure 63: Advanced Edit Techniques—Defining INPUT template to branch to different field based on another field’s value (2 of 2)</p>
<p>INPUT TO WHAT FILE: ADMISSIONS// <strong>&lt;Enter&gt;</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>[EDIT ADMISSION] &lt;Enter&gt;</strong> (OCT 31, 1991@14:17)</p>
<p>USER #2 FILE #16155</p>
<p>WANT TO EDIT ‘EDIT ADMISSION’ INPUT TEMPLATE? NO// <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>NAME: EDIT ADMISSION// <strong>&lt;Enter&gt;</strong></p>
<p>READ ACCESS: @// <strong>&lt;Enter&gt;</strong></p>
<p>WRITE ACCESS: @// <strong>&lt;Enter&gt;</strong></p>
<p>EDIT WHICH FIELD: .01// <strong>&lt;Enter&gt;</strong> NAME</p>
<p>THEN EDIT FIELD: 1// <strong>&lt;Enter&gt;</strong> DIAGNOSIS</p>
<p>THEN EDIT FIELD: 2// <strong>&lt;Enter&gt;</strong> ADMITTING PHYSICIAN</p>
<p>THEN EDIT FIELD: 3// <strong>&lt;Enter&gt;</strong> DATE OF DISCHARGE</p>
<p>THEN EDIT FIELD: S:X=“” Y=“@1”// <strong>&lt;Enter&gt;</strong></p>
<p>THEN EDIT FIELD: 4// <strong>&lt;Enter&gt;</strong> DISCHARGING PHYSICIAN</p>
<p>THEN EDIT FIELD: 5// <strong>&lt;Enter&gt;</strong> FOLLOW-UP DATE</p>
<p>THEN EDIT FIELD: @1// <strong>&lt;Enter&gt;</strong></p>
<p>THEN EDIT FIELD: 6// <strong>&lt;Enter&gt;</strong> BILLING METHOD</p>
<p>THEN EDIT FIELD: 7// <strong>S:X=“M” Y=“MEDICARE NUMBER”</strong></p>
<p>THEN EDIT FIELD: <strong>S Y=0</strong></p>
<p>THEN EDIT FIELD: <strong>MEDICARE NUMBER</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE THESE FIELDS IN TEMPLATE: <strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong> EDIT ADMISSION</p>
<p>(OCT 31, 1991@14:17) USER #2 FILE #16155</p>
<p>EDIT ADMISSION TEMPLATE ALREADY EXISTS.... OK TO REPLACE? <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>After the BILLING METHOD field is edited, a test is made of its contents. It is a DATA TYPE field of SET OF CODES; thus, the test is for the letter “M” alone (the internal value of the field). If it is equal to “M”, the template branches to the MEDICARE NUMBER field. If it is <em>not</em> equal to “M”, the template proceeds to the next prompt where Y is set unconditionally to zero. The template is exited here so that the “MEDICARE NUMBER” prompt is <em>not</em> shown when it is <em>not</em> needed.</p>
<p>An editing session using this template to add a new admission might look like <span class="underline">Figure 64</span>:</p>
<p><span id="_Ref462326561" class="anchor"></span>Figure 64: Advanced Edit Techniques—Example verifying automatic branching to other fields based on user’s entry (1 of 2)</p>
<p>Select ADMISSIONS NAME: <strong>FMPATIENT,19</strong></p>
<p>Are you adding ‘FMPATIENT,19’ as a new ADMISSIONS (the 4TH)? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DIAGNOSIS: <strong>MEASLES</strong></p>
<p>ADMITTING PHYSICIAN: <strong>FMPROVIDER,4</strong></p>
<p>DATE OF DISCHARGE: <strong>&lt;Enter&gt;</strong></p>
<p>BILLING METHOD: <strong>M &lt;Enter&gt;</strong> MEDICARE</p>
<p>MEDICARE NUMBER: <strong>3093-0393</strong></p>
<p>The discharge related questions were skipped, and the “MEDICARE NUMBER:” prompt was given. A future editing of this record upon patient discharge could look like <span class="underline">Figure 65</span>:</p>
<p><span id="_Ref462326562" class="anchor"></span>Figure 65: Advanced Edit Techniques—Example verifying automatic branching to other fields based on user’s entry (2 of 2)</p>
<p>Select ADMISSIONS NAME: <strong>FMPATIENT,19</strong></p>
<p>...OK? YES// <strong>&lt;Enter&gt;</strong> (YES)</p>
<p>NAME: FMPATIENT,19// <strong>^DATE OF DISCHARGE</strong></p>
<p>DATE OF DISCHARGE: <strong>5/9/90 &lt;Enter&gt;</strong> (MAY 09, 1990)</p>
<p>DISCHARGING PHYSICIAN: <strong>FMPROVIDER,4</strong></p>
<p>FOLLOW-UP DATE: <strong>6/1/90 &lt;Enter&gt;</strong> (JUN 01, 1990)</p>
<p>BILLING METHOD: MEDICARE// <strong>&lt;Enter&gt;</strong></p>
<p>MEDICARE NUMBER: 3093-0393// <strong>&lt;Enter&gt;</strong></p>
<p>There is a potential hazard in using branching. In this example, suppose the BILLING METHOD were changed to “P” (for private insurance). The simple branching logic used would <em>not</em> show you the MEDICARE NUMBER field to edit or delete. You <em>must</em> ensure that your template can handle this kind of situation. In this example, if you have programmer access to do so, you might add M code to delete the MEDICARE NUMBER, if BILLING METHOD were <em>not</em> equal to “M”.</p>
<h2 id="edit-qualifiers">Edit Qualifiers</h2>
<h3 id="edit-qualifiers-and-customizing-data-editing">Edit Qualifiers and Customizing Data Editing</h3>
<p>When creating an INPUT template, there are several ways you can control the editing session to display customized prompts, to enable the duplication of data by pressing the <strong>Spacebar</strong> and the <strong>Enter</strong> keys (<strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong>), and to make a field required.</p>
<p><span class="underline">Table 5</span> summarizes the edit qualifiers you can use to accomplish these results. They are described in more detail in the next three sections. Enter these qualifiers in conjunction with fields at the “EDIT FIELD:” prompt.</p>
<p><span id="_Ref386465948" class="anchor"></span>Table 5: Advanced Edit Techniques—Edit Qualifiers</p>
<table>
<tbody>
<tr class="odd">
<td>Qualifier</td>
<td>Action</td>
</tr>
<tr class="even">
<td><strong>field; “xxx”</strong></td>
<td>Replace the field’s label with a literal string during an editing session (see the “<span class="underline">Forcing Special Prompts</span>” section).</td>
</tr>
<tr class="odd">
<td><strong>field;T</strong></td>
<td>Replace a field’s label with its title during an editing session (see the “<span class="underline">Forcing Special Prompts</span>” section).</td>
</tr>
<tr class="even">
<td><strong>field;DUP</strong></td>
<td>Save responses for later use with <strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong> and allow their recall (see the “<span class="underline">Duplicating Input Values</span>” section).</td>
</tr>
<tr class="odd">
<td><strong>field;REQ</strong></td>
<td>Require a response to a field that is usually <em>not</em> required (see the “<span class="underline">Forcing Special Prompts</span>” section).</td>
</tr>
</tbody>
</table>
<p>You can combine specifiers as long as you separate them with semicolons (e.g., <strong>DATE OF BIRTH;T;REQ</strong>).</p>
<h3 id="forcing-special-prompts">Forcing Special Prompts</h3>
<p>Normally, the standard label or name of a field is used to ask the user for the input value of that field. You can customize the prompt for a field by answering the “EDIT WHICH FIELD:” prompt with the label, followed by a semi-colon (“<strong>;</strong>”) and the desired prompt in quotation marks. Thus:</p>
<p>EDIT WHICH FIELD: DATE OF BIRTH;”DOB”</p>
<p>Causes the DATE OF BIRTH field to be presented in the form:</p>
<p>DOB:</p>
<p>Or, in the form:</p>
<p>DOB: APR 1, 1923//</p>
<p>To use the field’s title instead of its label as the input prompt, follow the field name (or number) with <strong>;T</strong>. Thus, when editing the PATIENT file (#2), you can enter:</p>
<p><span id="_Toc342980673" class="anchor"></span>Figure 66: Advanced Edit Techniques—Example using the Title Edit Qualifier</p>
<p>EDIT WHICH FIELD: <strong>.01 &lt;Enter&gt;</strong> NAME</p>
<p>THEN EDIT FIELD: <strong>SSN;T</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>If you enter these specifications <em>and</em> if this field’s title is defined as “Social Security Number,” the user encounters the “Social Security Number:” prompt instead of the “SSN:” prompt.</p>
<h3 id="duplicating-input-values">Duplicating Input Values</h3>
<p>Sometimes many entries need the same data value input for a particular field. If you follow a field label with <strong>;DUP</strong> when selecting the field for editing, VA FileMan uses the data value that was just input for the prior entry, if you enter a single space character (<strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong>) at the field prompt. For example:</p>
<p><span id="_Toc342980674" class="anchor"></span>Figure 67: Advanced Edit Techniques—Example Using the Duplicate Edit Qualifier</p>
<p>EDIT WHICH FIELD: <strong>SEX;DUP</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If all entries have the same data value, you can instead use the <strong>^LOOP</strong> facility described earlier in this section.</p>
<h3 id="forcing-required-input">Forcing Required Input</h3>
<p>When creating an INPUT template, VA FileMan allows you to designate fields as required. Designating a field as required means that the user <em>must</em> enter data in that field. To do this, follow the field name with <strong>;REQ</strong>. The required specification looks like <span class="underline">Figure 68</span>:</p>
<p><span id="_Ref462326563" class="anchor"></span>Figure 68: Advanced Edit Techniques—Example using the required Edit Qualifier</p>
<p>EDIT WHICH FIELD: <strong>NAME;REQ</strong></p>
<p>Adding <strong>;REQ</strong> does <em>not permanently</em> affect the definition of the field. It is only effective for the current input session or for the specific INPUT template. To <em>permanently</em> make a field mandatory, use the Modify File Attributes option.</p>
<h2 id="text-formatting-in-word-processing-fields">Text Formatting in Word-processing Fields</h2>
<h3 id="word-wrapping">Word Wrapping</h3>
<p>Word wrapping is performed when a WORD-PROCESSING-type field is printed. Two functions occur as part of word wrapping during prints: lines are “filled” to the right margin and lines are “broken” only at word breaks.</p>
<p>If word wrap is on (a data dictionary setting for the WORD-PROCESSING-type field in question), you can <em>override</em> the word wrapping function and force a line to be printed as it appears in the editor by doing one of the following with the line:</p>
<ul>
<li><p>Starting the line with a space.</p></li>
<li><p>Pressing the <strong>Tab</strong> key at the end of the line while using the Line Editor, or type <strong>|Tab|</strong> at the end of the line while using the Screen Editor.</p></li>
<li><p>Turning wrap off by using the <strong>|NOWRAP|</strong> function described below.</p></li>
</ul>
<p>Lines that contain only punctuation are always printed as is. Thus, if you put a single space on a line, the previous line is <em>not</em> filled and the subsequent line begins in column one.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The editor’s line numbers are meaningful only when editing. Since word-processing data is usually printed in a wraparound mode, what is internally line three might be printed as lines five and six.</p>
<h3 id="tabs">Tabs</h3>
<p>Tabs can be meaningful wherever they occur in a line.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you insert a tab by typing the special <strong>Tab</strong> key on the keyboard (or <strong>&lt;Ctrl-I&gt;</strong> on terminals without a <strong>Tab</strong> key), a <strong>|Tab|</strong> is inserted in the text instead. When editing, a tab is recognized as <strong>|Tab|</strong>, <em>not</em> as five blank spaces.</p>
<h3 id="formatting-text-with-word-processing-windows-frames">Formatting Text with Word-processing Windows (Frames) | |</h3>
<p>Expressions framed by vertical bars (“<strong>| |</strong>”) are known as word-processing <em>windows</em> or <em>frames</em>, and are evaluated as computed expression at print-time and are printed as evaluated. (MailMan does <em>not typically</em> evaluate expressions within vertical bars, neither does the Inquire to File Entries option or the CAPTIONED PRINT template.) For example, <strong>|TODAY+1|</strong> prints out tomorrow’s date.</p>
<p>You can use word-processing windows to insert one of the following into the text of a WORD-PROCESSING-type field when that WORD-PROCESSING-type field is printed:</p>
<ul>
<li><p>A Field Name.</p></li>
<li><p>A Computed Expression.</p></li>
<li><p>Text Formatting Expression.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For details of how to compose and use computed expressions, see the “<span class="underline">Computed Expressions</span>” section.</p>
<h3 id="text-formatting-expressions-in-word-processing-windows">Text Formatting Expressions in Word-processing Windows</h3>
<p><span class="underline">Table 6</span> lists the recognized special text formatting functions that you can use within word-processing windows. Most of these functions can be used in other contexts—for example, at the “PRINT FIELD:” prompt.</p>
<p><span id="_Ref447356295" class="anchor"></span>Table 6: Advanced Edit Techniques—Text formatting expressions in word-processing windows</p>
<table>
<tbody>
<tr class="odd">
<td>Text Formatting Expression</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>|RIGHT-JUSTIFY|</strong></td>
<td>Causes the text that follows it to be padded with spaces between words, so the right margin is even.</td>
</tr>
<tr class="odd">
<td><strong>|DOUBLE-SPACE|</strong></td>
<td>Causes the text that follows it to be printed with blank lines inserted every other line.</td>
</tr>
<tr class="even">
<td><strong>|SINGLE-SPACE|</strong></td>
<td>Turns off double-spacing for the text that follows it.</td>
</tr>
<tr class="odd">
<td><strong>|TOP|</strong></td>
<td>Causes a page break to occur at this point.</td>
</tr>
<tr class="even">
<td><strong>|NOBLANKLINE|</strong></td>
<td>If nothing is printed on the line, this causes the line to be suppressed so that a blank line is <em>not</em> output. It is useful if the line contains only a computed expression that might evaluate to null.</td>
</tr>
<tr class="odd">
<td><strong>|PAGEFEED|(arg)|</strong></td>
<td>Causes page breaks to occur in the text that follows it, whenever fewer than arg number lines remain on the current page.</td>
</tr>
<tr class="even">
<td><strong>|PAGESTART|(arg)|</strong></td>
<td>Causes the text on the following pages to begin at line # arg of the page.</td>
</tr>
<tr class="odd">
<td><strong>|SETPAGE|(arg)|</strong></td>
<td>Resets page numbering, so that the page number that follows it is arg+1.</td>
</tr>
<tr class="even">
<td><strong>|BLANK|(arg)|</strong></td>
<td>Causes arg number of blank lines to be inserted at this point in the text.</td>
</tr>
<tr class="odd">
<td><strong>|INDENT|(arg)|</strong></td>
<td>Causes the text that follows it to be indented <strong>arg</strong> number of spaces from the left margin.</td>
</tr>
<tr class="even">
<td><strong>|SETTAB|(arg1,arg2,arg3..)|</strong></td>
<td>Sets tab positions for the text that follows it. In subsequent lines, the first <strong>|TAB|</strong> encountered causes indentation to column position <strong>arg1</strong> characters from the left margin. The second <strong>|TAB|</strong> encountered causes indentation to column position <strong>arg2</strong>, and so on. If any <strong>SETTAB arg</strong> is negative, the text following the corresponding <strong>|TAB|</strong> is right justified so that the rightmost column of that text falls in the column number that is the absolute value of the <strong>SETTAB arg</strong>. If a <strong>SETTAB arg</strong> is the literal “<strong>C</strong>” (i.e., <strong>|SETTAB(“C”)|</strong>), the text following the corresponding tab setting is centered.</td>
</tr>
<tr class="odd">
<td><strong>|CENTER|(arg)|</strong></td>
<td>Causes the <strong>arg</strong> to be centered.</td>
</tr>
<tr class="even">
<td><strong>|TAB|</strong></td>
<td>Causes the text to start printing at predetermined indents. The default column settings are 5,10,15,20, ..., which can be reset with <strong>SETTAB</strong>. <strong>|TAB|</strong> at the end of a line causes that line to be printed as is (no word wrapping).</td>
</tr>
<tr class="odd">
<td><strong>|TAB n|</strong></td>
<td>Overrides any <strong>SETTAB</strong> specification for the text that follows it and causes tabbing to the <em><strong>n</strong></em><sup>th</sup> column over from the left margin. Output is right justified on the <em><strong>n</strong></em><sup>th</sup> column, if “<em><strong>n</strong></em>” is negative. For example, the text following <strong>|TAB 12|</strong> begins at column 12; the text following <strong>|TAB “C”|</strong> is centered.</td>
</tr>
<tr class="even">
<td><strong>|WIDTH|(arg)|</strong></td>
<td><p>Specifies that the text that follows it is always printed in a column <strong>arg</strong> characters wide. (<strong>Arg</strong>, in other words, is the difference between the left margin position and the right margin position, plus one.)</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> In the absence of a <strong>WIDTH</strong> specification, the output column width is determined by the user (or defaulted by the system) at print time.</p></td>
</tr>
<tr class="odd">
<td><strong>|NOWRAP|</strong></td>
<td>Causes the text that follows it to be printed line-for-line (without wraparound). This eliminates the need to end each line with a tab or start the line with a space to force the line to be printed as it stands.</td>
</tr>
<tr class="even">
<td><strong>|WRAP|</strong></td>
<td>Causes the text that follows it to be printed in wraparound mode. This is the default setting.</td>
</tr>
<tr class="odd">
<td><strong>|UNDERLINE|(arg)|</strong></td>
<td>Causes the <strong>arg</strong> to be underlined.</td>
</tr>
<tr class="even">
<td><strong>|_|</strong></td>
<td>Starts underlining. Underlining continues until a second <strong>|_|</strong> is encountered. This only works on printers that underline.</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For additional information about functions, see the “<span class="underline">Computed Expressions</span>” section.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> In order to print a “<strong>|</strong>” character, you <em>must</em> enter it as “<strong>||</strong>”. Likewise, to print “<strong>||</strong>” enter “<strong>||||</strong>”.</p>

<h1 id="computed-expressions">Computed Expressions</h1>
<p>You can use computed expressions in several places within VA FileMan to obtain, manipulate, modify, and format data. Computed expressions consist of one or more elements linked together with operators. Most computed expressions return a value after performing the actions you have requested. The way this result is used or displayed depends on where you have used the computed expression.</p>
<h2 id="syntax">Syntax</h2>
<h3 id="elements-of-computed-expressions">Elements of Computed Expressions</h3>
<p>You can use any of the following elements in constructing a computed expression:</p>
<ul>
<li><p>A <strong>field name within the current file</strong> (e.g., RELIGION). The field name can be partially spelled (e.g., REL), if the partial spelling is unambiguous.</p></li>
<li><p>A <strong>field number</strong>, preceded with <strong>#</strong> (e.g., #3).</p></li>
<li><p>A <strong>literal number</strong>. When used as part of a computed expression, do <em>not</em> use quotes (e.g., AGE AT ONSET+20). However, you <em>must</em> use quotes if the number will stand alone as a constant (e.g., “3.14159265”).</p></li>
<li><p>A <strong>literal text string</strong>, in quotes (e.g., “HELLO”).</p></li>
<li><p>A validly formatted <strong>date</strong>, such as 20 JULY 1969, which is punctuated only by spaces.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Dashes in a computed expression are interpreted as minus signs. For example, 7-20-1969 would indicate subtraction and be evaluated as -1982.</p>
<ul>
<li><p>The word <strong>NUMBER</strong> (or the name of the file followed by the word NUMBER, such as, PATIENT NUMBER). NUMBER returns the internal entry number of the entry in the file or subfile in question.</p></li>
<li><p>The <strong>name of a file followed by the name of a field in that file</strong> (e.g., PATIENT NAME). Like PATIENT NUMBER, this syntax is helpful when it is unclear to which file or subfile an expression is referring. However, this syntax <em>cannot</em> obtain data from <strong>another</strong> file; NAME and PATIENT NAME returns the same data. To obtain data from another file, the extended pointer syntax <em>must</em> be used.</p></li>
<li><p>A <strong>VA FileMan function</strong>—e.g., [TODAY or MONTH(DATE OF BIRTH)].</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Functions are discussed in the “<span class="underline">VA FileMan Functions</span>” section.</p>
<ul>
<li><p>An <strong>extended pointer reference</strong> to fields in another file.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Extended pointers and relational jumping are described in the “<span class="underline">Relational Navigation</span>” section.</p>
<h3 id="operators-in-computed-expressions">Operators in Computed Expressions</h3>
<p>Computed expressions can consist of a single element. However, often several elements are joined together using operators. Operators are characters that perform some action on elements.</p>
<ul>
<li><p><span class="underline">Unary Operators</span></p></li>
<li><p><span class="underline">Binary Operators</span></p></li>
<li><p><span class="underline">Boolean Operators</span></p></li>
<li><p><span class="underline">Parentheses in Expressions</span></p></li>
<li><p><span class="underline">Example of Compound Expression</span></p></li>
</ul>
<h4 id="unary-operators">Unary Operators</h4>
<p>The simplest operators are the unary operators. They force a numeric interpretation of the element that follows. They can also affect the sign of the resulting number. <span class="underline">Table 7</span> lists the unary operators:</p>
<p><span id="_Ref462326564" class="anchor"></span>Table 7: Computed Expressions—Unary Operators</p>
<table>
<tbody>
<tr class="odd">
<td>Operator</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>+</strong></td>
<td>Positive numeric interpretation (sign unchanged)</td>
</tr>
<tr class="odd">
<td><strong>-</strong></td>
<td>Negative numeric interpretation (sign changed)</td>
</tr>
</tbody>
</table>
<h4 id="binary-operators">Binary Operators</h4>
<p>Another set of operators takes two elements, manipulates them, and returns a result. These are called binary operators. You can use the binary operators listed in <span class="underline">Table 8</span> in computed expressions:</p>
<p><span id="_Ref389633391" class="anchor"></span>Table 8: Computed Expressions—Binary Operators</p>
<table>
<tbody>
<tr class="odd">
<td>Operator</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>+</strong></td>
<td>Addition</td>
</tr>
<tr class="odd">
<td><strong>-</strong></td>
<td>Subtraction</td>
</tr>
<tr class="even">
<td><strong>*</strong></td>
<td>Multiplication</td>
</tr>
<tr class="odd">
<td><strong>/</strong></td>
<td>Division</td>
</tr>
<tr class="even">
<td><strong>\</strong></td>
<td>Integer (truncated) division (e.g., 13\2 = 6)</td>
</tr>
<tr class="odd">
<td><strong>_</strong></td>
<td>Concatenation (e.g., ”AB”_”CDE” = ABCDE)</td>
</tr>
</tbody>
</table>
<h4 id="boolean-operators">Boolean Operators</h4>
<p>A third set of operators makes a comparison between two elements and returns a true or false value. These are known as Boolean operators. If the outcome of a Boolean operation is:</p>
<ul>
<li><p><strong>True</strong>—One (1) is returned.</p></li>
<li><p><strong>False—</strong>Zero (0) is returned.</p></li>
</ul>
<p>You can use the Boolean operators listed in <span class="underline">Table 9</span> in computed expressions:</p>
<p><span id="_Ref389718192" class="anchor"></span>Table 9: Computed Expressions—Boolean Operators</p>
<table>
<tbody>
<tr class="odd">
<td>Operator</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>&gt;</strong></td>
<td>Greater than</td>
</tr>
<tr class="odd">
<td><strong>&lt;</strong></td>
<td>Less than</td>
</tr>
<tr class="even">
<td><strong>=</strong></td>
<td>Equal to</td>
</tr>
<tr class="odd">
<td><strong>]</strong></td>
<td>Follows (in alphabetical order)</td>
</tr>
<tr class="even">
<td><strong>[</strong></td>
<td>Contains (e.g., ”AB”[“A” is true; “A”[“AB” is false)</td>
</tr>
<tr class="odd">
<td><strong>!</strong></td>
<td>Or, either element is true [e.g., (2=3)!(5&lt;10) is true]</td>
</tr>
<tr class="even">
<td><strong>&amp;</strong></td>
<td>And, both elements are true [e.g., (2=3)&amp;(5&lt;10) is false]</td>
</tr>
</tbody>
</table>
<p>An apostrophe (<strong>‘</strong>) means negation or <em><strong>not</strong></em>. It can precede any of the Boolean operators. Thus, <strong>6’&gt;8</strong> is read six is <em>not</em> greater than eight, which is true (a one is returned).</p>
<h4 id="parentheses-in-expressions">Parentheses in Expressions</h4>
<p>In the absence of parentheses, the expression is evaluated strictly left to right. One operator is <em>not</em> given precedence over another. Use parentheses to control the order in which the operations of a computed expression are performed. Expressions within parentheses are evaluated first. Thus, <strong>3+4/2</strong> is 3.5, whereas <strong>3+(4/2)</strong> is 5.</p>
<p>You can also use parentheses to ensure that the enclosed material is treated as an expression when there might be some ambiguity. For example, suppose you want to force a numeric interpretation of the SSN field. You need to use the <strong>+</strong> unary operator. However, the following does <em>not</em> yield the desired result:</p>
<p>SORT BY: <strong>+SSN</strong></p>
<p>Is the <strong>+</strong> the unary operator or the sort specifier (meaning that you want to subtotal results by SSN)? In this case, it is interpreted as the sort specifier. However, if you put the expression in parentheses, the <strong>+</strong> is definitely interpreted as an operator:</p>
<p>SORT BY: <strong>(+SSN)</strong></p>
<h4 id="example-of-compound-expression">Example of Compound Expression</h4>
<p>The following is an example of a computed expression containing several elements and operators:</p>
<p>“Beds occupied: “_(NUMBER OF BEDS*OCCUPANCY PERCENTAGE/100)</p>
<p>First, the part within the parentheses is evaluated. NUMBER OF BEDS and OCCUPANCY PERCENTAGE are field names. Their contents are multiplied and the result is divided by 100. That result is concatenated with the literal string “Beds occupied: ” giving a result like:</p>
<p>Beds occupied: 484</p>
<h3 id="data-types-in-computed-expressions">Data Types in Computed Expressions</h3>
<p>When you are working with file data in computed expressions, you <em>must</em> consider the appropriateness of the DATA TYPE field value for the operation or function you are using. The following are some notes regarding data types and computed expressions:</p>
<ul>
<li><p><span class="underline">SET OF CODES, POINTER TO A FILE, and VARIABLE-POINTER Data Types</span></p></li>
<li><p><span class="underline">DATE/TIME Data Type</span></p></li>
<li><p><span class="underline">WORD-PROCESSING Data Type</span></p></li>
</ul>
<h4 id="set-of-codes-pointer-to-a-file-and-variable-pointer-data-types">SET OF CODES, POINTER TO A FILE, and VARIABLE-POINTER Data Types</h4>
<p>These data types are manipulated using the external representations, <em>not</em> the internal ones. The internal value can be accessed using the INTERNAL function.</p>
<h4 id="datetime-data-type">DATE/TIME Data Type</h4>
<p>The DATA TYPE field value of DATE/TIME usually yields results based on the internal value of the field when used in a computed expression. For example, the computed expression “DATE OF BIRTH: “_DOB, where DOB is a field with a DATA TYPE field value of DATE/TIME, yields “DATE OF BIRTH: 2910713”, where 2910713 is the internal representation of the date.</p>
<p>Often, you do <em>not</em> want the internal representation of the date to be used for output. There are alternatives. Continuing with concatenation as an example, you can concatenate a caption with the output of a function (e.g., “DATE OF BIRTH: ” _NUMDATE(DOB) yields “DATE OF BIRTH: 07/13/91”). When using the Print File Entries option, you can separately identify the caption as shown in <span class="underline">Figure 69</span>:</p>
<p><span id="_Ref462326566" class="anchor"></span>Figure 69: Computed Expressions—Example using the Print File Entries Option to identify a caption</p>
<p>FIRST PRINT FIELD: <strong>“DATE OF BIRTH: “</strong></p>
<p>THEN PRINT FIELD: <strong>DOB;X</strong></p>
<p>Since DOB was <em>not</em> entered as part of a computed expression, it produces output in VA FileMan’s external date format: “DATE OF BIRTH: JUL 13, 1991”.</p>
<p>You can perform certain arithmetic operations with DATA TYPE field values of DATE/TIME that directly yield useful results:</p>
<ul>
<li><p>If you subtract a DATA TYPE field value of DATE/TIME from another DATE/TIME-valued field, the result is the number of days the two differ.</p></li>
<li><p>If you add a number to or subtract a number from a DATE/TIME-valued field, the result is a new date. For example, if the DOB field has the value JUL 20, 1969, then the value of the computed expression DOB+30 is AUG 19, 1969.</p></li>
</ul>
<h4 id="word-processing-data-type">WORD-PROCESSING Data Type</h4>
<p>DATA TYPE fields with a value of WORD-PROCESSING can be manipulated only with the contains (“<strong>[</strong>”) operator (e.g., a valid computed expression within the DIAGNOSIS Multiple of the sample PATIENT file [#2] is: <strong>HISTORY[“poverty”</strong>). This Boolean expression is true, if the DIAGNOSIS in question has HISTORY text that contains the string “poverty”.</p>
<p>Also, you <em>cannot concatenate</em> WORD-PROCESSING-type fields with other values using the concatenation (“<strong>_</strong>”) operator.</p>
<h3 id="using-functions-as-elements-in-computed-expressions">Using Functions as Elements in Computed Expressions</h3>
<p>You can use recognized functions as an element in any COMPUTED field expression. A function performs an operation that returns a value. These functions are available to all users. Functions can also be added by making entries in the FUNCTION file (#.5). If you examine this file, you will know all of the functions available to you.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a description on how to add functions, see the “VA FileMan Functions (Creating)” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<p>Some functions require an argument or arguments; others are “argumentless.” The arguments of the function can be any element, including field name, field number (preceded with the <strong>#</strong>), quoted literal, or even other functions. The SQUAREROOT function, for example, would take an argument of 64 and return 8. Thus, if the AGE field of a patient has the value 64, the expression SQUAREROOT(AGE) would equal 8.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For information on the syntax and description of the functions exported with VA FileMan, see the “<span class="underline">VA FileMan Functions</span>” section.</p>
<h2 id="where-to-use">Where to Use</h2>
<h3 id="using-computed-expressions-in-computed-fields">Using Computed Expressions in COMPUTED Fields</h3>
<p>One important place where you can use a computed expression is in a field that is computed. The DATA TYPE field value of COMPUTED allows a computed expression to be stored in the data dictionary.</p>
<p>To define a field as COMPUTED, use the Modify File Attributes option and reply to the “DATA TYPE:” prompt with “COMPUTED.”</p>
<p><span id="_Toc342980681" class="anchor"></span>Figure 70: Computed Expressions—Defining a DATA TYPE field as COMPUTED</p>
<p>Select OPTION: <strong>MODIFY FILE ATTRIBUTES</strong></p>
<p>DO YOU WANT TO USER THE SCREEN-MODE VERSION? Yes// <strong>NO &lt;Enter&gt;</strong> (No)</p>
<p>MODIFY WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>AGE</strong></p>
<p>Are you adding ‘AGE’ as a new FIELD (the 13TH)? <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>FIELD NUMBER: 13// <strong>&lt;Enter&gt;</strong></p>
<p>DATA TYPE OF AGE: <strong>COMPUTED</strong></p>
<p>You now enter the computed expression that is stored in the AGE field. In this case, a function (TODAY), a field name (DATE OF BIRTH), and a numeric literal are combined with two arithmetic binary operators to give a numeric result.</p>
<p><span id="_Toc342980682" class="anchor"></span>Figure 71: Computed Expressions—Entering the computed expression into a DATA TYPE field of COMPUTED</p>
<p>‘COMPUTED-FIELD’ EXPRESSION: <strong>TODAY-DATE OF BIRTH\365.25</strong></p>
<p>TRANSLATES TO THE FOLLOWING CODE:</p>
<p>S Y(16033,13,1)=$S($D(^DIZ(16033,D0,0)):^(0),1:”“),X=DT S<br />
X=X,X1=X,X2=$P(Y(16033,13,1),U,3),X=““ D:X2 ^%DTC:X1 S X=X\365.25</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You only see the generated code if you have programmer access.</p>
<p>When creating a COMPUTED field that might have a numeric result, the dialogue in <span class="underline">Figure 72</span> is presented:</p>
<p><span id="_Ref389633654" class="anchor"></span>Figure 72: Computed Expressions—Example of dialogue encountered with a COMPUTED field with expected numeric result (1 of 3)</p>
<p>NUMBER OF FRACTIONAL DIGITS TO OUTPUT (ONLY ANSWER IF NUMBER-VALUED): <strong>0</strong></p>
<p>Pressing the <strong>Enter</strong> key at this prompt means that the field is <em>not</em> numeric; it is left justified on output. If you do answer, you indicate that the field is numeric and that you want the computed value rounded to a certain number of decimal places when it is printed. In this case, the number is rounded to a whole number.</p>
<p><span id="_Toc342980684" class="anchor"></span>Figure 73: Computed Expressions—Example of dialogue encountered with a COMPUTED field with expected numeric result (2 of 3)</p>
<p>SHOULD VALUE ALWAYS BE INTERNALLY ROUNDED TO 0 DECIMAL PLACES?</p>
<p>No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>Since the value of a COMPUTED field can be used in other calculations, you need to indicate when rounding should occur. If you accept the default (i.e., “<strong>No</strong>”), rounding is <em>not</em> done when the COMPUTED field is used in other calculations. A <strong>YES</strong> answer to this prompt means that you do want the rounded value used in calculations. Usually, you do <em>not</em> want values rounded at interim steps in a series of calculations. Thus, usually, you accept the “<strong>No</strong>” default.</p>
<p>When a COMPUTED field is printed, the value is always rounded to the number of decimal places you specify.</p>
<p><span id="_Toc342980685" class="anchor"></span>Figure 74: Computed Expressions—Example of dialogue encountered with a COMPUTED field with expected numeric result (3 of 3)</p>
<p>WHEN TOTALLING THIS FIELD, SHOULD THE SUM BE COMPUTED FROM THE SUMS</p>
<p>OF THE COMPONENT FIELDS? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>If your computed expression involves division or multiplication, you are asked how the field should be totaled. (You can total the values of a field in the Print File Entries option.):</p>
<ul>
<li><p>A <strong>NO</strong> answer to this prompt means that the COMPUTED field’s expression is evaluated for each entry and those results are added.</p></li>
<li><p>A <strong>YES</strong> answer means that values of each of the fields in the COMPUTED field’s expression is added first and then the COMPUTED field’s expression is applied to those totals.</p></li>
</ul>
<p>For example, suppose <strong>A</strong> and <strong>B</strong> are the names of two fields and <strong>A/B</strong> is a computed expression. The table below shows the results of printing <strong>A</strong>, <strong>B</strong>, and <strong>A/B</strong> with different answers to the “WHEN TOTALLING THIS FIELD, ...” question:</p>
<p><span id="_Toc342980686" class="anchor"></span>Table 10: Computed Expressions—Example Indicating Possible Results of Computed Expression Based on Different Entries to “Totaling” Prompt</p>
<table>
<tbody>
<tr class="odd">
<td></td>
<td><strong>A</strong></td>
<td><strong>B</strong></td>
<td><p><strong>A/B</strong></p>
<p><strong>(YES: Total from totals of component fields)</strong></p></td>
<td><p><strong>A/B</strong></p>
<p><strong>(NO: Total from results for each entry)</strong></p></td>
</tr>
<tr class="even">
<td></td>
<td>10</td>
<td>5</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td></td>
<td>100</td>
<td>50</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="even">
<td></td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td><strong>Total</strong></td>
<td><strong>112</strong></td>
<td><strong>56</strong></td>
<td>[112/56=] 2</td>
<td>[2+2+2=] 6</td>
</tr>
</tbody>
</table>
<p>To summarize, if you want the total to be the ratio or product of the total of the component fields, then answer this question <strong>YES</strong>. Otherwise, a <strong>NO</strong> answer is appropriate.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The answer to this prompt only affects the Total produced by the Print File Entries option.</p>
<p>When defining a COMPUTED field, you are also asked:</p>
<p><span id="_Toc342980687" class="anchor"></span>Figure 75: Computed Expressions—Dialogue encountered when defining a COMPUTED field</p>
<p>LENGTH OF FIELD: 8// <strong>&lt;Enter&gt;</strong></p>
<p>Here you can enter the maximum number of character positions that the field should occupy in output. The default value is eight, even if the COMPUTED field involves FREE TEXT-type fields. Be sure to allocate enough space to accommodate the results. If the COMPUTED field’s value is numeric, the entire result is displayed regardless of the requested length.</p>
<p>The COMPUTED-type field can be a very useful tool. Having set up such a field, you can then search or sort by it, and also include it in the definition of other COMPUTED-type fields. In the latter case, independence is preserved. Thus, for example, if you define COMPUTED Field #2 in terms of COMPUTED Field #1 and then decide to redefine Field #1, Field #2 automatically uses the new Field #1 calculation. If you try to delete a field that is referenced by a COMPUTED-type field, you are warned.</p>
<h3 id="where-to-use-computed-expressions-on-the-fly">Where to Use Computed Expressions “On-the-Fly”</h3>
<h4 id="on-the-fly-computed-expressions">“On-the-Fly” Computed Expressions</h4>
<p>In addition to permanently storing a computed expression in a data dictionary, there are several places within VA FileMan’s dialogue where you can use a computed expression “<strong>on-the-fly</strong>”:</p>
<ul>
<li><p><span class="underline">“PRINT FIELD:” Prompt</span></p></li>
<li><p><span class="underline">“SEARCH FOR FIELD:” Prompt</span></p></li>
<li><p><span class="underline">“SORT BY:” Prompt</span></p></li>
<li><p><span class="underline"></span></p></li>
<li><p><span class="underline">"Start with"</span> and "Go to" SORT valuesIn Print or Search File Entries options, if the SORT BY:prompt is answered, the user is asked for the range of values to sort by. Sometimes it is convenient to have the values of these answers be computed at run time. In such cases, if the answers are preceded with "<strong>@</strong>" signs, they may be understood as computed expressions.For example, if you wanted the range of a certain date-valued field to be calculated as the week up to the day the output is run, you could enter:Figure 78: Computed Expressions—Entering a computed expression at the “Start with” and/or “Go to” promptSelect OPTION: <strong>PRINT FILE ENTRIES</strong> Output from what File: <strong>PTF</strong> Sort by: NUMBER// <strong>DISCHARGE DATE</strong> Start with DISCHARGE DATE: FIRST// <strong>@TODAY-6</strong> DO YOU MEAN 'TODAY-6' AS A VARIABLE? Yes// <strong>&lt;Enter&gt;</strong> (Yes) Go to DISCHARGE DATE: LAST// <strong>@TODAY</strong> DO YOU MEAN 'TODAY' AS A VARIABLE? Yes// <strong>&lt;Enter&gt;</strong> (Yes) Within DISCHARGE DATE, Sort by: ....Field Value Stuffing</p></li>
<li><p><span class="underline">OUTPUT Transforms</span></p></li>
<li><p><span class="underline">Word-processing Windows (| |)</span></p></li>
</ul>
<h4 id="print-field-prompt">“PRINT FIELD:” Prompt</h4>
<p>Whenever, you are within the Print or Search File Entries options, you are asked:</p>
<p>FIRST PRINT FIELD:</p>
<p>OR</p>
<p>THEN PRINT FIELD:</p>
<p>You can answer with a computed expression. For example:</p>
<p><span id="_Toc342980688" class="anchor"></span>Figure 76: Computed Expressions—Entering a computed expression at a “PRINT FIELD” prompt</p>
<p>FIRST PRINT FIELD: <strong>SEX_“” ”“_RELIGION;“””“;L33</strong></p>
<p>This sample computed expression returns the contents of the SEX and RELIGION fields separated by a space. You can follow the computed expression with print qualifiers: <strong>;“”</strong> to suppress the column heading and <strong>;L33</strong> to indicate that the COMPUTED field length can be 33 characters long.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.33333in;height:0.33333in" /> <strong>NOTE:</strong> If the computed expression begins with a quoted string, then the column heading will be suppressed as though the print qualifier <strong>;“”</strong> had been specified.</p>
<p>A user with programmer access can also enter M code at this prompt. The M code <em>must</em> have a WRITE statement for anything that is to be written to the report.</p>
<h4 id="search-for-field-prompt">“SEARCH FOR FIELD:” Prompt</h4>
<p>In the Search File Entries option, you can answer the following prompt with a computed expression:</p>
<p>SEARCH FOR FIELD:</p>
<p>If the expression is Boolean (i.e., its value is either true or false), you are <em>not</em> asked the condition of the search, because the computed expression itself specifies that condition.</p>
<p>A user with programmer access can also enter M code at this prompt. The M code <em>must</em> set the variable X to whatever is to be compared against the search value.</p>
<h4 id="sort-by-prompt">“SORT BY:” Prompt</h4>
<p>In Print or Search File Entries options, you can answer the following prompt with a computed expression:</p>
<p>SORT BY:</p>
<p>If the expression is Boolean (i.e., its value is either true or false), you are <em>not</em> asked the condition of the search, because the computed expression itself specifies that condition.</p>
<p>A user with programmer access can also enter M code at this prompt. The M code <em>must</em> set the variable X to the sort value</p>
<p>Thus, if you want to print a list of the names of all patients who are Baptists, you could enter:</p>
<p><span id="_Toc342980689" class="anchor"></span>Figure 77: Computed Expressions—Entering a computed expression at a “SORT BY” prompt</p>
<p>Select OPTION: <strong>PRINT FILE ENTRIES</strong></p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>SORT BY: <strong>RELIGION=“BAPTIST”</strong></p>
<p>WITHIN RELIGION=“BAPTIST”, SORT BY: <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>NAME</strong></p>
<p>This is a common way to select certain records for printing.</p>
<h4 id="start-with-and-go-to-sort-values">"Start with" and "Go to" SORT values</h4>
<p>In Print or Search File Entries options, if the</p>
<p>SORT BY:</p>
<p>prompt is answered, the user is asked for the range of values to sort by. Sometimes it is convenient to have the values of these answers be computed at run time. In such cases, if the answers are preceded with "<strong>@</strong>" signs, they may be understood as computed expressions.</p>
<p>For example, if you wanted the range of a certain date-valued field to be calculated as the week up to the day the output is run, you could enter:</p>
<p><span id="_Toc472602173" class="anchor"></span>Figure 78: Computed Expressions—Entering a computed expression at the “Start with” and/or “Go to” prompt</p>
<p>Select OPTION: <strong>PRINT FILE ENTRIES</strong></p>
<p>Output from what File: <strong>PTF</strong></p>
<p>Sort by: NUMBER// <strong>DISCHARGE DATE</strong></p>
<p>Start with DISCHARGE DATE: FIRST// <strong>@TODAY-6</strong></p>
<p>DO YOU MEAN 'TODAY-6' AS A VARIABLE? Yes// <strong>&lt;Enter&gt;</strong> (Yes)</p>
<p>Go to DISCHARGE DATE: LAST// <strong>@TODAY</strong></p>
<p>DO YOU MEAN 'TODAY' AS A VARIABLE? Yes// <strong>&lt;Enter&gt;</strong> (Yes)</p>
<p>Within DISCHARGE DATE, Sort by:</p>
<p>....</p>
<h4 id="field-value-stuffing-1">Field Value Stuffing</h4>
<p>In the Enter or Edit File Entries option, you can follow the <strong>//</strong> or <strong>///</strong> specifiers with computed expressions. The expression is evaluated for the entry you are inputting and used as a variable stuff value.</p>
<p>Suppose you want to put the current contents of a patient’s NEXT OF KIN field into the BENEFICIARY field, with a notation that this value is <strong>UNVERIFIED</strong>, for all patients who do <em>not</em> have a value in the BENEFICIARY field. The dialogue would look like this:</p>
<p><span id="_Toc342980690" class="anchor"></span>Figure 79: Computed Expressions—”Stuffing” a value in a field via a computed expression</p>
<p>Select OPTION: <strong>ENTER OR EDIT FILE ENTRIES</strong></p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>EDIT WHICH FIELD: <strong>BENEFICIARY///NEXT OF KIN_” (UNVERIFIED)”</strong></p>
<p>THEN EDIT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>^LOOP</strong></p>
<p>EDIT ENTRIES BY: <strong>BENEFICIARY=““</strong></p>
<p>WITHIN BENEFICIARY=““, EDIT ENTRIES BY: <strong>&lt;Enter&gt;</strong></p>
<p>This example uses two “on-the-fly” expressions:</p>
<ul>
<li><p>Answer to the “EDIT ENTRIES BY:” prompt (which is essentially a SORT BY for looping).</p></li>
<li><p>Forced default value for the BENEFICIARY input field.</p></li>
</ul>
<p>BENEFICIARY= <strong>“”</strong> is a Boolean (True/False) computed expression that means “The BENEFICIARY value equals null.”</p>
<p>After the previous dialogue, the names of such patients would be printed out, and their BENEFICIARY value would automatically be set equal to their NEXT OF KIN field value, concatenated with a space followed by “<strong>(UNVERIFIED)</strong>.”</p>
<h4 id="output-transforms">OUTPUT Transforms</h4>
<p>OUTPUT transforms change the way a field is displayed when printed. Frequently, the OUTPUT transform contains a computed expression that alters the data stored internally in the field. A simple OUTPUT transform that converts the internally stored date into <em>MM/DD/YY</em> format is:</p>
<p><span id="_Toc342980691" class="anchor"></span>Figure 80: Computed Expressions—Entering a computed expression in an OUTPUT transform</p>
<p>DATE OF BIRTH OUTPUT TRANSFORM: <strong>NUMDATE(DATE OF BIRTH)</strong></p>
<p>If an OUTPUT transform is applied to a field, the result of the transform is used if that field is used in another computed expression. For example, if DATE OF BIRTH is used in a PRINT template, the “transformed” value is output:</p>
<p><span id="_Toc342980692" class="anchor"></span>Figure 81: Computed Expressions—Entering a computed expression in an OUTPUT transform attached to a field</p>
<p>THEN PRINT FIELD: <strong>NAME_”‘S BIRTHDAY: “_DATE OF BIRTH</strong></p>
<p>The result of this computed expression would be similar to:</p>
<p><span id="_Toc342980693" class="anchor"></span>Figure 82: Computed Expressions—Example of the result of an OUTPUT transform with a computed expression</p>
<p>ONE FMPATIENT’S BIRTHDAY: 03/07/42</p>
<h4 id="word-processing-windows">Word-processing Windows (| |)</h4>
<p>When entering text into a DATA TYPE field with a value of WORD-PROCESSING, you can insert a computed expression within a <strong>|Window|</strong>. This expression is evaluated at the time the WORD-PROCESSING-type field is printed. If the expression is meaningful, its value replaces the <strong>|Window|</strong> in the printed output.</p>
<p>For example, you could embed within the text of the HISTORY WORD-PROCESSING-type field a <strong>|Window|</strong> containing a COMPUTED field expression:</p>
<p><span id="_Toc342980694" class="anchor"></span>Figure 83: Computed Expressions—A |Window| with a computed expression</p>
<p>HISTORY:</p>
<p>1&gt; <strong>PATIENT IS A |SEX_” “_RELIGION| WHO HAS NO</strong></p>
<p>2&gt; <strong>APPARENT PROBLEMS.</strong></p>
<p>When this field is printed for a patient who has a SEX value of MALE and a RELIGION value of CATHOLIC, the output would look like:</p>
<p><span id="_Toc342980695" class="anchor"></span>Figure 84: Computed Expressions—Example of the result of a |Window| with a computed expression</p>
<p>PATIENT IS A MALE CATHOLIC WHO HAS NO</p>
<p>APPARENT PROBLEMS.</p>

<h1 id="va-fileman-functions">VA FileMan Functions</h1>
<h2 id="how-to-use-va-fileman-functions">How to Use VA FileMan Functions</h2>
<p>This section lists each VA FileMan Function, including syntax and simple examples of their use. You can use them in any computed expression.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on computed expressions, see the “<span class="underline">Computed Expressions</span>” section.</p>
<p>A function performs an operation that returns a value. Many functions are included with VA FileMan; you can also add functions by making entries in the FUNCTION file (#.5).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a description on how to add functions, see the “VA FileMan Functions (Creating)” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<p>Some functions require an argument or arguments; others are “argumentless.” The arguments of the function can be any element, including field name, field number (preceded with the <strong>#</strong>), quoted literal, or even other functions. The SQUAREROOT function, for example, would take an argument of 64 and return 8. Thus, if the AGE field of a patient has the value 64, the expression SQUAREROOT(AGE) would return 8.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If there is an output transform on a field, the function code is applied to the field after it has been transformed. In most cases, if a field has an output transform, you should therefore use the syntax FUNCTION_NAME(INTERNAL(FIELD_NAME)), rather than FUNCTION_NAME(FIELD_NAME).</p>
<h2 id="documentation-conventions-for-va-fileman-functions">Documentation Conventions for VA FileMan Functions</h2>
<p>While studying this section’s functions, syntax, and examples, you encounter the conventions listed in <span class="underline">Table 11</span>:</p>
<p><span id="_Ref389633983" class="anchor"></span>Table 11: VA FileMan Functions—Documentation Conventions</p>
<table>
<tbody>
<tr class="odd">
<td>Convention</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>“</strong></td>
<td><p>In the format arguments: Indicates mandatory quotation marks.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you enter a literal string as an argument, quotation marks are also necessary.</p></td>
</tr>
<tr class="odd">
<td><strong>=&gt;</strong></td>
<td>In examples: Indicates the output of the function.</td>
</tr>
<tr class="even">
<td><strong>[ ]</strong></td>
<td>In examples: Indicates information about the outcome of the function.</td>
</tr>
<tr class="odd">
<td><strong>boldface type</strong></td>
<td>Indicates specific reference to an argument.</td>
</tr>
</tbody>
</table>
<p><strong>FUNCTION(argument, . . .)</strong> is the general format. You <em>must</em> enter the function’s name in uppercase; the case of the arguments depends on the circumstances. Arguments are <em>always</em> surrounded by parentheses.</p>
<h2 id="va-fileman-function-categories">VA FileMan Function Categories</h2>
<p><span class="underline">Table 12</span> lists the VA FileMan functions by category.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Each of these functions is described in the sections that follow.</p>
<p><span id="_Ref447441381" class="anchor"></span>Table 12: VA FileMan Functions—By Category</p>
<table>
<tbody>
<tr class="odd">
<td>Category</td>
<td>Function</td>
</tr>
<tr class="even">
<td>Date/Time</td>
<td>BETWEEN<br />
DATE<br />
DAYOFWEEK<br />
MID<br />
MINUTES<br />
MONTH<br />
MONTHNAME<br />
NOON<br />
NOW<br />
NUMDATE<br />
NUMDATE4<br />
NUMDAY<br />
NUMMONTH<br />
NUMYEAR<br />
NUMYEAR4<br />
RANGEDATE<br />
TIME<br />
TODAY<br />
YEAR</td>
</tr>
<tr class="odd">
<td>Environmental</td>
<td>BREAKABLE<br />
CLOSE<br />
SITENUMBER<br />
USER</td>
</tr>
<tr class="even">
<td>File and File Data</td>
<td>COUNT<br />
DUPLICATED<br />
FILE<br />
INTERNAL<br />
LAST<br />
MAXIMUM<br />
MINIMUM<br />
nTH<br />
NEXT<br />
PREVIOUS<br />
TOTAL</td>
</tr>
<tr class="odd">
<td>Mathematical</td>
<td>ABS<br />
BETWEEN<br />
MAX<br />
MIN<br />
MODULO<br />
SQUAREROOT</td>
</tr>
<tr class="even">
<td>Printing Related Functions</td>
<td>IOM<br />
PAGE</td>
</tr>
<tr class="odd">
<td>String</td>
<td>DUP<br />
LOWERCASE<br />
PADRIGHT<br />
REPLACE<br />
REVERSE<br />
STRIPBLANKS<br />
TRANSLATE<br />
UPPERCASE</td>
</tr>
<tr class="even">
<td>Temporary Data Storage</td>
<td>PARAM and SETPARAM<br />
VAR and SET</td>
</tr>
<tr class="odd">
<td>M-Related Functions</td>
<td>$A[SCII]<br />
$C[HAR]<br />
$E[XTRACT]<br />
$F[IND]<br />
$H[OROLOG]<br />
$I[O]<br />
$J[OB]<br />
$J[USTIFY]<br />
$L[ENGTH]<br />
$P[IECE]<br />
$R[ANDOM]<br />
$S[ELECT]<br />
$S[TORAGE]<br />
$X<br />
$Y</td>
</tr>
</tbody>
</table>
<h3 id="datetime-functions">Date/Time Functions</h3>
<h4 id="between">BETWEEN</h4>
<p><span id="_Toc342980698" class="anchor"></span>Table 13: VA FileMan Functions—Date/Time Function: BETWEEN</p>
<table>
<thead>
<tr class="header">
<th>Format:</th>
<th>BETWEEN(<em>d</em>1,<em>d</em>2,<em>d</em>3)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Parameters:</strong></td>
<td><p>The <strong><em>d</em>1</strong>, <strong><em>d</em>2</strong>, and <strong><em>d</em>3</strong> are dates or date expressions:</p>
<ul>
<li><p><strong><em>d</em>1</strong> is the date being tested.</p></li>
<li><p><strong><em>d</em>2</strong> is one limit for the test.</p></li>
<li><p><strong><em>d</em>3</strong> is the other limit for the test.</p></li>
</ul></td>
</tr>
<tr class="even">
<td><strong>Use:</strong></td>
<td>This Boolean function determines if <strong><em>d</em>1</strong> is within the limits defined by <strong><em>d</em>2</strong> and <strong><em>d</em>3</strong>. If <strong><em>d</em>1</strong> is within this range, a value of 1 (true) is returned; otherwise, 0 (false) is returned. If <strong><em>d</em>1</strong> equals <strong><em>d</em>2</strong> or <strong><em>d</em>3</strong>, 1 (true) is returned.</td>
</tr>
<tr class="odd">
<td><strong>Examples:</strong></td>
<td><p>Select OPTION: <strong>SEARCH FILE ENTRIES</strong></p>
<p>OUTPUT FROM WHAT FILE: BUILD// <strong>&lt;Enter&gt;</strong></p>
<p>  -A- SEARCH FOR BUILD FIELD: <strong>BETWEEN(DATE DISTRIBUTED,1JAN2000,1JAN2001)</strong></p>
<p>  -B- SEARCH FOR BUILD FIELD:</p>
<p>IF: A// <strong>&lt;Enter&gt;</strong> BETWEEN(DATE DISTRIBUTED,1JAN2000,1JAN2001)</p></td>
</tr>
</tbody>
</table>
<h4 id="date">DATE</h4>
<p><span id="_Toc342980699" class="anchor"></span>Table 14: VA FileMan Functions—Date/Time Function: DATE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>DATE(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This date function returns the date portion of a date/time expression.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>DATE(NOW) =&gt; AUG 21,1991</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For tips on displaying date-valued elements such as this function in computed expressions (e.g., printing), see the “<span class="underline">Data Types in Computed Expressions</span>” section.</p>
<h4 id="dayofweek">DAYOFWEEK</h4>
<p><span id="_Toc342980700" class="anchor"></span>Table 15: VA FileMan Functions—Date/Time Function: DAYOFWEEK</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>DAYOFWEEK(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the day of the week of the date in <strong>datexp</strong>.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>DAYOFWEEK(DATE OF BIRTH) =&gt; TUESDAY</td>
</tr>
</tbody>
</table>
<h4 id="mid">MID</h4>
<p><span id="_Toc342980701" class="anchor"></span>Table 16: VA FileMan Functions—Date/Time Function: MID</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>MID</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns the current date with a 24:00 time stamp. It represents tonight at midnight.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>MID =&gt; AUG 23,1991 24:00</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For tips on displaying date-valued elements such as this function in computed expressions (e.g., printing), see the “<span class="underline">Data Types in Computed Expressions</span>” section.</p>
<h4 id="minutes">MINUTES</h4>
<p><span id="_Toc342980702" class="anchor"></span>Table 17: VA FileMan Functions—Date/Time Function: MINUTES</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>MINUTES(datexp1,datexp2)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp1</strong> and <strong>datexp2</strong> are date/time expressions. Time stamps are <em>not</em> necessary.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the number of minutes that <strong>datexp1</strong> is <em>after</em> <strong>datexp2</strong>. If no time is associated with a date/time expression, DATE@12:00 A.M. is used.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>MINUTES(MID,NOW) =&gt; 832</p>
<p>MINUTES(MID,TODAY) =&gt; 1440</p></td>
</tr>
</tbody>
</table>
<h4 id="month">MONTH</h4>
<p><span id="_Toc342980703" class="anchor"></span>Table 18: VA FileMan Functions—Date/Time Function: MONTH</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>MONTH(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is a date/time expression.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the month and year from a date/time valued expression.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>MONTH(DATE OF BIRTH) =&gt; AUG 1943</td>
</tr>
</tbody>
</table>
<h4 id="monthname">MONTHNAME</h4>
<p><span id="_Toc342980704" class="anchor"></span>Table 19: VA FileMan Functions—Date/Time Function: MONTHNAME</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>MONTHNAME(<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <em><strong>n</strong></em> is an expression that evaluates to an integer from 1 through 12.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the full name of the month corresponding to <em><strong>n</strong></em>.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>MONTHNAME(4) =&gt; APRIL</p>
<p>MONTHNAME(+$E(DATE OF BIRTH,4,5)) =&gt; APRIL [Function $E extracts the 4th and 5th digits from a date stored in FileMan internal format: YYYMMDD.]</p></td>
</tr>
</tbody>
</table>
<h4 id="noon">NOON</h4>
<p><span id="_Toc342980705" class="anchor"></span>Table 20: VA FileMan Functions—Date/Time Function: —NOON</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NOON</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns today’s date with a time stamp of 12:00.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NOON =&gt; AUG 23,1991 12:00</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For tips on displaying date-valued elements such as this function in computed expressions (e.g., printing), see the “<span class="underline">Data Types in Computed Expressions</span>” section.</p>
<h4 id="now">NOW</h4>
<p><span id="_Toc342980706" class="anchor"></span>Table 21: VA FileMan Functions—Date/Time Function: NOW</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NOW</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns the current date and time.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NOW =&gt; AUG 23,1991 11:23</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For tips on displaying date-valued elements such as this function in computed expressions (e.g., printing), see the “<span class="underline">Data Types in Computed Expressions</span>” section.</p>
<h4 id="numdate">NUMDATE</h4>
<p><span id="_Toc342980707" class="anchor"></span>Table 22: VA FileMan Functions—Date/Time Function: NUMDATE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NUMDATE(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the date in <strong>datexp</strong> in <em>MM/DD/YY</em> format.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NUMDATE(DATE OF BIRTH) =&gt; 03/07/49</td>
</tr>
</tbody>
</table>
<h4 id="numdate4">NUMDATE4</h4>
<p><span id="_Toc342980708" class="anchor"></span>Table 23: VA FileMan Functions—Date/Time Function: NUMDATE4</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NUMDATE4(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the date in <strong>datexp</strong> in <em>MM/DD/YYYY</em> format.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NUMDATE4(DATE OF BIRTH) =&gt; 03/07/1949</td>
</tr>
</tbody>
</table>
<h4 id="numday">NUMDAY</h4>
<p><span id="_Toc342980709" class="anchor"></span>Table 24: VA FileMan Functions—Date/Time Function: NUMDAY</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NUMDAY(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the day of the month in <strong>datexp</strong> as a number.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NUMDAY(DATE OF BIRTH) =&gt; 7 [DATE OF BIRTH = March 7, 1949]</td>
</tr>
</tbody>
</table>
<h4 id="nummonth">NUMMONTH</h4>
<p><span id="_Toc342980710" class="anchor"></span>Table 25: VA FileMan Functions—Date/Time Function: NUMMONTH</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NUMMONTH(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the month in <strong>datexp</strong> as a number.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NUMMONTH(DATE OF BIRTH) =&gt; 3 [DATE OF BIRTH = March 7, 1949]</td>
</tr>
</tbody>
</table>
<h4 id="numyear">NUMYEAR</h4>
<p><span id="_Toc342980711" class="anchor"></span>Table 26: VA FileMan Functions—Date/Time Function: NUMYEAR</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NUMYEAR(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the last two digits of the year in datexp as a number.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NUMYEAR(DATE OF BIRTH) =&gt; 49 [DATE OF BIRTH = March 7, 1949]</td>
</tr>
</tbody>
</table>
<h4 id="numyear4">NUMYEAR4</h4>
<p><span id="_Toc342980712" class="anchor"></span>Table 27: VA FileMan Functions—Date/Time Function: NUMYEAR4</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NUMYEAR4(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the four digit year in datexp as a number.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NUMYEAR4(DATE OF BIRTH) =&gt; 1949 [DATE OF BIRTH = March 7, 1949]</td>
</tr>
</tbody>
</table>
<h4 id="rangedate">RANGEDATE</h4>
<p><span id="_Toc342980713" class="anchor"></span>Table 28: VA FileMan Functions—Date/Time Function: RANGEDATE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>RANGEDATE(datexp1,datexp2,datexp3,datexp4)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>datexp1</strong> is a date valued expression beginning the first range of dates.</p></li>
<li><p><strong>datexp2</strong> is a date valued expression ending the first range of dates.</p></li>
<li><p><strong>datexp3</strong> is a date valued expression beginning the second range of dates.</p></li>
<li><p><strong>datexp4</strong> is a date valued expression ending the second range of dates.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the number of days that the two ranges of dates overlap.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>RANGEDATE(DATE OF BIRTH,NOW,20 JUL 1981,20 JUL 1982) =&gt; 366</td>
</tr>
</tbody>
</table>
<h4 id="time">TIME</h4>
<p><span id="_Toc342980714" class="anchor"></span>Table 29: VA FileMan Functions—Date/Time Function: TIME</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>TIME(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns time from datexp in 12 hour format with AM/PM.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>TIME(NOW) =&gt; 1:15 PM</td>
</tr>
</tbody>
</table>
<h4 id="today">TODAY</h4>
<p><span id="_Toc342980715" class="anchor"></span>Table 30: VA FileMan Functions—Date/Time Function: TODAY</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>TODAY</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns today’s date.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>TODAY =&gt; AUG 26,1991</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For tips on displaying date-valued elements such as this function in computed expressions (e.g., printing), see the “<span class="underline">Data Types in Computed Expressions</span>” section.</p>
<h4 id="year">YEAR</h4>
<p><span id="_Toc342980716" class="anchor"></span>Table 31: VA FileMan Functions—Date/Time Function: YEAR</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>YEAR(datexp)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>datexp</strong> is an expression with a date/time value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the year from <strong>datexp</strong>.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>YEAR(DATE OF BIRTH) =&gt; 1949</td>
</tr>
</tbody>
</table>
<h3 id="environmental-functions">Environmental Functions</h3>
<h4 id="breakable">BREAKABLE</h4>
<p><span id="_Toc342980717" class="anchor"></span>Table 32: VA FileMan Functions—Environmental Function: BREAKABLE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>BREAKABLE(<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <em><strong>n</strong></em> is a number or numeric expression with a value of 1 or 0.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns nothing. When used within a PRINT template, this function determines whether or not <strong>&lt;Ctrl&gt;C</strong> can be used to break out of a report print. If <em><strong>n</strong></em> = 1, <strong>&lt;Ctrl&gt;C</strong> breaks out; if <em><strong>n</strong></em> = 0, it does <em>not</em>. Under default conditions, <strong>&lt;Ctrl&gt;C</strong> breaks you out. The value of n is returned.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>BREAKABLE(0) =&gt;0; [<strong>&lt;Ctrl&gt;C</strong> is disabled]</td>
</tr>
</tbody>
</table>
<h4 id="close">CLOSE</h4>
<p><span id="_Toc342980718" class="anchor"></span>Table 33: VA FileMan Functions—Environmental Function: CLOSE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>CLOSE(device)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>device</strong> is an open device, in the form of a valid argument for an M <strong>Close</strong> command.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function should only be used within VA FileMan code when Kernel is unavailable. It closes the specified device.</td>
</tr>
</tbody>
</table>
<h4 id="sitenumber">SITENUMBER</h4>
<p><span id="_Toc342980719" class="anchor"></span>Table 34: VA FileMan Functions—Environmental Function: SITENUMBER</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>SITENUMBER</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns your site’s identifying number that was entered during VA FileMan initialization and stored in ^DD(“SITE”,1). (Do <em>not</em> use this function to retrieve a VA Institution Station Number.)</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>SITENUMBER =&gt; 99</td>
</tr>
</tbody>
</table>
<h4 id="user">USER</h4>
<p><span id="_Toc342980720" class="anchor"></span>Table 35: VA FileMan Functions—Environmental Function: USER</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>USER(“attribute”)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p><strong>attribute</strong> is one of these codes:</p>
<ul>
<li><p><strong>#—</strong>User’s DUZ value (the user’s number)</p></li>
<li><p><strong>N—</strong>User’s name</p></li>
<li><p><strong>I—</strong>User’s initials</p></li>
<li><p><strong>T—</strong>User’s title</p></li>
<li><p><strong>NN—</strong>User’s nickname</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> These codes <em>must</em> be surrounded by quotes within the function.</p></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td><p>This function returns information about the currently logged on user. The information comes from the NEW PERSON file (#200).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This function does <em>not</em> work if you are using VA FileMan <em>without</em> a NEW PERSON file in ^VA(200,.</p></td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>USER(“#”) =&gt; 160</td>
</tr>
</tbody>
</table>
<h3 id="file-and-file-data-functions">File and File Data Functions</h3>
<h4 id="count">COUNT</h4>
<p><span id="_Toc342980721" class="anchor"></span>Table 36: VA FileMan Functions—File and File Data Function: COUNT</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><p><strong>COUNT(fname)</strong></p></li>
<li><p><strong>COUNT(fname:field)</strong></p></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ol type="1">
<li><blockquote>
<p>In the first format, <strong>fname</strong> is the name of a file or of a Multiple in your current file.</p>
</blockquote></li>
</ol>
<ol start="3" type="1">
<li><p>In the second format:</p></li>
</ol>
<ul>
<li><p><strong>fname</strong> is the name of your current file or Multiple.</p></li>
<li><p><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>) in <strong>fname</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function counts the number of entries in a file or in a Multiple. You can count the lines in a word-processing field by using the first format with the word-processing field name as the <strong>fname</strong>. If the second format is used, the number of entries with <em>non</em>-null values in <strong>field</strong> is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><ol type="1">
<li><blockquote>
<p>COUNT(PATIENT) -&gt; 1349 [the number of entries in the PATIENT file]</p>
</blockquote></li>
</ol>
<ol start="4" type="1">
<li><p>COUNT(PATIENT:PROVIDER) =&gt; 1288 [number of patients with providers recorded]</p></li>
</ol></td>
</tr>
</tbody>
</table>
<h4 id="duplicated">DUPLICATED</h4>
<p><span id="_Toc342980722" class="anchor"></span>Table 37: VA FileMan Functions—File and File Data Function: DUPLICATED</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>DUPLICATED(field)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>). The field <em>must</em> be a cross-referenced field.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td><p>This function, when used on any cross-referenced field, finds all duplicates within a given file or determines whether a specific entry is duplicated.</p>
<p>Returns one of the possible Boolean values:</p>
<ul>
<li><p>1 = field value is duplicated in another entry.</p></li>
<li><p>“” = field value is unique.</p></li>
</ul></td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>Example using the Search File Entries option to perform a search on the example file named ZZINDIVIDUAL:</p>
<p>Select OPTION: <strong>SEARCH FILE ENTRIES</strong></p>
<p>OUTPUT FROM WHAT FILE: ZZINDIVIDUAL// <strong>&lt;Enter&gt;</strong></p>
<p>  -A- SEARCH FOR ZZINDIVIDUAL FIELD: <strong>DUPLICATED(NAME)</strong></p>
<p>  -B- SEARCH FOR ZZINDIVIDUAL FIELD:</p>
<p>IF: A// <strong>&lt;Enter&gt;</strong> DUPLICATED(NAME)</p>
<p>STORE RESULTS OF SEARCH IN TEMPLATE: <strong>&lt;Enter&gt;</strong></p>
<p>SORT BY: NAME// <strong>&lt;Enter&gt;</strong></p>
<p>START WITH NAME: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>NUMBER</strong></p>
<p>THEN PRINT FIELD: <strong>NAME</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Heading (S/C): ZZINDIVIDUAL SEARCH// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong> Telnet Terminal    Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>ZZINDIVIDUAL SEARCH          MAR 18,2008  14:44    PAGE 1</p>
<p>NUMBER        NAME</p>
<p>---------------------------------------------------------------</p>
<p>5             FMPATIENT,ONE</p>
<p>15 FMPATIENT,ONE</p>
<p>                         2 MATCHES FOUND.</p>
<p>Another example for using DUPLICATED, this time using Option PRINT FILE ENTRIES, would be if you wanted to print the name with three asterisks in front of it if it were a duplicated name:</p>
<p>  FIRST PRINT FIELD: $S(DUPLICATED(NAME):”***”,1:”“)_NAME</p></td>
</tr>
</tbody>
</table>
<h4 id="file">FILE</h4>
<p><span id="_Toc342980723" class="anchor"></span>Table 38: VA FileMan Functions—File and File Data Function: FILE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>FILE(vpointer)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>vpointer</strong> is the label or field number of a variable pointer field.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the name of the file to which a variable pointer points for a particular entry.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>FILE(PROVIDER) =&gt; STAFF PROVIDERS</td>
</tr>
</tbody>
</table>
<h4 id="internal">INTERNAL</h4>
<p><span id="_Toc342980724" class="anchor"></span>Table 39: VA FileMan Functions—File and File Data Function: INTERNAL</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>INTERNAL(field)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>field</strong> is the label of a field or a field number preceded by <strong>#</strong>.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td><p>This function returns the internally stored value of the field for a particular entry. It is useful in obtaining the internally stored (instead of displayed) DATA TYPE field value of any of the following:</p>
<ul>
<li><p>POINTER TO A FILE</p></li>
<li><p>VARIABLE-POINTER</p></li>
<li><p>DATE/TIME</p></li>
<li><p>SET OF CODES</p></li>
</ul></td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>INTERNAL(PROVIDER) =&gt; 136;VA(200,</p>
<p>INTERNAL(SEX) =&gt; m</p></td>
</tr>
</tbody>
</table>
<h4 id="last">LAST</h4>
<p><span id="_Toc342980725" class="anchor"></span>Table 40: VA FileMan Functions—File and File Data Function: LAST</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>LAST(fname)</p>
</blockquote></li>
<li><blockquote>
<p>LAST(fname:field)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>In the first format, <strong>fname</strong> is the name of a file or of a Multiple-valued field in your current file.</p>
<p>In the second format:</p>
<ul>
<li><p><strong>fname</strong> is the name of your current file or Multiple.</p></li>
<li><p><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>) in <strong>fname</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the last entry in a file or in a Multiple identified by <strong>fname</strong>. If the second format is used, the last entry with a <em>non</em>-null value in <strong>field</strong> is returned. The last entry is the one with the highest internal entry number; the function does <em>not</em> analyze the values of the entries.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>LAST(DIAGNOSIS) =&gt; Sepsis [last entry in this Multiple field]</p>
<p>LAST(DIAGNOSIS:OCCURRENCES) =&gt; 3</p></td>
</tr>
</tbody>
</table>
<h4 id="maximum">MAXIMUM</h4>
<p><span id="_Toc342980726" class="anchor"></span>Table 41: VA FileMan Functions—File and File Data Function: MAXIMUM</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>MAXIMUM(fname)</p>
</blockquote></li>
<li><blockquote>
<p>MAXIMUM(fname:field)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>In the first format, <strong>fname</strong> is the name of a file or of a Multiple in your current file.</p>
<p>In the second format:</p>
<ul>
<li><p><strong>fname</strong> is the name of your current file or Multiple.</p></li>
<li><p><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>) in <strong>fname</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>With the first format, this function returns the largest value from the .01 field of the file or Multiple identified by <strong>fname</strong>. The second format returns the largest value from <strong>field</strong>. The function works only if the internally stored values of the entries are numeric. Thus, you can use numeric or date valued fields. Also, free text fields work if the stored values are numbers. Computed fields with numeric results can be used. Pointer fields return the value from the pointed-to file.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>MAXIMUM(APPOINTMENT) =&gt; FEB 25,1991 [APPOINTMENT is a Multiple-valued DATE/TIME field]</p>
<p>MAXIMUM(PATIENT:AGE) =&gt; 93 [AGE is a field in the current file, PATIENT]</p></td>
</tr>
</tbody>
</table>
<h4 id="minimum">MINIMUM</h4>
<p><span id="_Toc342980727" class="anchor"></span>Table 42: VA FileMan Functions—File and File Data Function: MINIMUM</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>MINIMUM(fname)</p>
</blockquote></li>
<li><blockquote>
<p>MINIMUM(fname:field)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>In the first format, <strong>fname</strong> is the name of a file or of a Multiple-valued field in your current file.</p>
<p>In the second format:</p>
<ul>
<li><p><strong>fname</strong> is the name of your current file or Multiple.</p></li>
<li><p><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>) in <strong>fname</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the smallest value from the file’s .01 field or from the Multiple identified by <strong>fname</strong>. The second format returns the smallest value from <strong>field</strong>. (See MAXIMUM for limits of use.)</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>MINIMUM(APPOINTMENT) =&gt; MAR 1,1979 [APPOINTMENT is a Multiple-valued DATE/TIME field]</p>
<p>MINIMUM(PATIENT:AGE) =&gt; 18</p></td>
</tr>
</tbody>
</table>
<h4 id="nth">nTH</h4>
<p><span id="_Toc342980728" class="anchor"></span>Table 43: VA FileMan Functions—File and File Data Function: nTH</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><p>The syntax of this function is different, because the function’s name is defined by the user. The name is a number followed by an ordinal number suffix.</p>
<ol type="1">
<li><blockquote>
<p><em>n</em>TH(fname)</p>
</blockquote></li>
<li><blockquote>
<p><em>n</em>TH(fname:field)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>In the first format, <strong>fname</strong> is the name of a file or of a Multiple in your current file.</p>
<p>In the second format:</p>
<ul>
<li><p><strong>fname</strong> is the name of your current file or Multiple.</p></li>
<li><p><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>) in <strong>fname</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the <em><strong>n</strong></em><sup>th</sup> entry in a file or in a Multiple identified by <strong>fname</strong>. If the second format is used, the value of the specified field associated with the <em><strong>n</strong></em><sup>th</sup> entry in <strong>fname</strong> is returned. The <em><strong>n</strong></em><sup>th</sup> entry is determined by the internal entry number; the function does <em>not</em> analyze the values of the entries. When used with the second format, the <em><strong>n</strong></em><sup>th</sup> subentry with a <em>non</em>-null value is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>2ND(DIAGNOSIS) =&gt; Angina Pectoris [the second entry in the DIAGNOSIS Multiple]</p>
<p>10TH(ADMISSION:ADMISSION DATE) =&gt; JAN 2,1990 [ADMISSION DATE associated with the tenth ADMISSION]</p></td>
</tr>
</tbody>
</table>
<h4 id="next">NEXT</h4>
<p><span id="_Toc342980729" class="anchor"></span>Table 44: VA FileMan Functions—File and File Data Function: NEXT</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>NEXT(field)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>field</strong> is a field’s number preceded by a <strong>#</strong> or a field’s label from the current file or Multiple.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the value for the field identified by <strong>field</strong> in the next entry. The next entry is determined by internal entry number. No analysis of the value of entries is done. If there are no more entries, the function returns null.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>NEXT(AGE AT ONSET) =&gt; 56 [the value of AGE AT ONSET for the next entry in the Subfile]</td>
</tr>
</tbody>
</table>
<h4 id="previous">PREVIOUS</h4>
<p><span id="_Toc342980730" class="anchor"></span>Table 45: VA FileMan Functions—File and File Data Function: PREVIOUS</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>PREVIOUS(field)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>field</strong> is a field’s number preceded by a <strong>#</strong> or a field’s label from the current file or Multiple.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the value for the field identified by <strong>field</strong> in the previous entry. The previous entry is determined by internal entry number. No analysis of the value of entries is done. If there is no prior entry, the function returns null.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>PREVIOUS(AGE AT ONSET) =&gt; 29 [the value of AGE AT ONSET for the prior entry in the Subfile]</td>
</tr>
</tbody>
</table>
<h4 id="total">TOTAL</h4>
<p><span id="_Toc342980731" class="anchor"></span>Table 46: VA FileMan Functions—File and File Data Function: TOTAL</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>TOTAL(fname)</p>
</blockquote></li>
<li><blockquote>
<p>TOTAL(fname:field)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>In the first format, <strong>fname</strong> is the name of a file or of a Multiple-valued field in your current file.</p>
<p>In the second format:</p>
<ul>
<li><p><strong>fname</strong> is the name of your current file or Multiple.</p></li>
<li><p><strong>field</strong> is the name of a field (or a field number preceded by <strong>#</strong>) in fname.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>With the first format, this function totals the values of the .01 field of a Multiple or file identified by fname. The second format totals the values in field. The field being totaled <em>must</em> have numeric values.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>“$”_TOTAL(VISIT COST) =&gt; $569.32 [VISIT COST is a Multiple]</td>
</tr>
</tbody>
</table>
<h3 id="mathematical-functions">Mathematical Functions</h3>
<h4 id="abs">ABS</h4>
<p><span id="_Toc342980732" class="anchor"></span>Table 47: VA FileMan Functions—Mathematical Function: ABS</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>ABS(<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <em><strong>n</strong></em> is a number or an expression with a numeric value.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This mathematical function returns the value of <em><strong>n</strong></em> <em>without</em> a sign; it gives the absolute value of <em><strong>n</strong></em>.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>ABS(-23.87) =&gt; 23.87</td>
</tr>
</tbody>
</table>
<h4 id="between-1">BETWEEN</h4>
<p><span id="_Toc342980733" class="anchor"></span>Table 48: VA FileMan Functions—Mathematical Function: BETWEEN</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>BETWEEN(<em>n</em>1,<em>n</em>2,<em>n</em>3)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>The <strong><em>n</em>1</strong>, <strong><em>n</em>2</strong>, and <strong><em>n</em>3</strong> are numbers or numeric expressions:</p>
<ul>
<li><p><strong><em>n</em>1</strong> is the number being tested.</p></li>
<li><p><strong><em>n</em>2</strong> is one limit for the test.</p></li>
<li><p><strong><em>n</em>3</strong> is the other limit for the test.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This Boolean function determines if <strong><em>n</em>1</strong> is within the limits defined by <strong><em>n</em>2</strong> and <strong><em>n</em>3</strong>. If <strong><em>n</em>1</strong> is within this range, a value of 1 (true) is returned; otherwise, 0 (false) is returned. If <strong><em>n</em>1</strong> equals <strong><em>n</em>2</strong> or <strong><em>n</em>3</strong>, 1 (true) is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>BETWEEN(OCCURRENCES,5,10) =&gt; 0 [OCCURRENCES is a field with value = 3]</p>
<p>BETWEEN(-3,-10,0) =&gt; 1</p></td>
</tr>
</tbody>
</table>
<h4 id="max">MAX</h4>
<p><span id="_Toc342980734" class="anchor"></span>Table 49: VA FileMan Functions—Mathematical Function: MAX</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>MAX(<em>n</em>1,<em>n</em>2)</td>
</tr>
<tr class="even">
<td>Parameters:</td>
<td>The <strong><em>n</em>1</strong> and <strong><em>n</em>2</strong> are numbers or numeric expressions.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the larger of <strong><em>n</em>1</strong> and <strong><em>n</em>2</strong>. Date/time field values can be used resulting in the most recent date/time being returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>MAX(54,23) =&gt; 54</p>
<p>MAX(DATE OF BIRTH,TODAY) =&gt; AUG 23,1991</p></td>
</tr>
</tbody>
</table>
<h4 id="min">MIN</h4>
<p><span id="_Toc342980735" class="anchor"></span>Table 50: VA FileMan Functions—Mathematical Function: MIN</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>MIN(<em>n</em>1,<em>n</em>2)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <strong><em>n</em>1</strong> and <strong><em>n</em>2</strong> are numbers or numeric expressions.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the smaller of <strong><em>n</em>1</strong> and <strong><em>n</em>2</strong>. Date/time field values can be used resulting in the earliest date/time being returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>MIN(54,23) =&gt;23</p>
<p>MIN(DATE OF BIRTH,TODAY) =&gt; NOV 1,1938</p></td>
</tr>
</tbody>
</table>
<h4 id="modulo">MODULO</h4>
<p><span id="_Toc342980736" class="anchor"></span>Table 51: VA FileMan Functions—Mathematical Function: MODULO</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>Format: MODULO(<em>n</em>1,<em>n</em>2)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><p>The <strong><em>n</em>1</strong>, <strong><em>n</em>2</strong> are numbers or numeric expressions:</p>
<ul>
<li><p><strong><em>n</em>1</strong> is the dividend.</p></li>
<li><p><strong><em>n</em>2</strong> is the divisor.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This mathematical function returns the remainder when <strong><em>n</em>2</strong> is divided into <strong><em>n</em>1</strong>; it performs modulo division.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>MODULO(54,5) =&gt; 4</td>
</tr>
</tbody>
</table>
<h4 id="squareroot">SQUAREROOT</h4>
<p><span id="_Toc342980737" class="anchor"></span>Table 52: VA FileMan Functions—Mathematical Function: SQUAREROOT</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>SQUAREROOT(<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <em><strong>n</strong></em> is a numeric expression greater than 0.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This mathematical function returns the square root of <em><strong>n</strong></em>.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>SQUAREROOT(9) =&gt; 3</td>
</tr>
</tbody>
</table>
<h3 id="printing-related-functions">Printing Related Functions</h3>
<h4 id="iom">IOM</h4>
<p><span id="_Toc342980738" class="anchor"></span>Table 53: VA FileMan Functions—Printing Related Function: IOM</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>IOM</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns the number of columns for the present output device.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>IOM/2 =&gt; 0</td>
</tr>
</tbody>
</table>
<h4 id="page">PAGE</h4>
<p><span id="_Toc342980739" class="anchor"></span>Table 54: VA FileMan Functions—Printing Related Function: PAGE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>PAGE</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This argumentless function returns the current page number when output is being printed.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>“Page “_PAGE =&gt; Page 23 [the 23rd page of output]</td>
</tr>
</tbody>
</table>
<h3 id="string-functions">String Functions</h3>
<h4 id="dup">DUP</h4>
<p><span id="_Toc342980740" class="anchor"></span>Table 55: VA FileMan Functions—String Function: DUP</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>DUP(string,<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong> is any string of characters or an expression yielding a string of characters.</p></li>
<li><p><em><strong>n</strong></em> is a positive integer or a numeric expression.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns a string of characters <em><strong>n</strong></em> characters long. If <strong>string</strong> is less than <em><strong>n</strong></em> characters long, the characters in <strong>string</strong> are repeated until the output string is <em><strong>n</strong></em> characters in length.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td><p>DUP(DIAGNOSIS,3) =&gt; Ang [value of DIAGNOSIS = Angina Pectoris]</p>
<p>DUP(“_”,IOM) =&gt; _____________________ [line drawn has a length equal to the value of IOM]</p></td>
</tr>
</tbody>
</table>
<h4 id="lowercase">LOWERCASE</h4>
<p><span id="_Toc342980741" class="anchor"></span>Table 56: VA FileMan Functions—String Function: LOWERCASE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>LOWERCASE(string)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>string</strong> is an expression yielding alphabetic characters.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function changes uppercase characters in <strong>string</strong> to lowercase except for the first character and the first character after a punctuation mark. A space is a punctuation mark; thus, the first letter of a word is <em>not</em> changed. <strong>String</strong> <em>cannot</em> be a word-processing field; the contents of a word-processing field are unaffected.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>LOWERCASE(“FMPATIENT,20”) =&gt; Fmpatient,20</td>
</tr>
</tbody>
</table>
<h4 id="padright">PADRIGHT</h4>
<p><span id="_Toc342980742" class="anchor"></span>Table 57: VA FileMan Functions—String Function: PADRIGHT</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>PADRIGHT(string,<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong> is a string or string expression to be printed.</p></li>
<li><p><em><strong>n</strong></em> is the total size of the output string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function pads <strong>string</strong> on the right with spaces to make a string <em><strong>n</strong></em> characters long. If <strong>string</strong> is longer than <em><strong>n</strong></em> characters, the entire string is returned; this function does <em>not</em> truncate.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>PADRIGHT(“Peter”,10) =&gt; Peter [five spaces after the ‘r’]</p>
<p>PADRIGHT(CITY,15) =&gt; San Juan Capistrano</p></td>
</tr>
</tbody>
</table>
<h4 id="replace">REPLACE</h4>
<p><span id="_Toc342980743" class="anchor"></span>Table 58: VA FileMan Functions—String Function: REPLACE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>REPLACE(string,oldstring,newstring)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string—</strong>String expression that is changed.</p></li>
<li><p><strong>oldstring—</strong>String expression containing the characters in <strong>string</strong> that are replaced.</p></li>
<li><p><strong>newstring—</strong>String expression containing the characters that replace those in <strong>oldstring</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the input <strong>string</strong> with all occurrences of the <strong>oldstring</strong> changed to the <strong>newstring</strong>. The <strong>oldstring</strong> and <strong>newstring</strong> can be any length. They do <em>not</em> have to be equal in length.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>REPLACE(“abracadabra”,“ab”,“*”) =&gt; *racad*ra</p>
<p>REPLACE(“Name is: XXX”,“XXX”,NAME) =&gt; Name is: FMPATIENT,21</p></td>
</tr>
</tbody>
</table>
<h4 id="reverse">REVERSE</h4>
<p><span id="_Toc342980744" class="anchor"></span>Table 59: VA FileMan Functions—String Function: REVERSE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>REVERSE(string)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>string</strong> is a string expression.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the characters in <strong>string</strong> in reverse order.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>REVERSE(NAME) =&gt; neB,nilknarF</td>
</tr>
</tbody>
</table>
<h4 id="stripblanks">STRIPBLANKS</h4>
<p><span id="_Toc342980745" class="anchor"></span>Table 60: VA FileMan Functions—String Function: STRIPBLANKS</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>STRIPBLANKS(string)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>string</strong> is a string expression.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function removes leading and trailing spaces from <strong>string</strong>.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>STRIPBLANKS(“ Waste no space “) =&gt; Waste no space [no leading or trailing spaces]</td>
</tr>
</tbody>
</table>
<h4 id="translate">TRANSLATE</h4>
<p><span id="_Toc342980746" class="anchor"></span>Table 61: VA FileMan Functions—String Function: TRANSLATE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>TRANSLATE(string,”oldchar”,”newchar”)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string—</strong>String expression to be changed.</p></li>
<li><p><strong>oldchar—</strong>Characters to be translated.</p></li>
<li><p><strong>newchar—</strong>Characters to replace the <strong>oldchar</strong>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function alters <strong>string</strong> by changing each character in <strong>oldchar</strong> into the character in the corresponding position in <strong>newchar</strong>. The translation is one character for one character.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>TRANSLATE(“08261991”,”123”,”ABC”) =&gt; 08B6A99A</p>
<p>TRANSLATE(NAME,“F”,“f”) =&gt; fMPATIENT,fORTY-ONE</p></td>
</tr>
</tbody>
</table>
<h4 id="uppercase">UPPERCASE</h4>
<p><span id="_Toc342980747" class="anchor"></span>Table 62: VA FileMan Functions—String Function: UPPERCASE</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>UPPERCASE(string)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>string</strong> is an expression with alphabetic characters.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function changes lowercase characters in <strong>string</strong> to uppercase. <strong>String</strong> <em>cannot</em> be a word-processing field; the contents of a word-processing field are unaffected.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>UPPERCASE(“vista”) =&gt; VISTA</td>
</tr>
</tbody>
</table>
<h3 id="temporary-data-storage-functions">Temporary Data Storage Functions</h3>
<h4 id="param">PARAM</h4>
<p><span id="_Toc342980748" class="anchor"></span>Table 63: VA FileMan Functions—Temporary Data Storage Function: PARAM</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>PARAM(“parameter”)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>parameter</strong> has been assigned a value by the SETPARAM function.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function works with the SETPARAM function. It returns the value that has been given to <strong>parameter</strong> by use of the SETPARAM function.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>PARAM(“AGE”) =&gt; 45</td>
</tr>
</tbody>
</table>
<h4 id="setparam">SETPARAM</h4>
<p><span id="_Toc342980749" class="anchor"></span>Table 64: VA FileMan Functions—Temporary Data Storage Function: SETPARAM</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>SETPARAM(value,“parameter”)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>value</strong> is an expression to be evaluated.</p></li>
<li><p><strong>parameter</strong> is a string 1 to 30 characters long identifying a storage location to hold value.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function works with the PARAM function. It returns nothing. <strong>Value</strong> is stored in <strong>parameter</strong> for later reference.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>SETPARAM(TODAY-DATE OF BIRTH\365,”AGE”) =&gt; [no output; result of the expression put into “AGE”]</td>
</tr>
</tbody>
</table>
<h4 id="var">VAR</h4>
<p><span id="_Toc342980750" class="anchor"></span>Table 65: VA FileMan Functions—Temporary Data Storage Function: VAR</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>VAR(“variable”)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><strong>variable</strong> is a variable in the local symbol table.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the value of <strong>variable</strong>. The <strong>variable</strong> can be one that you set using the SET function.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>VAR(“COUNT”) =&gt; 1 [1 is the current value of COUNT]</p>
<p>VAR(“DUZ”) =&gt; 160</p></td>
</tr>
</tbody>
</table>
<h4 id="set">SET</h4>
<p><span id="_Toc342980751" class="anchor"></span>Table 66: VA FileMan Functions—Temporary Data Storage Function: SET</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>SET(value,“variable”)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>value</strong> is an expression to be evaluated.</p></li>
<li><p><strong>variable</strong> is a local variable name used to hold the value of value.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns <strong>value</strong>’s value. In addition, the value is placed in a local variable. <strong>Variable</strong> should be namespaced to avoid conflict with other local variables. You can use this function only if you have programmer access.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>SET(1,”COUNT”) =&gt; 1 [this would put 1 into the variable COUNT]</td>
</tr>
</tbody>
</table>
<h3 id="m-related-functions">M-Related Functions</h3>
<h4 id="ascii">$A[SCII]</h4>
<p><span id="_Toc342980752" class="anchor"></span>Table 67: VA FileMan Functions—M-Related Function: $A[SCII]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$A(string,<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong> is a string of characters or an expression yielding a string.</p></li>
<li><p><em><strong>n</strong></em> is an integer or expression yielding an integer.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>The function returns the numeric ASCII value of the character in position <em><strong>n</strong></em> within <strong>string</strong>. If <em><strong>n</strong></em> is <em>not</em> specified, the value of the first character is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$A(NAME,4) =&gt; 77 [NAME is SHAM,SAM THE]</p>
<p>$A(“Get the value”) =&gt; 71</p></td>
</tr>
</tbody>
</table>
<h4 id="char">$C[HAR]</h4>
<p><span id="_Toc342980753" class="anchor"></span>Table 68: VA FileMan Functions—M-Related Function: $C[HAR]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$C(<em>n</em>, . . .)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <em><strong>n</strong></em> is an integer or an expression yielding an integer.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the character corresponding to the ASCII value of <em><strong>n</strong></em>. If more than one <em><strong>n</strong></em> is specified in the argument, a string of characters is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$C(100) =&gt; d</p>
<p>$C(99,100,101) =&gt; cde</p></td>
</tr>
</tbody>
</table>
<h4 id="extract">$E[XTRACT]</h4>
<p><span id="_Ref462326565" class="anchor"></span>Table 69: VA FileMan Functions—M-Related Function: $E[XTRACT]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>$E(string,<em>n</em>1,<em>n</em>2)</p>
</blockquote></li>
<li><blockquote>
<p>$E(string,<em>n</em>)</p>
</blockquote></li>
<li><blockquote>
<p>$E(string)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong> is a string expression.</p></li>
<li><p><em><strong>n</strong></em>, <strong><em>n</em>1</strong>, and <strong><em>n</em>2</strong> are positive integers or expressions yielding positive integers.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns a substring from <strong>string</strong>. If you use only <strong>string</strong> as an argument, the first character is returned. If you specify one <em><strong>n</strong></em>, the character in that position in the string is returned. If you specify <strong><em>n</em>1</strong> and <strong><em>n</em>2</strong>, a string starting at <strong><em>n</em>1</strong> and ending at <strong><em>n</em>2</strong> is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$E(NAME,3,7) =&gt; patie [NAME is FMPATIENT,21]</p>
<p>$E(NAME,2) =&gt; m</p>
<p>$E(NAME) =&gt; S</p></td>
</tr>
</tbody>
</table>
<h4 id="find">$F[IND]</h4>
<p><span id="_Toc342980755" class="anchor"></span>Table 70: VA FileMan Functions—M-Related Function: $F[IND]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><p>$F(string,target)</p>
<p>$F(string,target,n)</p></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong>—String expression.</p></li>
<li><p><strong>target</strong>—Characters or an expression yielding the characters to be searched.</p></li>
<li><p><em><strong>n</strong></em> —Positive integer or an expression yielding a positive integer.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns the character position in <strong>string</strong> following the <strong>target</strong>. If <em><strong>n</strong></em> is specified as a third argument, the search for <strong>target</strong> is begun after character position <em><strong>n</strong></em>. If <strong>target</strong> is <em>not</em> found, 0 is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$F(“FMPATIENT,21”,”,”) =&gt; 7</p>
<p>$F(NAME,”,”,7) =&gt; 0 [NAME has value of FMPATIENT,21]</p></td>
</tr>
</tbody>
</table>
<h4 id="horolog">$H[OROLOG]</h4>
<p><span id="_Toc342980756" class="anchor"></span>Table 71: VA FileMan Functions—M-Related Function: $H[OROLOG]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$H</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This system variable returns the date and time in internal M format. The format is number of days since December 31, 1840, followed by a comma followed by the number of seconds since midnight.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$H =&gt; 55032,48780</td>
</tr>
</tbody>
</table>
<h4 id="io">$I[O]</h4>
<p><span id="_Toc342980757" class="anchor"></span>Table 72: VA FileMan Functions—M-Related Function: $I[O]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$I</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This system variable returns the current device. It can return the operating system’s designation of the current device.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$I =&gt; _LTA9239</td>
</tr>
</tbody>
</table>
<h4 id="job">$J[OB]</h4>
<p><span id="_Toc342980758" class="anchor"></span>Table 73: VA FileMan Functions—M-Related Function: $J[OB]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$J</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This system variable returns your current job number.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$J =&gt; 666172581</td>
</tr>
</tbody>
</table>
<h4 id="justify">$J[USTIFY]</h4>
<p><span id="_Toc342980759" class="anchor"></span>Table 74: VA FileMan Functions—M-Related Function: $J[USTIFY]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><p>1. $J(string,<em>n</em>)</p>
<p>2. $J(<em>n</em>1,<em>n</em>2,<em>n</em>3)</p></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ol type="1">
<li><blockquote>
<p>In the first format, <strong>string</strong> is a string expression; <em><strong>n</strong></em> is an integer representing width of field.</p>
</blockquote></li>
</ol>
<ol start="5" type="1">
<li><p>In the second format, <strong><em>n</em>1</strong> is a numeric expression; <strong><em>n</em>2</strong> is an integer representing the width of field; <strong><em>n</em>3</strong> is the number of decimal places to output with the number.</p></li>
</ol></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td><ol type="1">
<li><blockquote>
<p>In the first format, the function returns string right justified within a field that has a width of <em><strong>n</strong></em>. If string is longer than <em><strong>n</strong></em>, there is no truncation.</p>
</blockquote></li>
</ol>
<ol start="6" type="1">
<li><p>In the second format, the function returns <strong><em>n</em>1</strong> right justified in a field that has a width of <strong><em>n</em>2</strong>. There are <strong><em>n</em>3</strong> decimal places to the right of the decimal point.</p></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td><p>$J(NAME,20) =&gt;</p>
<p>FMPATIENT,21</p>
<p>[12 spaces preceding the ‘S’]</p>
<p>“$”_$J(PRESCRIPTION COST,8,2) =&gt;</p>
<p>$ 25.88</p>
<p>[3 spaces preceding the ‘2’]</p></td>
</tr>
</tbody>
</table>
<h4 id="length">$L[ENGTH]</h4>
<p><span id="_Toc342980760" class="anchor"></span>Table 75: VA FileMan Functions—M-Related Function: $L[ENGTH]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>$L(string)</p>
</blockquote></li>
<li><blockquote>
<p>$L(string,delimiter)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong> is a string expression.</p></li>
<li><p><strong>delimiter</strong> is a character (or characters) or an expression yielding a character (or characters) that divides the string into pieces.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td><ol type="1">
<li><blockquote>
<p>In the first format, the function returns the number of characters in <strong>string</strong>.</p>
</blockquote></li>
<li><blockquote>
<p>In the second format, the function returns the number of pieces into which <strong>delimiter</strong> divides the string. If <strong>delimiter</strong> does <em>not</em> exist within <strong>string</strong>, 1 is returned.</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$L(PROVIDER) =&gt; 11 [PROVIDER is FMPROVIDER,5]</p>
<p>$L(PROVIDER,”,”) =&gt; 2 [same PROVIDER]</p></td>
</tr>
</tbody>
</table>
<h4 id="piece">$P[IECE]</h4>
<p><span id="_Toc342980761" class="anchor"></span>Table 76: VA FileMan Functions—M-Related Function: $P[IECE]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td><ol type="1">
<li><blockquote>
<p>$P(string,“delimiter”,<em>n</em>)</p>
</blockquote></li>
<li><blockquote>
<p>$P(string,“delimiter”,<em>n</em>1,<em>n</em>2)</p>
</blockquote></li>
<li><blockquote>
<p>$P(string,“delimiter”)</p>
</blockquote></li>
</ol></td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>string</strong> is a string expression.</p></li>
<li><p><strong>delimiter</strong> is a character (or characters) or an expression yielding a character (or characters) that divides the string into pieces.</p></li>
<li><p><em><strong>n</strong></em>, <em><strong>n1</strong></em>, and <em><strong>n2</strong></em> are positive integers or expressions evaluating to positive integers.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>The function returns a part of <strong>string</strong>. <strong>String</strong> is divided into substrings by delimiter. In the first format, the <em><strong>n</strong></em><sup>th</sup> substring is returned. In the second format, the substrings starting with <em><strong>n</strong></em>1 and ending with <em><strong>n</strong></em>2 are returned. The delimiters between those substrings are also returned. In the third format, the first substring (i.e., the one preceding the first occurrence of delimiter) is returned.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$P(“FMPATIENT,22”,”,”,2) =&gt; 22</p>
<p>$P(PHONE,”-”,2,3) =&gt; 943-2109</p>
<p>$P(PHONE,”-”) =&gt; 510</p></td>
</tr>
</tbody>
</table>
<h4 id="random">$R[ANDOM]</h4>
<p><span id="_Toc342980762" class="anchor"></span>Table 77: VA FileMan Functions—M-Related Function: $R[ANDOM]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$R(<em>n</em>)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>The <em><strong>n</strong></em> is a positive integer or an expression evaluating to a positive integer.</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This function returns a randomly generated integer from the range of 0 through <em><strong>n</strong></em>-1.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$R(5000) =&gt; 1076</td>
</tr>
</tbody>
</table>
<h4 id="select">$S[ELECT]</h4>
<p><span id="_Toc342980763" class="anchor"></span>Table 78: VA FileMan Functions—M-Related Function: $S[ELECT]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$S(test:value,test:value,...)</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td><ul>
<li><p><strong>expression</strong> is an expression that can be evaluated as True or False (<em>not</em> zero or zero).</p></li>
<li><p><strong>value</strong> is any expression that can yield a value.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>Each <strong>value</strong> is associated with the <strong>test</strong> from which it is separated by a colon. The function returns the evaluation of the <strong>value</strong> associated with the first <strong>test</strong> that evaluates as true (i.e., <em>not</em> equal to zero). Any number of <strong>test:value</strong> pairs can be used; however, one of the tests <em>must</em> evaluate as <strong>true</strong>. To assure that one test always evaluates as <strong>true</strong>, the last test is usually the literal 1.</td>
</tr>
<tr class="even">
<td><strong>Examples:</strong></td>
<td><p>$S(“SIX FMPROVIDER, Ph.D.”[“M.D.”:“He is a medical doctor.”,1:“He is not a medical doctor.”) =&gt; He is not a medical doctor.</p>
<p>$S(OCCURRENCES&gt;3:“Chronic Condition”,OCCUR-RENCES&gt;0: “Non Chronic Condition”,1:“No Occurrences Recorded”) =&gt; Chronic Condition [Here the contents of the OCCURRENCES field is being tested. If the first test (&gt;3) is true (as in this example), the result of the second test (&gt;0) is <em>not</em> relevant.]</p></td>
</tr>
</tbody>
</table>
<h4 id="storage">$S[TORAGE]</h4>
<p><span id="_Toc342980764" class="anchor"></span>Table 79: VA FileMan Functions—M-Related Function: $S[TORAGE]</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$S</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This system variable returns the number of bytes of free space available for use. Its meaning varies with the M implementation.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$S =&gt; 52672</td>
</tr>
</tbody>
</table>
<h4 id="x">$X</h4>
<p><span id="_Toc342980765" class="anchor"></span>Table 80: VA FileMan Functions—M-Related Function: $X</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$X</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This system variable returns the current X coordinate (column) location of the cursor or print head. If the application that moved the cursor did <em>not</em> update the value of $X, the value of $X is <em>not</em> reliable.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$X =&gt; 43</td>
</tr>
</tbody>
</table>
<h4 id="y">$Y</h4>
<p><span id="_Toc342980766" class="anchor"></span>Table 81: VA FileMan Functions—M-Related Function: $Y</p>
<table>
<tbody>
<tr class="odd">
<td>Format:</td>
<td>$Y</td>
</tr>
<tr class="even">
<td><strong>Parameters:</strong></td>
<td>(none)</td>
</tr>
<tr class="odd">
<td><strong>Use:</strong></td>
<td>This system variable returns the current Y coordinate (row) location of the cursor. Like $X, its reliability depends on the controlling application.</td>
</tr>
<tr class="even">
<td><strong>Example:</strong></td>
<td>$Y =&gt; 6</td>
</tr>
</tbody>
</table>
<h1 id="statistics">Statistics</h1>
<h2 id="how-to-generate-statistics-from-reports">How to Generate Statistics from Reports</h2>
<p>VA FileMan currently offers three types of statistical processing:</p>
<ul>
<li><p><span class="underline">Descriptive Statistics</span></p></li>
<li><p><span class="underline">Scattergram</span></p></li>
<li><p><span class="underline">Histogram</span></p></li>
</ul>
<p>In each case, to generate statistics from reports, you use a two-step process:</p>
<ol type="1">
<li><blockquote>
<p>Use the Print File Entries or Search File Entries options to generate a VA FileMan report. Do <em>not</em> queue the report. The entries you select in your report are the ones on which statistics are generated; the way you use sort and print qualifiers in the report affects the way statistics are generated, as discussed later in this section.</p>
</blockquote></li>
</ol>
<ol start="20" type="1">
<li><p>Immediately after the report finishes, use the Statistics option on the VA FileMan menu to generate statistics.</p></li>
</ol>
<p>The two-step process for each type of statistical output is described below.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you have statistical software on a personal computer, you might want to consider using VA FileMan’s Export Tool as an alternative to VA FileMan’s statistics options, especially if the statistics options described in this section do <em>not</em> provide the statistical analysis you need. With the Export Tool, you can export your data into a format your personal computer statistical software can read and use all of that software’s capabilities to perform statistical analyses on VA FileMan data.</p>
<h2 id="descriptive-statistics">Descriptive Statistics</h2>
<p>The Descriptive Statistics routine creates a summary report of the numeric information produced by the preceding print. The number of cases is always shown.</p>
<p>To get descriptive statistics for fields printed out in a report, you <em>must</em> associate one of the qualifiers listed in <span class="underline">Table 82</span> with fields in the print:</p>
<p><span id="_Ref389634022" class="anchor"></span>Table 82: Statistics—Descriptive Statistics Qualifiers</p>
<table>
<tbody>
<tr class="odd">
<td>Qualifier</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>#</strong></td>
<td>Count, mean, standard deviation, minimum, and maximum</td>
</tr>
<tr class="odd">
<td><strong>+</strong></td>
<td>Count and mean</td>
</tr>
</tbody>
</table>
<p>To obtain descriptive statistics:</p>
<ol type="1">
<li><blockquote>
<p>Print a report, and use the <strong>#</strong> or <strong>+</strong> print qualifiers on one or more fields.</p>
</blockquote></li>
</ol>
<ol start="21" type="1">
<li><p>Immediately after the report completes, generate the Descriptive Statistics based on the report.</p></li>
</ol>
<h3 id="initial-print">Initial Print</h3>
<p><span id="_Ref343503232" class="anchor"></span>Figure 85: Statistics—Initial print dialogue with descriptive statistics</p>
<p>FIRST PRINT FIELD: <strong>#BUDGET</strong></p>
<p>THEN PRINT FIELD: <strong>#COST</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Heading (S/C): PATIENT STATISTICS// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong> SSH VIRTUAL TERMINAL Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>...SORRY, JUST A MOMENT PLEASE...</p>
<p>.</p>
<p>.</p>
<p>.</p>
<h3 id="generating-the-descriptive-statistics">Generating the Descriptive Statistics</h3>
<p><span id="_Toc342980769" class="anchor"></span>Figure 86: Statistics—Generating the descriptive statistics</p>
<p>Select OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>STATISTICS</strong></p>
<p>Select STATISTICAL ROUTINE: <strong>DES &lt;Enter&gt;</strong> CRIPTIVE STATISTICS</p>
<p>User: FMUSER,TWO 2:51 PM 02/15/96</p>
<p>DESCRIPTIVE STATISTICS</p>
<p>N OF STANDARD</p>
<p>CASES MEAN DEVIATION MINIMUM MAXIMUM</p>
<p>BUDGET 27 45845.1481 25685.8582 2589.0000 95200.0000</p>
<p>COST 27 45914.1111 25796.2936 259.0000 96000.0000</p>
<h2 id="scattergram">Scattergram</h2>
<p>If you subtotal by two fields (i.e., sub-subtotal) in a sort, you can create Scattergrams for fields that were counted with <strong>!</strong>, <strong>+</strong>, or <strong>#</strong> in the corresponding print.</p>
<p>Only numeric values are charted. The Scattergram is scaled to fit your output device’s row and column dimensions. Occurrences of more than nine points in a single print position are marked by an asterisk (“<strong>*</strong>”).</p>
<h3 id="initial-print-1">Initial Print</h3>
<p><span id="_Ref343503242" class="anchor"></span>Figure 87: Statistics—Initial print dialogue for a Scattergram</p>
<p>Select VA FileMan Option: <strong>PRINT &lt;Enter&gt;</strong> File Entries</p>
<p>OUTPUT FROM WHAT FILE: PATIENT// <strong>&lt;Enter&gt;</strong></p>
<p>SORT BY: NAME// <strong>+WARD LOCATION</strong></p>
<p>START WITH WARD LOCATION: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>WITHIN WARD LOCATION, SORT BY: <strong>+ROOM-BED</strong></p>
<p>START WITH ROOM-BED: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>WITHIN ROOM-BED, SORT BY: <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>!WARD LOCATION</strong></p>
<p>THEN PRINT FIELD: <strong>!ROOM-BED</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Heading (S/C): PATIENT STATISTICS// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong> SSH VIRTUAL TERMINAL Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>...SORRY, JUST A MOMENT PLEASE...</p>
<p>.</p>
<p>.</p>
<p>.</p>
<h3 id="generating-the-scattergram">Generating the Scattergram</h3>
<p><span id="_Ref343503257" class="anchor"></span>Figure 88: Statistics—Generating dialogue and sample output of a Scattergram</p>
<p>Select VA FileMan Option: <strong>OTHER &lt;Enter&gt;</strong> Options</p>
<p>Filegrams ...</p>
<p>Audit Menu ...</p>
<p>ScreenMan ...</p>
<p>Statistics</p>
<p>VA FileMan Management ...</p>
<p>Data Export to Foreign Format ...</p>
<p>Extract Data To Fileman File ...</p>
<p>Import Data</p>
<p>Browser</p>
<p>Select Other Options Option: <strong>STAT &lt;Enter&gt;</strong> istics</p>
<p>Select STATISTICAL ROUTINE: <strong>SCATTERGRAM</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> SSH VIRTUAL TERMINAL Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>PATIENT STATISTICS (TOTAL = 47)</p>
<p>0 2 4</p>
<p>+--------------+--------------+--------------+--------------+</p>
<p>12+ * +12</p>
<p>| 2 |</p>
<p>| 3 |</p>
<p>| |</p>
<p>| 2 |</p>
<p>8+ 2 +8</p>
<p>| 2 |</p>
<p>| 3 |</p>
<p>| |</p>
<p>| 3 |</p>
<p>4+ 3 +4</p>
<p>| 2 |</p>
<p>| 2 |</p>
<p>| 5 |</p>
<p>| 3 |</p>
<p>0+ +0</p>
<p>+--------------+--------------+---------------+---------------+</p>
<p>1 3</p>
<p>X-AXIS: WARD LOCATION Y-AXIS: ROOM-BED</p>
<h2 id="histogram">Histogram</h2>
<p>If you subtotal by one or more fields in a sort, you can get Histograms for the fields that are preceded by <strong>#</strong>, <strong>!</strong>, <strong>&amp;</strong>, or <strong>+</strong> qualifiers in the corresponding print. The Histograms that you can produce depend on which print qualifier is used:</p>
<p><span id="_Toc342980772" class="anchor"></span>Table 83: Statistics—Histogram Qualifiers</p>
<table>
<tbody>
<tr class="odd">
<td>Qualifier</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>!</strong></td>
<td>Produces a Count Histogram</td>
</tr>
<tr class="odd">
<td><strong>&amp;</strong></td>
<td>Produces a Sum Histogram</td>
</tr>
<tr class="even">
<td><strong>+</strong></td>
<td>Produces Count, Sum, and Mean Histograms</td>
</tr>
<tr class="odd">
<td><strong>#</strong></td>
<td>Produces Count, Sum, and Mean Histograms</td>
</tr>
</tbody>
</table>
<p><span class="underline">Figure 89</span> is an example of a using a subtotal in a print, and then producing a Count Histogram:</p>
<p><span id="_Ref343503267" class="anchor"></span>Figure 89: Statistics—Initial print dialogue for a Count Histogram</p>
<p>Select VA FileMan Option: <strong>PRINT &lt;Enter&gt;</strong> File Entries</p>
<p>OUTPUT FROM WHAT FILE: PATIENT// <strong>SIGN-ON LOG &lt;Enter&gt;</strong> (159963 entries)</p>
<p>SORT BY: DATE/TIME// <strong>+NODE NAME</strong></p>
<p>START WITH NODE NAME: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>WITHIN NODE NAME, SORT BY: <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>DATE/TIME</strong></p>
<p>THEN PRINT FIELD: <strong>!NODE NAME</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Heading (S/C): SIGN-ON LOG STATISTICS Replace <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong> SSH VIRTUAL TERMINAL Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>...HMMM, JUST A MOMENT PLEASE...</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p><span id="_Toc472602185" class="anchor"></span>Figure 90: Statistics—Generating the Count Histogram diagram</p>
<p>Select VA FileMan Option: <strong>OTHER &lt;Enter&gt;</strong> Options</p>
<p>Filegrams ...</p>
<p>Audit Menu ...</p>
<p>ScreenMan ...</p>
<p>Statistics</p>
<p>VA FileMan Management ...</p>
<p>Data Export to Foreign Format ...</p>
<p>Extract Data To Fileman File ...</p>
<p>Import Data</p>
<p>Browser</p>
<p>Select Other Options Option: <strong>STAT &lt;Enter&gt;</strong> istics</p>
<p>Select STATISTICAL ROUTINE: <strong>HISTOGRAM</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> SSH VIRTUAL TERMINAL Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>COUNT, NODE NAME, BY NODE NAME</p>
<p>XXXYY1 |*************</p>
<p>XXXYY2 |******************</p>
<p>XXXYY3 |***************************************</p>
<p>XXXYY4 |****************************</p>
<p>+------+------+------+------+------+------+------+------+-</p>
<p>8 16 24 31 39 47 55 63</p>
<h1 id="system-management">System Management</h1>
<p>VA FileMan is designed to be used either with Kernel or as a standalone application running under a variety of implementations of ANSI standard M. If VA FileMan is used without Kernel, the basic DBMS features of VA FileMan all work as described in the manuals. However, there are some features (e.g., bulletin-type cross-references, print queuing, and filegrams) that do <em>not</em> work without portions of Kernel. Whenever Kernel is needed to support a particular VA FileMan feature, that fact is mentioned in the manuals.</p>
<p>The installation of VA FileMan 22.0 is <em>not</em> integrated with the installation of Kernel. The <em>VA FileMan Installation Guide</em> contains instructions on how to install VA FileMan, both for standalone sites and for sites running Kernel.</p>
<h2 id="setup">Setup</h2>
<h3 id="initialization">Initialization</h3>
<p>VA FileMan 22.2 is installed and initialized with a Kernel Installation and Distribution System (KIDS) build. That build installs all the VA FileMan routines, updates all VA FileMan files, populates those files with necessary data, and installs other necessary VA FileMan components (e.g., Kernel Options). In the past, the VA FileMan DINIT routine was run to initialize the VA FileMan files. Now, DINIT is run automatically from the KIDS install. It should not be run independently after the install.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on installing VA FileMan 22.2, see the <em>VA FileMan 22.2 Installation Guide</em>.</p>
<h3 id="security">Security</h3>
<p>VA FileMan provides tools for application packages to protect their data. VA FileMan identifies users by a number in the local variable DUZ and user security by codes stored in the local variable DUZ(0).</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a description of the use and setup of file, field, and template security, see the “<span class="underline">Data Security</span>” section.</p>
<h2 id="standalone-va-fileman"><br />
Standalone VA FileMan</h2>
<h3 id="device-handling-for-standalone-va-fileman">Device Handling for Standalone VA FileMan</h3>
<p>VA FileMan requires a %ZIS routine. Kernel supplies a %ZIS as the device selection gateway to its device handler component. In addition to writing your own device selection routine and saving it as %ZIS, standalone users have two possibilities:</p>
<ol type="1">
<li><blockquote>
<p>You can have a device selection routine supplied by your M vendor. You can use the M vendor’s routine provided that it returns the variables expected by VA FileMan from such a device selection program. These variables are listed below. In this case, you simply create a %ZIS routine that calls the vendor-supplied routine.<br />
<br />
However, even if you use a vendor’s (or your own) routine for device selection, you <em>must</em> have %ZISS, as described below, if you want to use VA FileMan’s screen-oriented utilities.</p>
</blockquote></li>
</ol>
<ol start="22" type="1">
<li><p>If you do <em>not</em> have another device selection routine, refile the DIIS and DIISS routines as described in the <em>VA FileMan Installation Guide</em>. This results in all VA FileMan output going to the terminal that requests it. If you do <em>not</em> modify the %ZIS and %ZISS routines as described below, your terminal is treated as a VT100 (ANSI) terminal.</p></li>
</ol>
<p>VA FileMan controls terminals by using terminal characteristics stored in IO variables. In addition, certain operating system dependent actions are controlled by executing code stored in %ZOSF nodes. Together the IO variables and %ZOSF nodes allow full use of VA FileMan in both scrolling and screen-oriented modes. The instructions below describe how to modify the %ZIS and %ZISS routines in order to set the necessary IO variables, and how to set the necessary %ZOSF nodes.</p>
<h4 id="setting-io-variables-zis-and-ziss">Setting IO variables: %ZIS and %ZISS</h4>
<p>%ZIS sets the IO variables required for terminal output that is <em>not</em> screen-oriented. The DIIS routine supplied with VA FileMan sets the IO variables to the values specific to the VT100 terminal type. If you are using or emulating a VT100 terminal, you can rename the DIIS routine unmodified as %ZIS. If you are using or emulating a VT220 or VT320 terminal, you <em>must</em> modify %ZIS to set IOST equal to “C-VT220” or “C-VT320”.</p>
<p><span class="underline">Table 84</span> lists the variables returned by %ZIS:</p>
<p><span id="_Ref388450930" class="anchor"></span>Table 84: System Management—%ZIS variables returned</p>
<table>
<tbody>
<tr class="odd">
<td>Variable</td>
<td>Description</td>
</tr>
<tr class="even">
<td>IO</td>
<td>The device $I. If IO is null (““), no input or output occurs.</td>
</tr>
<tr class="odd">
<td>IOM</td>
<td>The margin width (e.g., 80).</td>
</tr>
<tr class="even">
<td>ION</td>
<td>The device name, consisting of 1 to 30 alphanumeric characters.</td>
</tr>
<tr class="odd">
<td>IOSL</td>
<td>The screen length (e.g., 24).</td>
</tr>
<tr class="even">
<td>IOF</td>
<td>The indirect argument of a WRITE statement to generate a top-of-page (e.g., <strong>#</strong>).</td>
</tr>
<tr class="odd">
<td>IOST</td>
<td>The output device type (e.g., CRT). If IOST begins with the letter <strong>C</strong>, the Inquire, Search, and Print output programs wait until the user presses the <strong>Enter</strong> key after each screen’s worth of display. If IOST begins with a <strong>P</strong>, output terminates with a page feed. If IOST contains SINGLE, output stops after each page feed and waits for the <strong>Enter</strong> key to be pressed (<strong>&lt;Enter&gt;</strong>). If the output terminal is other than the terminal requesting the output, and IOST does <em>not</em> contain <strong>K</strong>, the <strong>&lt;Enter&gt;</strong> is read from the requesting terminal.</td>
</tr>
<tr class="even">
<td>IOPAR</td>
<td>The parameter that should follow the first colon in the argument of the <strong>OPEN</strong> command. For most devices, this string should be null.</td>
</tr>
<tr class="odd">
<td>IOT</td>
<td>Equal to a string naming the device type (e.g., IOT=TRM). This variable <em>must</em> be returned equal to the string SDP in order for VA FileMan’s multiple-copies feature to be called.</td>
</tr>
<tr class="even">
<td>IOXY</td>
<td>The executable M code that performs cursor positioning given the input variables <strong>DX</strong> and <strong>DY</strong>. <strong>DX</strong> and <strong>DY</strong> contain the column and row positions, respectively, to which to move the cursor.</td>
</tr>
</tbody>
</table>
<p>The %ZISS routine sets the IO variables required by VA FileMan’s screen-oriented utilities. The DIISS routine supplied by VA FileMan sets the IO variables according to the value of IOST. DIISS recognizes IOST values of C-VT220 and C-VT320. If IOST equals anything else, the IO variables are set to values specific to the VT100 terminal type.</p>
<p>Not all of the variables returned by %ZISS are required by VA FileMan’s screen-oriented utilities.</p>
<p><span class="underline">Table 85</span> lists the variables returned by %ZISS:</p>
<p><span id="_Ref447500505" class="anchor"></span>Table 85: System Management—%ZISS variables returned</p>
<table>
<tbody>
<tr class="odd">
<td>Variable</td>
<td>Description</td>
</tr>
<tr class="even">
<td>IOAWM0</td>
<td>Auto wrap mode off</td>
</tr>
<tr class="odd">
<td>IOAWM1</td>
<td>Auto wrap mode on</td>
</tr>
<tr class="even">
<td>IOCOMMA</td>
<td>Keypad’s comma key</td>
</tr>
<tr class="odd">
<td>IOCUB</td>
<td>Cursor backward</td>
</tr>
<tr class="even">
<td>IOCUD</td>
<td>Cursor down</td>
</tr>
<tr class="odd">
<td>IOCUF</td>
<td>Cursor forward</td>
</tr>
<tr class="even">
<td>IOCUU</td>
<td>Cursor up</td>
</tr>
<tr class="odd">
<td>IODCH</td>
<td>Delete character</td>
</tr>
<tr class="even">
<td>IODL</td>
<td>Delete line</td>
</tr>
<tr class="odd">
<td>IODO</td>
<td>Do key</td>
</tr>
<tr class="even">
<td>IOEDALL</td>
<td>Erase in display entire page</td>
</tr>
<tr class="odd">
<td>IOEDEOP</td>
<td>Erase in display from cursor to end of page</td>
</tr>
<tr class="even">
<td>IOELALL</td>
<td>Erase in line entire line</td>
</tr>
<tr class="odd">
<td>IOELEOL</td>
<td>Erase in line from cursor to end of line</td>
</tr>
<tr class="even">
<td>IOENTER</td>
<td>Keypad’s enter key</td>
</tr>
<tr class="odd">
<td>IOFIND</td>
<td>Find key</td>
</tr>
<tr class="even">
<td>IOHELP</td>
<td>Help key</td>
</tr>
<tr class="odd">
<td>IOICH</td>
<td>Insert character</td>
</tr>
<tr class="even">
<td>IOIL</td>
<td>Insert line</td>
</tr>
<tr class="odd">
<td>IOINHI</td>
<td>High intensity</td>
</tr>
<tr class="even">
<td>IOINLOW</td>
<td>Low intensity</td>
</tr>
<tr class="odd">
<td>IOINORM</td>
<td>Normal intensity</td>
</tr>
<tr class="even">
<td>IOINSERT</td>
<td>Insert key</td>
</tr>
<tr class="odd">
<td>IOIRM0</td>
<td>Replace mode</td>
</tr>
<tr class="even">
<td>IOIRM1</td>
<td>Insert mode</td>
</tr>
<tr class="odd">
<td>IOKP0</td>
<td>Keypad 0 key</td>
</tr>
<tr class="even">
<td>IOKP1</td>
<td>Keypad 1 key</td>
</tr>
<tr class="odd">
<td>IOKP2</td>
<td>Keypad 2 key</td>
</tr>
<tr class="even">
<td>IOKP3</td>
<td>Keypad 3 key</td>
</tr>
<tr class="odd">
<td>IOKP4</td>
<td>Keypad 4 key</td>
</tr>
<tr class="even">
<td>IOKP5</td>
<td>Keypad 5 key</td>
</tr>
<tr class="odd">
<td>IOKP6</td>
<td>Keypad 6 key</td>
</tr>
<tr class="even">
<td>IOKP7</td>
<td>Keypad 7 key</td>
</tr>
<tr class="odd">
<td>IOKP8</td>
<td>Keypad 8 key</td>
</tr>
<tr class="even">
<td>IOKP9</td>
<td>Keypad 9 key</td>
</tr>
<tr class="odd">
<td>IOKPAM</td>
<td>Keypad application mode on</td>
</tr>
<tr class="even">
<td>IOKPNM</td>
<td>Keypad numeric mode on</td>
</tr>
<tr class="odd">
<td>IOMINUS</td>
<td>Keypad’s minus key</td>
</tr>
<tr class="even">
<td>IONEXTSC</td>
<td>Next screen key</td>
</tr>
<tr class="odd">
<td>IOPERIOD</td>
<td>Keypad’s period key</td>
</tr>
<tr class="even">
<td>IOPF1</td>
<td>Function key 1</td>
</tr>
<tr class="odd">
<td>IOPF2</td>
<td>Function key 2</td>
</tr>
<tr class="even">
<td>IOPF3</td>
<td>Function key 3</td>
</tr>
<tr class="odd">
<td>IOPF4</td>
<td>Function key 4</td>
</tr>
<tr class="even">
<td>IOPREVSC</td>
<td>Previous screen key</td>
</tr>
<tr class="odd">
<td>IOREMOVE</td>
<td>Keypad’s remove key</td>
</tr>
<tr class="even">
<td>IORI</td>
<td>Reverse index</td>
</tr>
<tr class="odd">
<td>IORVOFF</td>
<td>Reverse video off</td>
</tr>
<tr class="even">
<td>IORVON</td>
<td>Reverse video on</td>
</tr>
<tr class="odd">
<td>IOSGR0</td>
<td>Turn off select graphic rendition attributes</td>
</tr>
<tr class="even">
<td>IOSELECT</td>
<td>Select key</td>
</tr>
<tr class="odd">
<td>IOSTBM</td>
<td>Set top and bottom margins</td>
</tr>
<tr class="even">
<td>IOUOFF</td>
<td>Underline off</td>
</tr>
<tr class="odd">
<td>IOUON</td>
<td>Underline on</td>
</tr>
<tr class="even">
<td>IOBLC</td>
<td>Bottom left corner</td>
</tr>
<tr class="odd">
<td>IOBRC</td>
<td>Bottom right corner</td>
</tr>
<tr class="even">
<td>IOBT</td>
<td>Bottom “T”</td>
</tr>
<tr class="odd">
<td>IOG0</td>
<td>Graphics off</td>
</tr>
<tr class="even">
<td>IOG1</td>
<td>Graphics on</td>
</tr>
<tr class="odd">
<td>IOHL</td>
<td>Horizontal line</td>
</tr>
<tr class="even">
<td>IOLT</td>
<td>Left “T”</td>
</tr>
<tr class="odd">
<td>IOMT</td>
<td>Middle “T”, or cross hair (+)</td>
</tr>
<tr class="even">
<td>IORT</td>
<td>Right “T”</td>
</tr>
<tr class="odd">
<td>IOTLC</td>
<td>Top left corner</td>
</tr>
<tr class="even">
<td>IOTRC</td>
<td>Top right corner</td>
</tr>
<tr class="odd">
<td>IOTT</td>
<td>Top “T”</td>
</tr>
<tr class="even">
<td>IOVL</td>
<td>Vertical line</td>
</tr>
</tbody>
</table>
<p>After you save DIISS as %ZISS, you can modify %ZISS to use ScreenMan on terminal types other than those supported in DIISS. The routine DIISS itself contains more information on how to modify the routine.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE: IO variables and DataTree MUMPS:</strong> If your version of DataTree MUMPS supports VT220 emulation, set up %ZIS and %ZISS for VT220 and use the emulation.</p>
<h4 id="summary-of-io-setups">Summary of IO Setups</h4>
<p>Depending on your terminal type, you need to take the appropriate action listed in <span class="underline">Table 86</span> to make full use of VA FileMan’s screen-oriented utilities.</p>
<p><span id="_Ref389634139" class="anchor"></span>Table 86: System Management—Optimal procedures for screen-oriented utilities: Based on terminal type</p>
<table>
<tbody>
<tr class="odd">
<td>Terminal Type</td>
<td>Description</td>
</tr>
<tr class="even">
<td>VT100</td>
<td>No action needed; the default settings are acceptable.</td>
</tr>
<tr class="odd">
<td>VT220, VT320</td>
<td>Edit the %ZIS routine to set IOST variable to “C-VT220” or “C-VT320”.</td>
</tr>
<tr class="even">
<td>Other terminal types</td>
<td>Edit %ZIS to set IOST to “C-WHATEVER” and IOXY to the code to position the cursor for that terminal. Modify %ZISS routine to set all the IO variables for your terminal type. The routine contains instructions for a simple modification strategy.</td>
</tr>
</tbody>
</table>
<h3 id="new-person-file-for-standalone-va-fileman">NEW PERSON File for Standalone VA FileMan</h3>
<p>In general, the files you need to run VA FileMan without Kernel are installed by the DINIT routines. However, one file that is referenced by VA FileMan is <em>not</em> included (i.e., NEW PERSON file [#200]). Kernel supplies the NEW PERSON file (#200).</p>
<p>This section describes the fields in the NEW PERSON file (#200) directly accessed by VA FileMan; this is a small subset of the fields in Kernel’s NEW PERSON file (#200). The fields described contain characteristics of the VA FileMan users. If you set up a file in the proper global location with these fields, you enhance standalone VA FileMan’s functionality. However, the NEW PERSON file (#200) is <em>not</em> required to run standalone VA FileMan.</p>
<p>The NEW PERSON file (#200) needs to be established with a global root of ^VA(200,. Use the information in <span class="underline"></span>Table 87 when creating the file using the Modify File Attributes option.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a description of USER() function, see the “<span class="underline">USER</span>” section.</p>
<p>The fields directly accessed are shown in <span class="underline">Table 87</span>:</p>
<p><span id="_Ref447502813" class="anchor"></span>Table 87: System Management—NEW PERSON file (#200) fields that enhance standalone VA FileMan</p>
<table>
<tbody>
<tr class="odd">
<td>Field Name</td>
<td>Field #</td>
<td>Node;Piece</td>
<td>Description</td>
</tr>
<tr class="even">
<td>NAME</td>
<td>.01</td>
<td>0;1</td>
<td>Identifies the user. It is pointed to and displayed in several places. A FREE TEXT field holding from 3 to 30 characters.</td>
</tr>
<tr class="odd">
<td>INITIAL</td>
<td>1</td>
<td>0;2</td>
<td>Used by the USER() function. A FREE TEXT field holding from 2 to 5 characters.</td>
</tr>
<tr class="even">
<td>TITLE</td>
<td>8</td>
<td>0;9</td>
<td>Used by the USER() function. A POINTER TO A FILE field that points to the TITLE file (#3.1) located at ^DIC(3.1,. You need to define this file to use USER(“T”).</td>
</tr>
<tr class="odd">
<td>NICK NAME</td>
<td>13</td>
<td>.1;4</td>
<td>Used by the USER() function. A FREE TEXT field holding from 1 to 10 characters.</td>
</tr>
<tr class="even">
<td>FILE RANGE</td>
<td>31.1</td>
<td>1;1</td>
<td>Used to assign numbers to newly created files. A FREE TEXT field with the format <em>nnnnn</em>-<em>nnnnn</em>.</td>
</tr>
<tr class="odd">
<td>TEXT TERMINATOR</td>
<td>31.2</td>
<td>1;4</td>
<td>Holds the default text terminator used by the Line Editor. A FREE TEXT field holding from 1 to 5 characters.</td>
</tr>
<tr class="even">
<td>PREFERRED EDITOR</td>
<td>31.3</td>
<td>1;5</td>
<td>Holds the user’s Preferred Editor. A POINTER TO A FILE field that points to the ALTERNATE EDITOR file (#1.2).</td>
</tr>
<tr class="odd">
<td>TYPE AHEAD</td>
<td>200.09</td>
<td>200;9</td>
<td><p>Used to determine if “type ahead” is allowed for the user. A SET OF CODES field:</p>
<ul>
<li><p>“<strong>Y</strong>” = Allowed</p></li>
<li><p>“<strong>N</strong>” = <em>Not</em> allowed. Default is “<strong>N</strong>”</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>In addition to these fields accessed directly by VA FileMan, Kernel uses the NEW PERSON file (#200) to set up VA FileMan key variables. You can define additional NEW PERSON file (#200) fields to use to define these local variables as shown in <span class="underline">Table 88</span>:</p>
<p><span id="_Ref462324079" class="anchor"></span>Table 88: System Management—NEW PERSON file (#200) fields to define key variables in VA FileMan</p>
<table>
<tbody>
<tr class="odd">
<td>Field Name</td>
<td>Field #</td>
<td>Node;Piece</td>
<td>Description</td>
</tr>
<tr class="even">
<td>Internal Entry Number</td>
<td>—</td>
<td>—</td>
<td>Used to set DUZ for the user. There is no defined .001 field on the NEW PERSON file (#200).</td>
</tr>
<tr class="odd">
<td>FILE MANAGER ACCESS CODE</td>
<td>3</td>
<td>0;4</td>
<td>Used to set DUZ(0) for user. A FREE TEXT field from 1 to 15 characters.</td>
</tr>
<tr class="even">
<td>LANGUAGE</td>
<td>200.07</td>
<td>200;7</td>
<td>Used to set DUZ(“LANG”). A POINTER TO A FILE field that points to the LANGUAGE file (#.85) identifying the user’s language.</td>
</tr>
<tr class="odd">
<td>TIMED READ (# OF SECONDS)</td>
<td>200.1</td>
<td>200;10</td>
<td>Used to set DTIME for the user. A NUMERIC field with a value of 1 to 99999.</td>
</tr>
</tbody>
</table>
<p>When these additional fields are defined, you can use them in a signon routine to set these key variables.</p>
<p>Of course, you can choose to place additional information about the users in the NEW PERSON file (#200). If you add other fields to the NEW PERSON file (#200), use field numbers greater than 10,000 and use subfile numbers with at least 5 digits following the decimal place. Also, place the fields in global nodes subscripted with numbers greater than 10,000. If you numberspace your data elements in this way, you can avoid conflicts, if you later install Kernel’s NEW PERSON file (#200).</p>
<h2 id="zosf-nodes">^%ZOSF Nodes</h2>
<h3 id="manually-setting-zosf-nodes">Manually Setting ^%ZOSF Nodes</h3>
<p>VA FileMan’s screen-oriented utilities execute M operating system-specific code contained in ^%ZOSF nodes. Running the DINZMGR routine in the Manager Account, as explained in the <em>VA FileMan Installation Guide</em>, sets the necessary nodes. However, DINZMGR can only set the nodes for some operating systems. If you want to use the screen-oriented features but your operating system is <em>not</em> supported by DINZMGR, you <em>must</em> set the nodes yourself.</p>
<p>The ^%ZOSF nodes and their meanings are listed in <span class="underline">Table 89</span>. Remember that the values stored in these nodes <em>must</em> be M code that, when executed, perform the indicated function. For example, X ^%ZOSF(“EOFF”) would need to turn off the echo to the current device.</p>
<p><span id="_Ref389662098" class="anchor"></span>Table 89: System Management—Description of the ^%ZOSF nodes</p>
<table>
<tbody>
<tr class="odd">
<td>^%ZOSF Node</td>
<td>Description</td>
</tr>
<tr class="even">
<td>EOFF</td>
<td>Turns off echo to the $I device.</td>
</tr>
<tr class="odd">
<td>EON</td>
<td>Turns on echo to the $I device.</td>
</tr>
<tr class="even">
<td>NO-TYPE-AHEAD</td>
<td>Turns off type-ahead for the $I device.</td>
</tr>
<tr class="odd">
<td>RM</td>
<td>Sets the $I width to X characters.</td>
</tr>
<tr class="even">
<td>TRMOFF</td>
<td>Resets terminators to normal.</td>
</tr>
<tr class="odd">
<td>TRMON</td>
<td>Turns on all control characters as terminators.</td>
</tr>
<tr class="even">
<td>TRMRD</td>
<td>Returns in Y what terminated the last read.</td>
</tr>
<tr class="odd">
<td>TYPE-AHEAD</td>
<td>Allows type-ahead for the $I device.</td>
</tr>
<tr class="even">
<td>XY</td>
<td>Sets $X=DX and $Y=DY.</td>
</tr>
</tbody>
</table>
<h2 id="alternate-editors">Alternate Editors</h2>
<h3 id="setting-up-alternate-editors">Setting Up Alternate Editors</h3>
<p>VA FileMan supplies two editors:</p>
<ul>
<li><p>Line Editor</p></li>
<li><p>Screen Editors</p></li>
</ul>
<p>These editors are used for entering and changing text in WORD-PROCESSING-type fields. Other editors can be made available by using the ALTERNATE EDITOR file (#1.2). Entries in this file specify the M code used to call the Alternate Editor and to restore the VA FileMan environment after work in the editor is complete.</p>
<p>The user can choose an editor in two ways:</p>
<ol type="1">
<li><blockquote>
<p>The PREFERRED EDITOR field in the NEW PERSON file (#200) is a pointer to the ALTERNATE EDITOR file (#1.2). Any entry in the ALTERNATE EDITOR file (#1.2) can be selected as a Preferred Editor. Then, whenever a WORD-PROCESSING-type field is presented for editing, the user is automatically switched into this Preferred Editor.</p>
</blockquote></li>
</ol>
<ol start="23" type="1">
<li><p>From the Line Editor, the user can switch to any of the editors in the ALTERNATE EDITOR file (#1.2) temporarily by using the Editor Change option on the UTILITIES submenu. After exiting the chosen editor, the user is returned to the Line Editor.</p></li>
</ol>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For additional information about selecting editors, see the “Choice of Word-processing Editors” section in the <em>VA FileMan User Manual</em>.</p>
<h4 id="alternate-editor-file-entries">ALTERNATE EDITOR File Entries</h4>
<p>The requirements of the ALTERNATE EDITOR file’s (#1.2) fields are explained in <span class="underline">Figure 91</span> of the creation of an entry in that file:</p>
<p><span id="_Ref389631133" class="anchor"></span>Figure 91: System Management—Example of creating an ALTERNATE EDITOR file entry</p>
<p>Select OPTION: <strong>ENTER &lt;Enter&gt;</strong> OR EDIT FILE ENTRIES</p>
<p>INPUT TO WHAT FILE: <strong>ALTERNATE EDITOR &lt;Enter&gt;</strong> (2 entries)</p>
<p>EDIT WHICH FIELD: ALL// <strong>&lt;Enter&gt;</strong></p>
<p>Select ALTERNATE EDITOR: <strong>VMSEDT</strong></p>
<p>Are you adding ‘VMSEDT’ as a new ALTERNATE EDITOR (the 3RD)? No// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<p>An entry needs to be added to the ALTERNATE EDITOR file (#1.2). The NAME of every entry <em>must</em> begin with a unique character. This name is used to select the editor.</p>
<p>The required ACTIVATION CODE FROM DIWE field contains M code that invokes the Alternate Editor. In this case, a routine supplied by Kernel that invokes the VMS editor is called:</p>
<p>ACTIVATION CODE FROM DIWE: <strong>G ^XTEDTVXD</strong></p>
<p>Usually, this code needs to:</p>
<ol type="1">
<li><blockquote>
<p>Extract the word-processing data from the WORD-PROCESSING-type field.</p>
</blockquote></li>
</ol>
<ol start="24" type="1">
<li><p>Present it to the Alternate Editor.</p></li>
<li><p>Return the edited text to the WORD-PROCESSING-type field.</p></li>
</ol>
<p>DBS calls should be used to retrieve and file the text.</p>
<p>For example, if the text to be edited were in Field #56 in File #1234 use the following Data Retriever call to extract the text for entry 789:</p>
<p>S MYFDA=“^TMP(““MYDATA”“,$J)” D GETS^DIQ(1234,”789,”,56,”“,MYFDA)</p>
<p>The text returns in nodes descendent from ^TMP(“MYDATA”,$J,1234, “789,”,56).</p>
<p>After editing is complete, you can file the data from the same global array by using the following commands:</p>
<p>S MYFDA=“^TMP(““MYDATA”“)” D FILE^DIE(““,”MYFDA”)</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more details of the use of these calls, see the descriptions of the Data Retriever, Filer, and Word-processing Filer in the “Database Server (DBS) API” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<p>This task of returning the data to the WORD-PROCESSING-type field can also be accomplished by code in the RETURN TO CALLING EDITOR field (see below).</p>
<p>If the editor uses any local M variables beginning with “<strong>D</strong>”, they should be NEWed to avoid problems upon return to VA FileMan. Also, avoid calls to VA FileMan utilities in the fields that accept M code so that variables upon which VA FileMan depends (e.g., <strong>DA</strong> and <strong>D0</strong>) are <em>not</em> changed.</p>
<p>The OK TO RUN TEST field contains code that checks to determine whether it is OK to run the editor:</p>
<p>OK TO RUN TEST: I ^%ZOSF(“OS”)[“VAX”&amp;(DUZ(0)[“@”)</p>
<p>This field is optional; if nothing is entered, there are no restrictions on the use of the editor. The code should set <strong>$T</strong> to <strong>true</strong> if it is OK to proceed or to <strong>false</strong> if it is <em>not</em>. If the code returns <strong>$T=false</strong>, the user automatically returns to the Line Editor. In this example, the environment is being checked to ensure that the called editor is available and it is verified that the user has the required VA FileMan Access Code.</p>
<p>M code entered into the optional RETURN TO CALLING EDITOR field can be used to restore the environment needed by the Line Editor:</p>
<p>RETURN TO CALLING EDITOR: <strong>&lt;Enter&gt;</strong></p>
<p>Since the user can switch editors at will, it is safest to restore the text to its previous location in the global and to maintain the local symbol table, as mentioned above. If these tasks are accomplished by code in the ACTIVATION CODE FROM DIWE field or by the called routine, this field is unnecessary.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The edited text <em>must</em> be restored; VA FileMan does <em>not</em> move text back to the proper global location.</p>
<p><span id="_Toc342980781" class="anchor"></span>Figure 92: System Management—Example where the User is prompted to choose an Alternate Editor</p>
<p>DESCRIPTION:</p>
<p>1&gt;The VMS editor.</p>
<p>2&gt; <strong>&lt;Enter&gt;</strong></p>
<p>EDIT Option: <strong>&lt;Enter&gt;</strong></p>
<p>Select ALTERNATE EDITOR:</p>
<p>The definition of the Alternate Editor is complete. An editor’s developer should provide information needed to set up an ALTERNATE EDITOR file (#1.2) entry. The local site manager has flexibility in setting up the editor. In particular, the OK TO RUN TEST field can be used to enforce local policies regarding access to editors.</p>
<h2 id="compiled-routine-file">COMPILED ROUTINE File</h2>
<h3 id="compiled-routine-file-cleanup-enrlsdioz">COMPILED ROUTINE File Cleanup: ENRLS^DIOZ( )</h3>
<p>The COMPILED ROUTINE file (#.83) stores a list of numbers used to assign names to compiled sort routines. When a compiled SORT template is used in a print, the next available routine number is selected from the COMPILED ROUTINE file (#.83). The routine name is then set to ^DISZ, concatenated with up to three zeroes and the number from the COMPILED ROUTINE file (#.83) (e.g., if the number is four, the routine name becomes ^DISZ0004). After the print finishes, the routine number is released, and the routine is deleted. However, if the system goes down, the number may <em>not</em> be released. This procedure allows the site manager to release one or all numbers on the COMPILED ROUTINE file (#.83) for reuse and to delete the associated routines from the system.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This procedure should <em>never</em> be included in application code. It should only be run from the M programmer prompt. The routine should be run only when the system is inactive to avoid inadvertently deleting a routine that is in use.</p>
<h2 id="compare-data-and-data-dictionaries-cross-environments">Compare Data and Data Dictionaries cross Environments</h2>
<h3 id="compare-data-dictionaries">Compare Data Dictionaries</h3>
<p>A Transfer menu option, Namespace compare includes the ability to compare the data dictionaries across Namespaces/UCIs located on the same servers to help with version control. The routine allows you to get a list of Namespaces that may be accessed and the option to pick the file’s data dictionary that you wish to compare.</p>
<p><span id="_Ref462323961" class="anchor"></span>Figure 93: System Management—Example where the User selects to Compare Data Dictionaries</p>
<p>VA FileMan Version 22.2</p>
<p>Enter or Edit File Entries</p>
<p>Print File Entries</p>
<p>Search File Entries</p>
<p>Modify File Attributes</p>
<p>Inquire to File Entries</p>
<p>Utility Functions ...</p>
<p>Data Dictionary Utilities ...</p>
<p>Transfer Entries</p>
<p>Other Options ...</p>
<p>Select VA FileMan &lt;TEST ACCOUNT&gt; Option: <strong>Transfer Entries</strong></p>
<p>Select TRANSFER OPTION: <strong>3 &lt;Enter&gt;</strong> NAMESPACE COMPARE</p>
<p>UCI: FMVAMC,FMVAMC</p>
<p>START WITH What File: OPTION// <strong>200 &lt;Enter&gt;</strong> NEW PERSON (52 entries)</p>
<p>GO TO What File: NEW PERSON// <strong>&lt;Enter&gt;</strong> (52 entries)</p>
<p>Compare to what UCI: EHR// <strong>?</strong></p>
<p>CHOOSE FROM:</p>
<p>%CACHELIB</p>
<p>%SYS</p>
<p>DOCBOOK</p>
<p>EHR</p>
<p>FM220</p>
<p>FM222E</p>
<p>FMOLD</p>
<p>SAMPLES</p>
<p>USER</p>
<p>Compare to what UCI: EHR// <strong>&lt;Enter&gt;</strong></p>
<p>Select one of the following:</p>
<p>1 DATA DICTIONARY ONLY</p>
<p>2 FILE ENTRIES ONLY</p>
<p>3 DATA DICTIONARY AND FILE ENTRIES</p>
<p>Enter response: 3// <strong>1 &lt;Enter&gt;</strong> DATA DICTIONARY ONLY</p>
<p>DISPLAY COMPARISON ON</p>
<p>DEVICE: HOME// <strong>0;p-other;80;99999</strong></p>
<p>MAR 24, 2016 PLA.ISC-WASH.DOMAIN.EXT</p>
<p>UCI: FMVAMC,FMVAMC UCI: EHR</p>
<p>--------------------------------------------------------------------------------</p>
<p>DATA DICTIONARY #200 (NEW PERSON)</p>
<p>FIELD: EMAIL ADDRESS (#.151)</p>
<p>DESCRIPTION...</p>
<p>FIELD: PREFERRED LANGUAGE</p>
<p>FIELD: LANGUAGE SKILLS</p>
<p>FIELD: C0P SUBSCRIPTION</p>
<p>INDEX: AC0PSID^REGULAR WHOLE FILE INDE</p>
<p>X FOR THE ERX SUBSCIBER ID</p>
<p>INDEX: C0P^Regular whole file cross re</p>
<p>ference of the Subscription subfile</p>
<p>INDEX: C0PNPI^Regular index on NPI for</p>
<p>eRx</p>
<p>INDEX: ADEG^Update the DEGREE field in the Name Components file.</p>
<p>INDEX: ANAME^Update the corresponding entry in the Name Components file.</p>
<h3 id="compare-file-entries">Compare File Entries</h3>
<p>A Transfer menu option, Namespace compare includes the ability to compare the entries across Namespaces located on the same servers to help with version control. The option can display the Namespace/UCIs that are available for comparing file entries. Also you can select option #3 that will compare both the Data Dictionary and the entries of a file across Namespace/UCIs.</p>
<p><span id="_Ref462323970" class="anchor"></span>Figure 94: System Management—Example Namespace Compare File Entries</p>
<p>1 DATA DICTIONARY ONLY</p>
<p>2 FILE ENTRIES ONLY</p>
<p>3 DATA DICTIONARY AND FILE ENTRIES</p>
<p>Enter response: 3// <strong>2 &lt;Enter&gt;</strong> FILE ENTRIES ONLY</p>
<p>DISPLAY COMPARISON ON</p>
<p>DEVICE: HOME// <strong>0;p-other;80;99999</strong></p>
<p>MAR 26 2016 PLA.ISC-WASH.DOMAIN.EXT</p>
<p>UCI: FMVAMC,FMVAMC UCI: EHR</p>
<p>---------------------------------------------------------------------</p>
<p>DATE ENTERED: JAN 14,2015 DATE ENTERED: SEP 24,2003</p>
<p>CREATOR: FMUSER,ONE CREATOR: FMUSER,ONE</p>
<p>TIMESTAMP: 62347,45796 TIMESTAMP: 63263,24079</p>
<p>NEW PERSON: CENTRAL,PAID</p>
<p>DATE ENTERED: JAN 14,2015 DATE ENTERED: OCT 23,2003</p>
<p>CREATOR: FMUSER,ONE CREATOR: FMUSER,ONE</p>
<p>TIMESTAMP: 62347,45796 TIMESTAMP: 63263,24079</p>
<p>NEW PERSON: EDILOCKBOX,AUTOMATIC</p>
<p>DATE ENTERED: JAN 14,2015 DATE ENTERED: OCT 23,2003</p>
<p>CREATOR: FMUSER,ONE CREATOR: FMUSER,ONE</p>
<p>TIMESTAMP: 62347,45796 TIMESTAMP: 63263,24079</p>
<p>Select one of the following:</p>
<p>Format</p>
<p>ENRLS^DIOZ(ROUTINE_IEN)</p>
<p>Input Parameters</p>
<table>
<tbody>
<tr class="odd">
<td>ROUTINE_IEN</td>
<td>(Optional) Internal Entry Number of the compiled routine number to be released. If passed as null or zero or if the parameter string is empty, all the numbers in the file are released.</td>
</tr>
</tbody>
</table>
<p>Output</p>
<p>There is no output from this routine. The routine simply sets a flag on one or more entries in the COMPILED ROUTINE file (#.83), indicating that the entry number is available for reuse.</p>
<h4 id="examples-1">Examples</h4>
<h5 id="example-1">Example 1</h5>
<p>To release routine number three for reuse and to delete routine ^DISZ0003, do the following:</p>
<p>&gt;<strong>D ENRLS^DIOZ(3)</strong></p>
<h5 id="example-2">Example 2</h5>
<p>To release all routine numbers for reuse and to delete all of the associated ^DISZ<em>nnnn</em> routines for each routine number “<em>nnnn</em>,” do the following:</p>
<p>&gt;<strong>D ENRLS^DIOZ()</strong></p>

<h1 id="list-file-attributes">List File Attributes</h1>
<p>The structures of VA FileMan files are stored in the data dictionary (DD). There, you can find the specifications of every field in every file. Frequently, you need to know the information in the DD (usually field names and descriptions) to successfully access and use the data in VA FileMan’s files.</p>
<p>The Data Dictionary Utilities submenu contains the following utilities that show information about files:</p>
<ul>
<li><p><span class="underline">List File Attributes Option</span></p></li>
<li><p><span class="underline">Map Pointer Relations Option</span></p></li>
<li><p><span class="underline">Check/Fix DD Structure Option</span></p></li>
<li><p><a href="#find-pointers-into-a-file-option">Find Pointers Into a File</a></p></li>
</ul>
<h2 id="list-file-attributes-option">List File Attributes Option</h2>
<p>To get a listing of the fields in a file (and other file attributes), use the List File Attributes option. This listing displays the structure of the file and the characteristics of the fields in the file; it does <em>not</em> show entries, records, or any data contained in the file. This information can be very useful when deciding what fields to include in a report, or what fields to edit.</p>
<p>You have your choice of the following formats for the listing:</p>
<ul>
<li><p><a href="#brief-data-dictionary">Brief</a></p></li>
<li><p><a href="#condensed-data-dictionary">Condensed</a></p></li>
<li><p><a href="#standard-format">Standard</a> (or <a href="#modified-standard-format">Modified Standard</a>)</p></li>
<li><p><a href="#custom-tailored-data-dictionary">Custom-Tailored</a></p></li>
<li><p><a href="#templates-only-format">Templates Only</a></p></li>
<li><p><a href="#global-map">Global Map</a></p></li>
<li><p><a href="#indexes-and-cross-references-only">Indexes and Cross-References Only</a></p></li>
<li><p><a href="#keys-only">Keys Only</a></p></li>
</ul>
<p>First, choose the file to display information about; you can use either its file number or name.</p>
<p>When you select the file, you have the option of requesting a range of files. If you select a range of files, the file number of the “go to” file <em>must</em> be higher than the file number of the “start with” file.</p>
<p>If you are prompted “Select SUB-FILE:”, this indicates that the file you are working with has Subfiles. If you want information only about a Subfile, specify the Subfile at this prompt. If you do <em>not</em> choose a Subfile, your listing usually includes information about all fields in the file, including those in all Subfiles.</p>
<p>Next, choose a format for the listing:</p>
<p><span id="_Toc342980782" class="anchor"></span>Figure 95: List File Attributes—File Attribute Listing format choices</p>
<p>Select LISTING FORMAT: STANDARD// <strong>?</strong></p>
<p>ANSWER WITH LISTING FORMAT NUMBER, OR NAME</p>
<p>CHOOSE FROM:</p>
<p>1 STANDARD</p>
<p>2 BRIEF</p>
<p>3 CUSTOM-TAILORED</p>
<p>4 MODIFIED STANDARD</p>
<p>5 TEMPLATES ONLY</p>
<p>6 GLOBAL MAP</p>
<p>7 CONDENSED</p>
<p>8 INDEXES AND CROSS-REFERENCES ONLY</p>
<p>9 KEYS ONLY</p>
<h3 id="brief-data-dictionary">Brief Data Dictionary</h3>
<p>When you choose Brief as the data dictionary format, a brief listing is produced; the Brief format is more readable but less complete than the default of a Standard listing. Next, you are asked for a destination for the listing’s output at the “DEVICE:” prompt. You can specify any valid printer or press the <strong>Enter</strong> key to send output to your screen as illustrated in <span class="underline">Figure 96</span>:</p>
<p><span id="_Ref462323654" class="anchor"></span>Figure 96: List File Attributes—Choosing to display the Brief Listing</p>
<p>Select LISTING FORMAT: STANDARD// <strong>BRIEF</strong></p>
<p>ALPHABETICALLY BY LABEL? NO// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p><span class="underline">Figure 97</span> is a sample of a Brief data dictionary listing of an elementary file of patients:</p>
<p><span id="_Ref389629849" class="anchor"></span>Figure 97: List File Attributes—Example of a Brief Data Dictionary Listing</p>
<p>BRIEF DATA DICTIONARY #16026 -- PATIENT FILE 05/31/91 PAGE 1</p>
<p>SITE: KDEMO V7 UCI: VAH,KXX</p>
<p>-------------------------------------------------------------------------------</p>
<p>NAME 16026,.01 FREE TEXT</p>
<p>Answer must be 3-30 characters in length.</p>
<p>SEX 16026,1 SET</p>
<p>‘m’ FOR MALE;</p>
<p>‘f’ FOR FEMALE;</p>
<p>DATE OF BIRTH 16026,2 DATE</p>
<p>TYPE A DATE BETWEEN 1/1/1860 AND 1963</p>
<p>RELIGION 16026,3 POINTER TO RELIGION FILE (#13)</p>
<p>DIAGNOSIS 16026,4 16026.04</p>
<p>Multiple</p>
<p>DIAGNOSIS 16026.04,.01 FREE TEXT</p>
<p>Answer must be 3-30 characters in length.</p>
<p>AGE AT ONSET 16026.04,1 NUMBER</p>
<p>Type a Number between 0 and 100, 0 Decimal Digits</p>
<p>HISTORY 16026.04,2 16026.42 WORD-PROCESSING</p>
<p>PROVIDER 16026,5 VARIABLE POINTER</p>
<p>FILE ORDER PREFIX LAYGO MESSAGE</p>
<p>6 1 S n STAFF PROVIDER</p>
<p>16 2 O y OTHER PROVIDER</p>
<p>SSN 16026,6 FREE TEXT</p>
<p>Social Security Number Enter 9 numbers without dashes.</p>
<p>The information in the data dictionary reports originated in the definition of the file and its fields.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a detailed explanation of the source of the information displayed by the List File Attributes option, see the “<span class="underline">Creating Files and Fields</span>” section.</p>
<p>This data dictionary listing tells you that for each patient, the following information may be available:</p>
<ul>
<li><p>A NAME that is from 3 to 30 characters long.</p></li>
<li><p>A recorded SEX of either <strong>m</strong> (MALE) or <strong>f</strong> (FEMALE).</p></li>
<li><p>A DATE OF BIRTH.</p></li>
<li><p>A RELIGION (for a list of all valid religions, we would have to consult a RELIGION file).</p></li>
<li><p>One or more diagnoses and for each DIAGNOSIS; DIAGNOSIS is a Multiple-valued field that has the following information:</p></li>
</ul>
<ul>
<li><p>An AGE AT ONSET</p></li>
<li><p>A HISTORY</p></li>
</ul>
<ul>
<li><p>A PROVIDER (e.g., a primary care physician). For a list of valid PROVIDERs, you would consult the NEW PERSON file (#200). If the PROVIDER’s name does <em>not</em> appear, it can then be entered in the NEW PERSON file (#200), since LAYGO (Learn-As-You-Go) has been allowed.</p></li>
<li><p>A SOCIAL SECURITY NUMBER (SSN).</p></li>
</ul>
<h3 id="condensed-data-dictionary">Condensed Data Dictionary</h3>
<p>Another format for listing a file’s attributes is the Condensed format, and <span class="underline">Figure 98</span> illustrates a Condensed data dictionary listing:</p>
<p><span id="_Ref389631171" class="anchor"></span>Figure 98: List File Attributes—Example of a Condensed Data Dictionary Listing</p>
<p>CONDENSED DATA DICTIONARY---PATIENT FILE (#16026)UCI: <em>XXX</em>,<em>XXX</em></p>
<p>STORED IN: ^DIZ(16026, 05/31/91 PAGE 1</p>
<p>--------------------------------------------------------------------------------</p>
<p>FILE SECURITY</p>
<p>DD SECURITY : # DELETE SECURITY: #</p>
<p>READ SECURITY : # LAYGO SECURITY : #</p>
<p>WRITE SECURITY : #</p>
<p>CROSS REFERENCED BY:</p>
<p>NAME(B)</p>
<p>FILE STRUCTURE</p>
<p>FIELD FIELD</p>
<p>NUMBER NAME</p>
<p>.01 NAME (RF), [0;1]</p>
<p>1 SEX (RS), [0;2]</p>
<p>2 DATE OF BIRTH (RD), [0;3]</p>
<p>3 RELIGION (P13’), [0;4]</p>
<p>4 DIAGNOSIS (Multiple-16026.04), [1;0]</p>
<p>.01 DIAGNOSIS (MF), [0;1]</p>
<p>1 AGE AT ONSET (NJ3,0), [0;2]</p>
<p>2 HISTORY (Multiple-16026.42), [1;0]</p>
<p>.01 HISTORY (W), [0;1]</p>
<p>5 PROVIDER (V), [2;1]</p>
<p>6 SSN (RFa), [2;2]</p>
<p>The codes in parentheses following the field names in the Condensed data dictionary contain information regarding the specifications of the field.</p>
<p><span class="underline">Table 90</span> is a complete list of those codes and their meanings:</p>
<p><span id="_Ref447511579" class="anchor"></span>Table 90: List File Attributes—Condensed Data Dictionary Codes</p>
<table>
<tbody>
<tr class="odd">
<td>Code</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>a</strong></td>
<td>The field has been marked for <strong>a</strong>uditing all the time.</td>
</tr>
<tr class="odd">
<td><strong>e</strong></td>
<td>The auditing is only on <strong>e</strong>dit or delete.</td>
</tr>
<tr class="even">
<td><strong>A</strong></td>
<td>For Multiples, new subentries can be <strong>a</strong>dded without being asked.</td>
</tr>
<tr class="odd">
<td><strong>BC</strong></td>
<td>The data is <strong>B</strong>oolean <strong>c</strong>omputed (true or false) and <strong>C</strong> the data is <strong>c</strong>omputed.</td>
</tr>
<tr class="even">
<td><strong>Cm</strong></td>
<td>The data is <strong>M</strong>ultiline <strong>c</strong>omputed.</td>
</tr>
<tr class="odd">
<td><strong>D</strong></td>
<td>The data is <strong>d</strong>ate-valued.</td>
</tr>
<tr class="even">
<td><strong>DC</strong></td>
<td>The data is <strong>d</strong>ate-valued, <strong>c</strong>omputed.</td>
</tr>
<tr class="odd">
<td><strong>F</strong></td>
<td>The data is <strong>F</strong>REE TEXT.</td>
</tr>
<tr class="even">
<td><strong>I</strong></td>
<td>The data is uneditable.</td>
</tr>
<tr class="odd">
<td><strong>J<em>n</em></strong></td>
<td>To specify a print length of “<em><strong>n</strong></em>” characters.</td>
</tr>
<tr class="even">
<td><strong>J<em>n</em>,<em>d</em></strong></td>
<td>To specify printing “<em><strong>n</strong></em>” characters with “<em><strong>d</strong></em>” <strong>d</strong>ecimals.</td>
</tr>
<tr class="odd">
<td><strong>K</strong></td>
<td>The data is M code.</td>
</tr>
<tr class="even">
<td><strong>M</strong></td>
<td>For Multiples, the user is asked for another subentry.</td>
</tr>
<tr class="odd">
<td><strong>N</strong></td>
<td>The data is <strong>N</strong>UMERIC-valued.</td>
</tr>
<tr class="even">
<td><strong>O</strong></td>
<td>The field has an <strong>O</strong>UTPUT transform.</td>
</tr>
<tr class="odd">
<td><strong>P<em>n</em></strong></td>
<td>The data is a <strong>P</strong>OINTER TO A FILE reference to file “<em><strong>n</strong></em>”.</td>
</tr>
<tr class="even">
<td><strong>P<em>n</em>’</strong></td>
<td>LAYGO to the <strong>p</strong>ointed-to file is <em>not</em> allowed.</td>
</tr>
<tr class="odd">
<td><strong>R</strong></td>
<td>Entry of data is <strong>r</strong>equired.</td>
</tr>
<tr class="even">
<td><strong>S</strong></td>
<td>The data is from a discreet <strong>S</strong>ET OF CODES.</td>
</tr>
<tr class="odd">
<td><strong>V</strong></td>
<td>The data is a <strong>V</strong>ARIABLE-POINTER.</td>
</tr>
<tr class="even">
<td><strong>W</strong></td>
<td>The data is <strong>W</strong>ORD-PROCESSING.</td>
</tr>
<tr class="odd">
<td><strong>WL</strong></td>
<td>The <strong>W</strong>ORD-PROCESSING data is normally printed in <strong>l</strong>ine mode (i.e., <em>without</em> word wrap).</td>
</tr>
<tr class="even">
<td><strong>X</strong></td>
<td>Editing is <em>not</em> allowed under the Modify File Attributes option, because the INPUT transform has been modified under the Utility Functions menu [DIUTILITY].</td>
</tr>
<tr class="odd">
<td><strong>*</strong></td>
<td><p>There is a screen associated with a DATA TYPE field value of any of the following:</p>
<ul>
<li><p>POINTER TO A FILE</p></li>
<li><p>VARIABLE-POINTER</p></li>
<li><p>SET OF CODES</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>For example, the SSN field is required (<strong>R</strong>), is FREE TEXT (<strong>F</strong>), and is audited (<strong>a</strong>).</p>
<h3 id="standard-and-modified-standard-data-dictionaries">Standard and Modified Standard Data Dictionaries</h3>
<p>The most complete information about a file is obtained by using the Standard data dictionary format, which is the default for the List File Attributes option. In addition to detailed information about every field in the file, the Standard data dictionary format gives the file access, identifiers, cross-references, other files pointing to the file, files pointed to by the file, and any templates (including forms and blocks) associated with the file.</p>
<h4 id="standard-format">Standard Format</h4>
<p><span class="underline">Figure 99</span> is a sample data dictionary in Standard format:</p>
<p><span id="_Ref447512027" class="anchor"></span>Figure 99: List File Attributes—Example of a Standard Data Dictionary Listing</p>
<p>STANDARD DATA DICTIONARY #16026 -- PATIENT FILE 05/31/91 PAGE 1</p>
<p>STORED IN ^DIZ(16026, (1 ENTRY) SITE: KDEMO V7 UCI: VAH,KXX</p>
<p>DATA NAME GLOBAL DATA</p>
<p>ELEMENT TITLE LOCATION TYPE</p>
<p>-------------------------------------------------------------------------------</p>
<p>A sample file containing some of the fields found in a file of patient</p>
<p>information in a hospital database.</p>
<p>DD ACCESS: #</p>
<p>RD ACCESS: #</p>
<p>WR ACCESS: #</p>
<p>DEL ACCESS: #</p>
<p>LAYGO ACCESS: #</p>
<p>AUDIT ACCESS: #</p>
<p>CROSS</p>
<p>REFERENCED BY: NAME(B)</p>
<p>CREATED ON: MAR 22,1991</p>
<p>16026,.01 NAME 0;1 FREE TEXT (Required)</p>
<p>INPUT TRANSFORM: K:$L(X)&gt;30!($L(X)&lt;3)!’(X’?1P.E) X</p>
<p>LAST EDITED: MAR 29, 1991</p>
<p>HELP-PROMPT: Answer must be 3-30 characters in length.</p>
<p>GROUP: DEMOG</p>
<p>CROSS-REFERENCE: 16026^B</p>
<p>1)= S ^DIZ(16026,”B”,$E(X,1,30),DA)=““</p>
<p>2)= K ^DIZ(16026,”B”,$E(X,1,30),DA)</p>
<p>Automatically created regular x-ref used to</p>
<p>look-up and sort entries based on the value in</p>
<p>the .01 (NAME) field.</p>
<p>16026,1 SEX 0;2 SET (Required)</p>
<p>‘m’ FOR MALE;</p>
<p>‘f’ FOR FEMALE;</p>
<p>LAST EDITED: MAR 22, 1991</p>
<p>GROUP: DEMOG</p>
<p>16026,2 DATE OF BIRTH 0;3 DATE (Required)</p>
<p>INPUT TRANSFORM: S %DT=“E” D ^%DT S X=Y K:2630000&lt;X!(1600101&gt;X)</p>
<p>X</p>
<p>LAST EDITED: MAR 22, 1991</p>
<p>HELP-PROMPT: TYPE A DATE BETWEEN 1/1/1860 AND 1963</p>
<p>GROUP: DEMOG</p>
<p>16026,3 RELIGION 0;4 POINTER TO RELIGION FILE (#13)</p>
<p>LAST EDITED: MAR 22, 1991</p>
<p>16026,4 DIAGNOSIS 1;0 Multiple #16026.04</p>
<p>(Add New Entry without Asking)</p>
<p>STANDARD DATA DICTIONARY #16026 -- PATIENT FILE 05/31/91 PAGE 2</p>
<p>STORED IN ^DIZ(16026, (1 ENTRY) SITE: KDEMO V7 UCI: VAH,KXX</p>
<p>DATA NAME GLOBAL DATA</p>
<p>ELEMENT TITLE LOCATION TYPE</p>
<p>-------------------------------------------------------------------------------</p>
<p>16026.04,.01 DIAGNOSIS 0;1 FREE TEXT (Multiply asked)</p>
<p>INPUT TRANSFORM: K:$L(X)&gt;30!($L(X)&lt;3) X</p>
<p>LAST EDITED: MAR 22, 1991</p>
<p>HELP-PROMPT: Answer must be 3-30 characters in length.</p>
<p>CROSS-REFERENCE: 16026.04^B</p>
<p>1)= S ^DIZ(16026,DA(1),1,”B”,$E(X,1,30),DA)=““</p>
<p>2)= K ^DIZ(16026,DA(1),1,”B”,$E(X,1,30),DA)</p>
<p>16026.04,1 AGE AT ONSET 0;2 NUMBER</p>
<p>INPUT TRANSFORM: K:+X’=X!(X&gt;100)!(X&lt;0)!(X?.E1”.”1N.N) X</p>
<p>LAST EDITED: APR 29, 1991</p>
<p>HELP-PROMPT: Type a Number between 0 and 100, 0 Decimal</p>
<p>Digits</p>
<p>16026.04,2 HISTORY 1;0 WORD-PROCESSING #16026.42</p>
<p>16026,5 PROVIDER 2;1 VARIABLE POINTER</p>
<p>FILE ORDER PREFIX LAYGO MESSAGE</p>
<p>6 1 S n STAFF PROVIDER</p>
<p>16 2 O y OTHER PROVIDER</p>
<p>LAST EDITED: MAR 22, 1991</p>
<p>16026,6 SSN 2;2 FREE TEXT (Required) (audited)</p>
<p>Social Security Number</p>
<p>INPUT TRANSFORM: K:$L(X)&gt;9!($L(X)&lt;9)!’(X?9N) X</p>
<p>LAST EDITED: MAR 22, 1991</p>
<p>HELP-PROMPT: Enter 9 numbers without dashes.</p>
<p>DESCRIPTION: An entry is required. If you do not know this</p>
<p>patient’s Social Security Number, enter</p>
<p>‘000000000’ to indicate the number is unknown.</p>
<p>GROUP: DEMOG</p>
<p>FILES POINTED TO FIELDS</p>
<p>PROVIDER (#6) PROVIDER (#5)</p>
<p>PERSON (#16) PROVIDER (#5)</p>
<p>RELIGION (#13) RELIGION (#3)</p>
<p>INPUT TEMPLATE(S):</p>
<p>PRINT TEMPLATE(S):</p>
<p>CAPTIONED USER #0</p>
<p>ZZDIAGPRINT MAR 29, 1991@12:18 USER #140</p>
<p>Used to print information from the DIAGNOSIS multiple.</p>
<p>SORT TEMPLATE(S):</p>
<p>FORM(S)/BLOCKS(S):</p>
<h4 id="modified-standard-format">Modified Standard Format</h4>
<p>Another data dictionary format is the Modified Standard format, which allows you to suppress printing the M code and to restrict the listing to specified groups of fields.</p>
<p>For example, the dialogue in <span class="underline">Figure 100</span> eliminates the M code from the Standard listing and only prints those fields in the DEMOG group:</p>
<ul>
<li><p>NAME</p></li>
<li><p>SEX</p></li>
<li><p>DATE OF BIRTH</p></li>
<li><p>SSN</p></li>
</ul>
<p><span id="_Ref389634271" class="anchor"></span>Figure 100: List File Attributes—Choosing the Modified Standard Data Dictionary Listing</p>
<p>Select LISTING FORMAT: STANDARD// <strong>MOD &lt;Enter&gt;</strong> IFIED STANDARD</p>
<p>WANT THE LISTING TO INCLUDE MUMPS CODE? N// <strong>&lt;Enter&gt;</strong></p>
<p>WANT TO RESTRICT LISTING TO CERTAIN GROUPS OF FIELDS? NO// <strong>Y</strong></p>
<p>Include GROUP: <strong>DEMOG</strong></p>
<p>And include GROUP: <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you answer the question concerning M code <strong>YES</strong> and do <em>not</em> specify any groups, the output from the Modified Standard format is the same as that of the Standard format.</p>
<h3 id="custom-tailored-data-dictionary">Custom-Tailored Data Dictionary</h3>
<p>The Custom-Tailored format allows you to select attributes of the fields for your report. You decide what information is displayed, and you determine the printed format of the output.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a detailed description of the techniques used to control the format of output, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>For this simple example in <span class="underline">Figure 101</span> we accept the default settings:</p>
<p><span id="_Ref462323562" class="anchor"></span>Figure 101: List File Attributes—Choosing the Custom-Tailored Data Dictionary Listing</p>
<p>Select DATA DICTIONARY UTILITY OPTION: <strong>LIST FILE ATTRIBUTES</strong></p>
<p>START WITH WHAT FILE: PATIENT // <strong>&lt;Enter&gt;</strong></p>
<p>GO TO WHAT FILE: PATIENT // <strong>&lt;Enter&gt;</strong></p>
<p>Select SUB-FILE: <strong>&lt;Enter&gt;</strong></p>
<p>Select LISTING FORMAT: STANDARD// <strong>CUSTOM-TAILORED</strong></p>
<p>SORT BY: LABEL// <strong>?</strong></p>
<p>ANSWER WITH ATTRIBUTE NUMBER, OR LABEL</p>
<p>DO YOU WANT THE ENTIRE ATTRIBUTE LIST? <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>The “SORT BY:” prompt allows you to specify the order in which the data dictionary information is displayed.</p>
<p>In <span class="underline">Figure 102</span>, the user is asking for the entire list of possible attributes about a field that can be stored in the data dictionary. Typically, no field would have a value for every one of these attributes:</p>
<p><span id="_Ref462323489" class="anchor"></span>Figure 102: List File Attributes—Choosing from a list of field attributes</p>
<p>CHOOSE FROM:</p>
<p>.001 NUMBER</p>
<p>.01 LABEL</p>
<p>.1 TITLE</p>
<p>.12 VARIABLE POINTER (multiple)</p>
<p>.2 SPECIFIER</p>
<p>.23 LENGTH</p>
<p>.24 DECIMAL DEFAULT</p>
<p>.25 TYPE</p>
<p>.26 COMPUTE ALGORITHM</p>
<p>.27 SUB-FIELDS</p>
<p>.28 MULTIPLE-VALUED</p>
<p>.29 DEPTH OF SUB-FIELD</p>
<p>.3 POINTER</p>
<p>.4 GLOBAL SUBSCRIPT LOCATION</p>
<p>.5 INPUT TRANSFORM</p>
<p>1 CROSS-REFERENCE (multiple)</p>
<p>1.1 AUDIT</p>
<p>1.2 AUDIT CONDITION</p>
<p>2 OUTPUT TRANSFORM</p>
<p>3 ‘HELP’-PROMPT</p>
<p>4 XECUTABLE ‘HELP’</p>
<p>8 READ ACCESS (OPTIONAL)</p>
<p>8.5 DELETE ACCESS (OPTIONAL)</p>
<p>9 WRITE ACCESS (OPTIONAL)</p>
<p>9.01 COMPUTED FIELDS USED</p>
<p>10 SOURCE</p>
<p>11 DESTINATION (multiple)</p>
<p>12 POINTER SCREEN</p>
<p>12.1 CODE TO SET POINTER SCREEN</p>
<p>12.2 EXPRESSION FOR POINTER SCREEN</p>
<p>20 GROUP (multiple)</p>
<p>50 DATE FIELD LAST EDITED</p>
<p>999 TRIGGERED-BY POINTER (multiple)</p>
<p>TYPE ‘-’ IN FRONT OF NUMERIC-VALUED FIELD TO SORT FROM HI TO LO</p>
<p>TYPE ‘+’ IN FRONT OF FIELD NAME TO GET SUBTOTALS BY THAT FIELD,</p>
<p>‘#’ TO PAGE-FEED ON EACH FIELD VALUE, ‘!’ TO GET RANKING NUMBER,</p>
<p>‘@’ TO SUPPRESS SUB-HEADER, ‘]’ TO FORCE SAVING SORT TEMPLATE TYPE [TEMPLATE NAME] IN BRACKETS TO SORT BY PREVIOUS SEARCH RESULTS</p>
<p>SORT BY: LABEL// <strong>&lt;Enter&gt;</strong></p>
<p>START WITH LABEL: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT ATTRIBUTE: <strong>?</strong></p>
<p>ANSWER WITH ATTRIBUTE NUMBER, OR LABEL</p>
<p>DO YOU WANT THE ENTIRE 36-ENTRY ATTRIBUTE LIST? <strong>N &lt;Enter&gt;</strong> (NO)</p>
<p>At this point, you indicate the specific attributes of the fields that you want displayed.</p>
<p>In <span class="underline">Figure 103</span>, help regarding the print formatting options is displayed:</p>
<p><span id="_Ref462323455" class="anchor"></span>Figure 103: List File Attributes—Help on print formatting in the Custom-Tailored Data Dictionary Listing</p>
<p>TYPE ‘&amp;’ IN FRONT OF FIELD NAME TO GET TOTAL FOR THAT FIELD,</p>
<p>‘!’ TO GET COUNT, ‘+’ TO GET TOTAL &amp; COUNT, ‘#’ TO GET MAX &amp; MIN,</p>
<p>‘]’ TO FORCE SAVING PRINT TEMPLATE</p>
<p>TYPE ‘[TEMPLATE NAME]’ IN BRACKETS TO USE AN EXISTING PRINT TEMPLATE</p>
<p>YOU CAN FOLLOW FIELD NAME WITH ‘;’ AND FORMAT SPECIFICATION(S)</p>
<p>Now, by using either the label or the corresponding number of the attribute you want, you select the information you want in your customized data dictionary listing:</p>
<p><span id="_Toc342980792" class="anchor"></span>Figure 104: List File Attributes—Selecting the field attributes to print</p>
<p>FIRST PRINT ATTRIBUTE: <strong>LABEL</strong></p>
<p>THEN PRINT ATTRIBUTE: <strong>TYPE</strong></p>
<p>THEN PRINT ATTRIBUTE: <strong>DATE FIELD LAST EDITED</strong></p>
<p>THEN PRINT ATTRIBUTE: <strong>&lt;Enter&gt;</strong></p>
<p>HEADING: FIELD SEARCH// <strong>CUSTOM-TAILORED OUTPUT</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>You can save the selected attributes in a PRINT template.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For details, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>The output looks like <span class="underline">Figure 105</span>:</p>
<p><span id="_Ref462323412" class="anchor"></span>Figure 105: List File Attributes—Example of a Custom-Tailored Data Dictionary Listing</p>
<p>PATIENT FILE CUSTOM-TAILORED OUTPUT MAY 31,1991 11:10 PAGE 1</p>
<p>DATE FIELD</p>
<p>LABEL TYPE LAST EDITED</p>
<p>-------------------------------------------------------------------------</p>
<p>DATE OF BIRTH DATE/TIME MAR 22,1991</p>
<p>DIAGNOSIS FREE TEXT</p>
<p>NAME FREE TEXT MAR 29,1991</p>
<p>PROVIDER VARIABLE-POINTER MAR 22,1991</p>
<p>RELIGION POINTER MAR 22,1991</p>
<p>SEX SET MAR 22,1991</p>
<p>SSN FREE TEXT MAR 22,1991</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> With the Custom-Tailored format, in order to get information about fields in a Multiple, you <em>must</em> specifically ask for that Multiple by entering its name at the “Select SUB-FILE:” prompt.</p>
<h3 id="templates-only-format">Templates Only Format</h3>
<p>The Templates Only format displays information about the templates (including forms and blocks) associated with a file. The output resembles the last part of the Standard data dictionary output.</p>
<h3 id="global-map">Global Map</h3>
<p>The Global Map format shows the actual structure of the global (file) that contains the data for the file and its templates. This information is of primary interest to developers who can control how data is stored.</p>
<p><span class="underline">Figure 106</span> is a sample Global Map:</p>
<p><span id="_Ref389629905" class="anchor"></span>Figure 106: List File Attributes—Example of a Global Map Data Dictionary Listing</p>
<p>GLOBAL MAP DATA DICTIONARY #16026 -- PATIENT FILE 05/31/91 PAGE 1</p>
<p>STORED IN ^DIZ(16026, (1 ENTRY) SITE: KDEMO V7 UCI: VAH,KXX</p>
<p>-----------------------------------------------------------------------------</p>
<p>CROSS</p>
<p>REFERENCED BY: NAME(B)</p>
<p>^DIZ(16026,D0,0)= (#.01) NAME [1F] ^ (#1) SEX [2S] ^ (#2) DATE OF BIRTH [3D]</p>
<p>==&gt;^ (#3) RELIGION [4P] ^</p>
<p>^DIZ(16026,D0,1,0)=^16026.04A^^ (#4) DIAGNOSIS</p>
<p>^DIZ(16026,D0,1,D1,0)= (#.01) DIAGNOSIS [1F] ^ (#1) AGE AT ONSET [2N] ^</p>
<p>^DIZ(16026,D0,1,D1,1,0)=^16026.42^^ (#2) HISTORY</p>
<p>^DIZ(16026,D0,1,D1,1,D2,0)= (#.01) HISTORY [1W] ^</p>
<p>^DIZ(16026,D0,2)= (#5) PROVIDER [1V] ^ (#6) SSN [2F] ^</p>
<p>INPUT TEMPLATE(S):</p>
<p>^DIE(30)= ZZUPDATE</p>
<p>PRINT TEMPLATE(S):</p>
<p>^DIPT(.01)= CAPTIONED</p>
<p>^DIPT(60)= ZZDIAGPRINT</p>
<p>SORT TEMPLATE(S):</p>
<p>An understanding of these data dictionary listings is the key to displaying, changing, and deleting the data in individual file entries.</p>
<h3 id="indexes-and-cross-references-only">Indexes and Cross-references Only</h3>
<p>The Indexes and Cross-References Only format shows the Traditional cross-references and New-Style indexes that are defined on a file.</p>
<p><span class="underline">Figure 107</span> is a sample Indexes and Cross-References Only data dictionary listing:</p>
<p><span id="_Ref389629928" class="anchor"></span>Figure 107: List File Attributes—Example of an Indexes and Cross-References Only Data Dictionary Listing</p>
<p>INDEX AND CROSS-REFERENCE LIST -- FILE #16026 12/24/98 PAGE 1</p>
<p>---------------------------------------------------------------------------</p>
<p>File #16026</p>
<p>Traditional Cross-References:</p>
<p>B REGULAR</p>
<p>Field: NAME (16026,.01)</p>
<p>Description: Automatically created regular x-ref used to look-up and</p>
<p>sort entries based on the value in the .01 (NAME) field.</p>
<p>1)= S ^DIZ(16026,”B”,$E(X,1,30),DA)=“”</p>
<p>2)= K ^DIZ(16026,”B”,$E(X,1,30),DA)</p>
<p>New-Style Indexes:</p>
<p>KEYA (#6) RECORD REGULAR IR LOOKUP &amp; SORTING</p>
<p>Unique for: Key A (#5), File #16026</p>
<p>Short Descr: Uniqueness Index for Key ‘A’ of File #16026</p>
<p>Set Logic: S ^DIZ(16026,”KEYA”,X(1),X(2),DA)=“”</p>
<p>Kill Logic: K ^DIZ(16026,”KEYA”,X(1),X(2),DA)</p>
<p>Whole Kill: K ^DIZ(16026,”KEYA”)</p>
<p>X(1): NAME (16026,.01) (Subscr 1)</p>
<p>X(2): SSN (16026,6) (Subscr 2)</p>
<p>Subfile #16026.04</p>
<p>Traditional Cross-References:</p>
<p>B REGULAR</p>
<p>Field: DIAGNOSIS (16026.04,.01)</p>
<p>1)= S ^DIZ(16026,DA(1),1,”B”,$E(X,1,30),DA)=“”</p>
<p>2)= K ^DIZ(16026,DA(1),1,”B”,$E(X,1,30),DA)</p>
<h3 id="keys-only">Keys Only</h3>
<p>The Keys Only format shows the keys that are defined on a file.</p>
<p><span class="underline">Figure 108</span> is a sample Keys Only data dictionary listing:</p>
<p><span id="_Ref389629952" class="anchor"></span>Figure 108: List File Attributes—Example of a Keys Only Data Dictionary Listing</p>
<p>KEY LIST -- FILE #16026 12/24/98 PAGE 1</p>
<p>---------------------------------------------------------------------</p>
<p>FILE #16026</p>
<p>-----------</p>
<p>PRIMARY KEY: A (#5)</p>
<p>Uniqueness Index: KEYA (#6)</p>
<p>File, Field: 1) NAME (16026,.01) 2) SSN (16026,6)</p>
<h2 id="map-pointer-relations-option">Map Pointer Relations Option</h2>
<p>The Map Pointer Relations option on the Data Dictionary Utilities submenu creates a graphic representation of the pointer relationships between files. Files are linked by POINTER TO A FILE and VARIABLE-POINTER field types.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> These field types are described in the “<span class="underline">Creating Fields</span>” section.</p>
<p>You select an application package, a file, or a group of files to be mapped. If you select a package to map, you are given the opportunity to exclude a file or files from the map.</p>
<p>The initial dialogue is displayed in <span class="underline">Figure 109</span>:</p>
<p><span id="_Ref389723160" class="anchor"></span>Figure 109: List File Attributes—Example of the dialogue encountered when using the Map Pointer Relations option</p>
<p>Select DATA DICTIONARY UTILITY OPTION: <strong>MAP POINTER RELATIONS</strong></p>
<p>Prints a graph of pointer relations in a database of FileMan files</p>
<p>named in the Kernel PACKAGE file (9.4) or given separately.</p>
<p>Works best with 132 column output!</p>
<p>Select PACKAGE NAME: <strong>&lt;Enter&gt;</strong></p>
<p>Enter files to be included</p>
<p>Add FILE: <strong>PATIENT</strong></p>
<p>Add FILE: <strong>&lt;Enter&gt;</strong></p>
<p>Files included 16026 PATIENT</p>
<p>Enter name of file group for optional graph header: <strong>PATIENT FILE</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong></p>
<p>In this instance, only a single file, the PATIENT file, has been selected for mapping. Of course, a more useful and complex map would be produced if an entire package or a large, related group of files were mapped.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You <em>must</em> have DD access to the PACKAGE file (#9.4) and to the files chosen at the “Add FILE:” prompt.</p>
<p>The output consists of three columns. The middle column has the target file or files, each surrounded by a box. This is the file or group of files that you asked to be mapped. To the left, in the first column, are the files and fields that point to the target file. An abbreviated description of the field is shown. To the right, in the last column, are any files that are pointed to by the target file. The output’s heading contains brief descriptions of the codes used.</p>
<p>A possible output for the PATIENT file is shown below:</p>
<p><span id="_Toc342980798" class="anchor"></span>Figure 110: List File Attributes—Example of the output produced with the Map Pointer Relations option</p>
<p>File/Package: PATIENT FILE Date: MAY 31,1991</p>
<p>FILE (#) POINTER (#) FILE</p>
<p>POINTER FIELD TYPE POINTER FIELD FILE POINTED TO</p>
<p>----------------------------------------------------------------------------</p>
<p>L=Laygo S=File not in set N=Normal Ref. C=Xref.</p>
<p>*=Truncated m=Multiple v=Variable Pointer</p>
<p>---------------------</p>
<p>ADMISSIONS (#16999) | 16026 PATIENT |</p>
<p>CLIENT .............. (N S L)-&gt; | RELIGION |-&gt; RELIGION</p>
<p>| v PROVIDER |-&gt; PERSON</p>
<p>| |-&gt; PROVIDER</p>
<p>---------------------</p>
<p>This output shows that the CLIENT field in the ADMISSIONS file points to the PATIENT file (#2). LAYGO additions are allowed and the ADMISSIONS file is <em>not</em> in the set of files being mapped. Further, the RELIGION field in the PATIENT file points to the RELIGION file and the PROVIDER field, a “<strong>v</strong>” (VARIABLE-POINTER), points to the PERSON and PROVIDER files. If the target file points to a file that is <em>not</em> in the account, the map shows:</p>
<p>*** NONEXISTENT FILE ***</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a more elaborate example of a pointer map, see the “Pointer Map” section in the <em>VA FileMan Technical Manual</em>.</p>
<h2 id="checkfix-dd-structure-option">Check/Fix DD Structure Option</h2>
<p>In order to ensure that the internal structure of your files and subfiles is consistent, use the Check/Fix DD Structure option from the Data Dictionary Utilities submenu. You <em>must</em> have <strong>READ</strong> access to the files being analyzed. In addition, you need <strong>DD</strong> access for this option to correct erroneous nodes.</p>
<p>This utility looks at a file’s identifiers, cross-references, POINTER TO A FILE, VARIABLE-POINTER, and COMPUTED fields. If there are inconsistencies or conflicts between the information in the data dictionary and the structure of the file’s global nodes, the Check/Fix DD Structure option notes them.</p>
<p>If you want, the Check/Fix DD Structure option corrects inconsistencies found in the data dictionary. The process does <em>not</em> change any file structures; it only removes or corrects unnecessary or incorrect DD nodes. Data is <em>not</em> affected.</p>
<p>The dialogue for running this option is simple. You specify the file or files you want to check and indicate whether you want to delete incorrect nodes. Then the progress of the checking is displayed followed by a report of any discrepancies found or any changes made. For example:</p>
<p><span id="_Ref447515755" class="anchor"></span>Figure 111: List File Attributes—Example of dialogue and output encountered when using Check/Fix DD Structure option</p>
<p>Select DATA DICTIONARY UTILITY OPTION: <strong>CHECK/FIX DD STRUCTURE</strong></p>
<p>Check the Data Dictionary.</p>
<p>START WITH WHAT FILE: <strong>16033</strong></p>
<p>GO TO WHAT FILE: <strong>&lt;Enter&gt;</strong></p>
<p>Remove erroneous nodes? NO// <strong>YES</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> DECSERVER</p>
<p>Checking file # 16033</p>
<p>Checking ‘ID’ nodes for ‘Q’.</p>
<p>Checking ‘IX’ nodes.</p>
<p>Checking ‘PT’ nodes.</p>
<p>File: 16037 Field: .01 is not a pointer.</p>
<p>^DD(16033,0,”PT”,16037,.01) was killed.</p>
<p>Checking FIELDs....</p>
<p>Checking subfile # 16033.04</p>
<p>Checking ‘IX’ nodes.</p>
<p>Checking FIELDs...</p>
<p>Checking subfile # 16033.42</p>
<p>Checking FIELDs.</p>
<p>Returning to subfile 16033.04.</p>
<p>Returning to main file.......</p>
<p>Checking subfile # 16033.01</p>
<p>Checking ‘IX’ nodes.</p>
<p>Checking FIELDs.</p>
<p>Returning to main file.........</p>
<p>In the previous example (<span class="underline">Figure 111</span>), the check is being run on a single file. Correction of erroneous nodes has been requested. An incorrect “PT” node was found and deleted.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Subfiles are inspected, too.</p>
<p>Application developers might use this tool to clean up their files before export. Site managers may find the reporting function useful for checking a package’s files after installation. Erroneous nodes that are found by this option can be remnants of prior versions of the files; the current install may <em>not</em> be to blame.</p>
<h2 id="find-pointers-into-a-file-option">Find Pointers Into a File Option</h2>
<p>The Find Pointers Into a File option locates the entries in other files that point to your target file. You can specify the scope of the search.</p>
<p>The Find Pointers Into a File option is located on the Data Dictionary Utilities sub menu. After you indicate which file you want analyzed, you can limit the extent of the analysis in the following ways:</p>
<ul>
<li><p>Only find pointers to a single entry in the target file.</p></li>
<li><p>Find pointers to all entries in the target file.</p></li>
<li><p>Only find pointers to the target file that point to a non-existent entry in that file (dangling pointers).</p></li>
<li><p>Only find pointers to entries in a Search Template on the target file. You will see this option only if there are search templates on the target file.</p></li>
</ul>
<p>The resulting report is sorted by pointing file. It displays the IEN of the pointed-to entry in the target file, the value of the .01 field in the pointing file of the entry that contains the pointer, and the Field Name of the pointing field in the pointing file.</p>
<p>In <span class="underline">Figure 112</span>, pointers to a single entry in the Patient file are found.</p>
<p><span id="_Ref462323174" class="anchor"></span>Figure 112: Data Dictionary Utilities—Example of dialogue and output encountered when using the Find Pointers Into a File option</p>
<p>Select OPTION: <strong>DATA DICTIONARY UTILITIES</strong></p>
<p>Select DATA DICTIONARY UTILITY OPTION: <strong>FIND POINTERS INTO A FILE</strong></p>
<p>THIS UTILITY TRIES TO FIND ALL ENTRIES IN ALL FILES POINTING TO A CERTAIN FILE</p>
<p>Select FILE: <strong>PATIENT</strong></p>
<p>Select one of the following:</p>
<p>1 One particular PATIENT Entry</p>
<p>2 All PATIENT Entries</p>
<p>3 Non-existent PATIENT Entries</p>
<p>4 Entries from a PATIENT Search Template</p>
<p>Find pointers to: All PATIENT Entries// <strong>1 &lt;Enter&gt;</strong> One particular PATIENT Entry</p>
<p>Find pointers to PATIENT Entry: <strong>FMPATIENT,TWO &lt;Enter&gt;</strong> 3-3-60 000234567</p>
<p>NO NON-VETERAN (OTHER)</p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> TELNET Right Margin: 80// <strong>&lt;Enter&gt;</strong></p>
<p>***PATIENT: FMPATIENT,TWO***</p>
<p>FILE 45 (PTF)</p>
<p>`1 FMPATIENT,TWO PATIENT</p>
<p>FILE 59.9 (PBM PATIENT DEMOGRAPHICS)</p>
<p>`2 JUN 9,2015 PATIENT</p>
<p>FILE 120.8 (PATIENT ALLERGIES)</p>
<p>`9 FMPATIENT,TWO PATIENT</p>
<p>FILE 120.85 (ADVERSE REACTION REPORTING)</p>
<p>`4 JUN 9,2015 PATIENT</p>
<p>FILE 120.86 (ADVERSE REACTION ASSESSMENT)</p>
<p>`4 FMPATIENT,TWO NAME</p>
<p>FILE 301.7 (IVM ADDRESS CHANGE LOG)</p>
<p>`1 JUN 9,2015@08:39:11 PATIENT</p>
<p>`2 JUN 9,2015@08:39:30 PATIENT</p>
<p>FILE 391.71 (ADT/HL7 PIVOT)</p>
<p>`2 JUN 9,2015 PATIENT</p>
<p>EVENT POINTER</p>
<p>FILE 405 (PATIENT MOVEMENT)</p>
<p>`3 JUN 9,2015@08:40:16 PATIENT</p>
<p>`4 JUN 9,2015@08:40:16 PATIENT</p>
<p>FILE 798.3 (ROR PATIENT EVENTS)</p>
<p>`4 FMPATIENT,TWO PATIENT NAME</p>
<p>Type &lt;Enter&gt; to continue or '^' to exit: <strong>^</strong></p>
<h2 id="meta-data-dictionary">Meta Data Dictionary</h2>
<p>By running ^DDD during VA FileMan installation, it creates the META DATA DICTIONARY file (#.9). The Meta Data Dictionary lists all fields in all files in a searchable format.</p>
<p><span id="_Ref462322372" class="anchor"></span>Figure 113: List File Attributes—Example setting up the Meta Data Dictionary</p>
<p>Select OPTION NAME: <strong>DIUSER &lt;Enter&gt;</strong> VA FileMan</p>
<p>VA FileMan Version 22.2</p>
<p>Enter or Edit File Entries</p>
<p>Print File Entries</p>
<p>Search File Entries</p>
<p>Modify File Attributes</p>
<p>Inquire to File Entries</p>
<p>Utility Functions ...</p>
<p>Data Dictionary Utilities ...</p>
<p>Transfer Entries</p>
<p>Other Options ...</p>
<p>Select Data Dictionary Utilities &lt;TEST ACCOUNT&gt; Option: <strong>???</strong></p>
<p>'Check/Fix DD Structure' Option name: DI DDUCHK</p>
<p>This option looks at the internal structure of files and subfiles</p>
<p>and determines if there are inconsistencies or conflicts between the</p>
<p>information in the data dictionary and the structure of the file's global</p>
<p>nodes. This option will note them and fix or delete the incorrect nodes.</p>
<p>'Find Pointers into a File' Option name: DDU FIND POINTERS INTO A FILE</p>
<p>This utility tries to find all entries in all files pointing to a certain</p>
<p>file. After selecting the file, the options are:</p>
<p>Select one of the following:</p>
<p>1 One particular <em>&lt;file name&gt;</em> Entry</p>
<p>2 All <em>&lt;file name&gt;</em> Entries</p>
<p>3 Non-existent <em>&lt;file name&gt;</em> Entries</p>
<p>4 Entries from a <em>&lt;file name&gt;</em> Search Template</p>
<p>'List File Attributes' Option name: DILIST</p>
<p>This option is used to print data dictionary listings for a given file.</p>
<p>This listing is useful for programmers, analysts, and others interested</p>
<p>in data base structures.</p>
<p>**&gt; Press 'RETURN' to continue, '^' to stop, or '?[option text]' for more</p>
<p>help:</p>
<p>'Map Pointer Relations' Option name: <strong>DI DDMAP</strong></p>
<p>This option prints a map of the pointer relations between a group of</p>
<p>files. The file selection is from the package file or entered</p>
<p>individually.</p>
<p>'Update the META Data Dictionary' Option name: DDU UPDATE META DD</p>
<p>This option will update the META DICTIONARY file.</p>
<p>Shall I show you your secondary menus too? No// <strong>&lt;Enter&gt;</strong> NO</p>
<p>Would you like to see the Common Options? No// <strong>&lt;Enter&gt;</strong> NO</p>
<p>Select Data Dictionary Utilities &lt;TEST ACCOUNT&gt; Option: <strong>UPDATE THE META DATA DICTIONARY</strong></p>
<p>SINCE NO FILE IS IN APPLICATION GROUP 'DDD', the entire FileMan database will be scanned, and a Central Data Dictionary will now be compiled.</p>
<p>OK? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>........................................................</p>
<p>................................................................................</p>
<p>................................................................................</p>
<p>................................................................................</p>
<p>................................................................................</p>
<p>..........</p>
<p>List File Attributes</p>
<p>Map Pointer Relations</p>
<p>Check/Fix DD Structure</p>
<p>Find Pointers into a File</p>
<p>Update the META Data Dictionary</p>
<p>Select Data Dictionary Utilities &lt;TEST ACCOUNT&gt; Option:</p>
<p><span id="_Ref462322872" class="anchor"></span>Figure 114: List File Attributes—Example Meta Data Dictionary</p>
<p>Select OPTION NAME: <strong>DIUSER &lt;Enter&gt;</strong> VA FileMan</p>
<p>VA FileMan Version 22.2</p>
<p>Enter or Edit File Entries</p>
<p>Print File Entries</p>
<p>Search File Entries</p>
<p>Modify File Attributes</p>
<p>Inquire to File Entries</p>
<p>Utility Functions ...</p>
<p>Data Dictionary Utilities ...</p>
<p>Transfer Entries</p>
<p>Other Options ...</p>
<p>Select VA FileMan &lt;TEST ACCOUNT&gt; Option: <strong>INQUIRE TO FILE ENTRIES</strong></p>
<p>Output from what File: META DATA DICTIONARY// <strong>.9 &lt;Enter&gt;</strong> META DATA DICTIONARY</p>
<p>(59188 entries)</p>
<p>Select META DATA DICTIONARY: <strong>NAME</strong></p>
<p>1 NAME PATIENT_NAME 2,.01</p>
<p>2 NAME PATIENT_INSURANCE TYPE_ELIGIBILITY/BENEFIT_NAME 2.322,3.03</p>
<p>3 NAME PATIENT_INSURANCE TYPE_ELIGIBILITY/BENEFIT_CONTACT INFORMATION_NAME</p>
<p>2.3226,.02</p>
<p>4 NAME ERROR MESSAGES_NAME 3.076,.01</p>
<p>5 NAME TITLE_NAME 3.1,.01</p>
<p>Press &lt;Enter&gt; to see more, '^' to exit this list, OR</p>
<p>CHOOSE 1-5: <strong>&lt;Enter&gt;</strong></p>
<p>6 NAME TERMINAL TYPE_NAME 3.2,.01</p>
<p>7 NAME LINE/PORT ADDRESS_NAME 3.23,.01</p>
<p>8 NAME COMMUNICATIONS PROTOCOL_NAME 3.4,.01</p>
<p>9 NAME DEVICE_NAME 3.5,.01</p>
<p>10 NAME SPOOL DOCUMENT_NAME 3.51,.01</p>
<p>Press &lt;Enter&gt; to see more, '^' to exit this list, OR</p>
<p>CHOOSE 1-10: <strong>&lt;Enter&gt;</strong></p>
<p>CHOOSE 281-375:</p>
<p>376 NAME NEW PERSON_NAME 200,.01</p>
<p>377 NAME USER CLASS_NAME 201,.01</p>
<p>378 NAME NURS SERVICE POSITION_NAME 211.3,1</p>
<p>379 NAME NURS LOCATION_NAME 211.4,.01</p>
<p>380 NAME *NURS MI CLASS GROUP_NAME 212.42,.01</p>
<p>Press &lt;Enter&gt; to see more, '^' to exit this list, OR</p>
<p>CHOOSE 281-380: <strong>376 &lt;Enter&gt;</strong> NEW PERSON_NAME 200,.01</p>
<p>Another one:</p>
<p>Standard Captioned Output? Yes// <strong>&lt;Enter&gt;</strong> (Yes)</p>
<p>Include COMPUTED fields: (N/Y/R/B): NO// <strong>BOTH &lt;Enter&gt;</strong> Computed Fields and Record Number</p>
<p>(IEN)</p>
<p>NUMBER: 21324 NAME: NEW PERSON_NAME</p>
<p>LOOKUP TERM: NAME DATA DICTIONARY NUMBER: 200</p>
<p>FIELD NUMBER: .01</p>
<p>DESCRIPTION: Answer must be 3-35 upper-case characters in length, and be in</p>
<p>the format Family(Last),Given(First) Middle Suffix. Enter '??' for more help.</p>
<p>Enter only data that is actually part of the person's name. Do not include</p>
<p>extra titles, identification, flags, local information, etc. Enter the</p>
<p>person's name in 'LAST,FIRST MIDDLE SUFFIX' format. This value must be 3-35</p>
<p>characters in length and may contain only uppercase alpha characters, spaces,</p>
<p>apostrophes, hyphens and one comma. All other characters and parenthetical</p>
<p>text will be removed.</p>
<p>BUILD(S) (c): XU*8.0*120</p>
<p>: XU*8.0*135</p>
<p>: XU*8.0*134</p>
<p>: XU*8.0*551 TYPE (c): FREE TEXT</p>
<p>Select META DATA DICTIONARY:</p>
<h1 id="creating-files-and-fields">Creating Files and Fields</h1>
<h2 id="creating-a-file">Creating a File</h2>
<p>To create a new file, use the Modify File Attributes option and enter the new file name (from 3 to 45 characters in length) when asked:</p>
<p>MODIFY WHAT FILE:</p>
<p>Respond with <strong>YES</strong> when asked “Are you adding ‘<em>xxxxxxxx</em>’ as a new FILE?” (where “<em>xxxxxxxx</em>” represents the new file name).</p>
<h3 id="naming-a-new-file">Naming a New File</h3>
<p>File names should be chosen so that they can easily be distinguished from each other:</p>
<p>MODIFY WHAT FILE: <strong>ENT CLINIC PATIENT</strong></p>
<p><strong>TIP:</strong> If different people are creating files, it can be helpful to include their initials, nick names, or other identifying phrases within the file name.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The name for your new file should <em>not</em> contain any arithmetic or string operators like <strong>+ - * / \ _</strong> or punctuation like a colon (“<strong>:</strong>”).</p>
<p>An internal number <em>must</em> be assigned to this new file. You are prompted with the next available internal file number. You can either simply press <strong>Enter</strong> (a null response) to accept that number, or enter a number <em>not</em> already assigned to a file.</p>
<p>Your new file is now initialized. VA FileMan creates the NAME field (field number .01), which is:</p>
<ul>
<li><p>Free text.</p></li>
<li><p>3 to 30 characters in length.</p></li>
<li><p>N<em>on</em>-numeric.</p></li>
<li><p>Has no leading punctuation.</p></li>
</ul>
<p>You see the following message:</p>
<p>A FreeText NAME Field (#.01) has been created.</p>
<p>The .01 field’s definition can be modified like any other field: it does <em>not</em> have to be FREE TEXT; its label need <em>not</em> be NAME; and so forth. The .01 field should be the key attribute of an entry used to identify it and to order the entries for lookups. However, entries can be identified and ordered by other fields through cross-references.</p>
<p>After creating a new file, you can define any number of fields for the new file, as described in the “<span class="underline">Creating Fields</span>” section.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For an example of a new file using the Modify File Attributes option, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h2 id="creating-fields">Creating Fields</h2>
<p>For any file, you can create fields describing logically related data that pertains to entries in that file. When created, every file automatically receives one field: a NAME field (the #.01 field). You <em>must</em> explicitly define any other fields. All such definitions are made (and changed) with the Modify File Attributes option.</p>
<p>When you create a file, after you give the new file a name, you are asked:</p>
<p>Select FIELD:</p>
<p>Enter a new field name and respond with <strong>YES</strong> when VA FileMan asks:</p>
<p>Are you adding ‘<em>xxxxxxxx</em>’ as a new FIELD?</p>
<p>The “<em>xxxxxxxx</em>” represents the name of the field you entered. After answering <strong>YES</strong> to this prompt, you are now ready to specify what sort of data the new field contains. A field can only be <em>one</em> type of data; the choices are listed in <span class="underline">Table 91</span>.</p>
<h3 id="screen-mode-field-editing">Screen Mode Field Editing</h3>
<p>When using the Modify File Attributes option you can make your field entries in the traditional Scrolling Mode or choose to create, modify, or review a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.</p>
<p>To make your entries in Screen Mode, simply press the <strong>Enter</strong> key to accept the default response at the “Do you want to use the screen-mode version? YES//” prompt.</p>
<p><span class="underline">Figure 115</span> illustrates using Screen Mode when editing the .01 field of the ORDER file (#100):</p>
<p><span id="_Ref389631203" class="anchor"></span>Figure 115: Creating Files and Fields—Choosing Screen Mode when using the Modify File Attributes option</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>ORDER</strong></p>
<p>Select FIELD: <strong>.01 &lt;Enter&gt;</strong> ORDER #</p>
<p>You are taken into Screen Mode where you can edit the properties of the field, as shown in <span class="underline">Figure 116</span>:</p>
<p><span id="_Ref343503280" class="anchor"></span>Figure 116: Creating Files and Fields—Example using the Modify File Attributes option in Screen Mode</p>
<p>Field #.01 in File #100</p>
<p>FIELD LABEL: ORDER # <span class="underline">DATA TYPE...</span> NUMERIC</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: YES</p>
<p>HELP-PROMPT: Enter the order number.</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>NOTE THAT THIS FIELD’S DEFINITION IS NOT EDITABLE</p>
<p>Press &lt;PF1&gt;H for help Insert</p>
<p>Using the Screen Mode version of this option, after entering the field name or number (e.g., .01 field) after the “Select FIELD:” prompt, you are presented with a ScreenMan form (screen) that can be reviewed and edited like any other. In this example, the most important field on this screen is the DATA TYPE field in the upper right corner; it is a required entry. In this example, required entries in Screen Mode are indicated by a caption with a different color and an underline.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Screen Mode highlights the captions for required fields with an underline. However, depending on your terminal or terminal emulator software and your personal preferences, the form of the highlight can vary (e.g., some emulators highlight required field captions in reverse video, a different color, with an underline, or any combination of highlights).<br />
<br />
<strong>REF:</strong> For more information on ScreenMan forms and Screen Mode, see the “ScreenMan” section in the <em>VA FileMan User Manual</em>.</p>
<p>In this case, the DATA TYPE field has been defined as NUMERIC and is <em>not editable</em> as indicated by the message displayed near the bottom of the screen (i.e., “NOTE THAT THIS FIELD’S DEFINITION IS NOT EDITABLE”); this is because a developer has previously edited the definition in a special way. However, unlike the DATA TYPE field, the value of the HELP-PROMPT field (i.e., “Enter the Order number.”), which is the message that is displayed to users when they enter a single question mark (“<strong>?</strong>”) while editing the ORDER # field, can be edited. The DESCRIPTION and TECHNICAL DESCRIPTION fields are multi-line WORD-PROCESSING fields; to edit them, press the <strong>Enter</strong> key and a separate screen opens (i.e., a “popup” window). The DESCRIPTION is displayed to users who enter two question marks (“<strong>??</strong>”) while editing the ORDER # field. The TECHNICAL DESCRIPTION, however, is for internal documentation only.</p>
<h3 id="field-data-types">Field Data Types</h3>
<p>There are seventeen field data types:</p>
<p><span id="_Ref389634414" class="anchor"></span>Table 91: Creating Files and Fields—Data Types</p>
<table>
<tbody>
<tr class="odd">
<td>No.</td>
<td>Data Type</td>
<td>Description</td>
</tr>
<tr class="even">
<td>1</td>
<td>DATE/TIME</td>
<td>Dates with or without time stamps.</td>
</tr>
<tr class="odd">
<td>2</td>
<td>NUMERIC</td>
<td>DATA TYPE fields of NUMERIC, including dollar values.</td>
</tr>
<tr class="even">
<td>3</td>
<td>SET OF CODES</td>
<td>Codes that represent values (e.g., 1=MALE/2=FEMALE).</td>
</tr>
<tr class="odd">
<td>4</td>
<td>FREE TEXT</td>
<td>A single alphanumeric string of characters.</td>
</tr>
<tr class="even">
<td>5</td>
<td>WORD-PROCESSING</td>
<td>A Multiline document of text.</td>
</tr>
<tr class="odd">
<td>6</td>
<td>COMPUTED</td>
<td>A virtual field, values <em>not</em> stored.</td>
</tr>
<tr class="even">
<td>7</td>
<td>POINTER TO A FILE</td>
<td>Referencing an entry in some other file.</td>
</tr>
<tr class="odd">
<td>8</td>
<td>VARIABLE-POINTER</td>
<td>Referencing an entry in a defined set of files.</td>
</tr>
<tr class="even">
<td>9</td>
<td>MUMPS</td>
<td>Used by developers to enter M code.</td>
</tr>
<tr class="odd">
<td>10</td>
<td>BOOLEAN</td>
<td>Boolean field.</td>
</tr>
<tr class="even">
<td>11</td>
<td>LABEL REFERENCE</td>
<td>Label Reference field.</td>
</tr>
<tr class="odd">
<td>12</td>
<td>TIME</td>
<td>Time field.</td>
</tr>
<tr class="even">
<td>13</td>
<td>YEAR</td>
<td>Year field.</td>
</tr>
<tr class="odd">
<td>14</td>
<td>UNIVERSAL TIME</td>
<td>Universal Time field.</td>
</tr>
<tr class="even">
<td>15</td>
<td>FT POINTER</td>
<td>Free Text Pointer field.</td>
</tr>
<tr class="odd">
<td>16</td>
<td>FT DATE</td>
<td>Free Text Date field.</td>
</tr>
<tr class="even">
<td>17</td>
<td>RATIO</td>
<td>Ratio field.</td>
</tr>
</tbody>
</table>
<p>You are asked for the DATA TYPE field value for any field you are creating. You <em>must</em> pick one of these seventeen choices. Data validation checks are then asked depending on the DATA TYPE field value entered. For some data types, a default “HELP” prompt is automatically composed.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For examples of entering a field attributes in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="datetime-data-type-1">DATE/TIME Data Type</h3>
<p>A DATA TYPE field defined as DATE/TIME allows you to enter a minimum and maximum date. You can also indicate whether the date can be entered with an imprecise date (e.g., JUL 1969) or with the time-of-day (e.g., JUL 20@4). VA FileMan does <em>not</em> accept dates <em>before</em> 1700.</p>
<p>For example, when defining a DATA TYPE field value as DATE/TIME, you are asked the questions shown in <span class="underline">Figure 117</span>:</p>
<p><span id="_Ref389634454" class="anchor"></span>Figure 117: Creating Files and Fields—Defining a DATA TYPE field value as DATE/TIME in Scrolling Mode (1 of 2)</p>
<p>Select FIELD: <strong>DATE OF BIRTH</strong></p>
<p>Are you adding ‘DATE OF BIRTH’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF DATE OF BIRTH: <strong>DATE/TIME</strong></p>
<p>EARLIEST DATE (OPTIONAL): <strong>1/1/1860 &lt;Enter&gt;</strong> (JAN 01, 1860)</p>
<p>LATEST DATE: <strong>1963 &lt;Enter&gt;</strong> (1963)</p>
<p>CAN DATE BE IMPRECISE (Y/N): YES// <strong>&lt;Enter&gt;</strong></p>
<p>CAN TIME OF DAY BE ENTERED (Y/N): NO// <strong>&lt;Enter&gt;</strong> NO</p>
<p>If you reply <strong>YES</strong> to the “CAN TIME OF DAY BE ENTERED (Y/N): NO//” prompt, you would then be asked “CAN SECONDS BE ENTERED?”.</p>
<p><span id="_Toc342980804" class="anchor"></span>Figure 118: Creating Files and Fields—Defining a DATA TYPE field value as DATE/TIME in Scrolling Mode (2 of 2)</p>
<p>WILL DATE OF BIRTH FIELD BE MULTIPLE: No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>IS DATE OF BIRTH ENTRY MANDATORY (Y/N): NO// <strong>Y &lt;Enter&gt;</strong> YES</p>
<p>...</p>
<p>‘HELP’-PROMPT: TYPE A DATE BETWEEN 1/1/1860 AND 1963</p>
<p>Replace <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>A default help prompt is automatically written for you with the DATA TYPE field of DATE/TIME. You can change this prompt using the “<strong>Replace ... With</strong>” syntax.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This help information is displayed when the user inputs a single question mark (“<strong>?</strong>”) when editing this field.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The MINIMUM LENGTH, MAXIMUM LENGTH, and PATTERN MATCH control the values a user can <em>input</em> for the field. You can control the maximum length of <em>output</em> in FileMan reports by setting MAXIMUM LENGTH in the Input Transform option on the Utility menu.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field value defined as DATE/TIME in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="numeric-data-type">NUMERIC Data Type</h3>
<p>A DATA TYPE field defined as NUMERIC requires you to enter the lowest and highest values allowed, the maximum number of decimal digits allowed, and to state whether dollar values are allowed (e.g., $33).</p>
<p>For example, when defining a DATA TYPE field value as NUMERIC, you are asked the questions in <span class="underline">Figure 119</span>:</p>
<p><span id="_Ref389634492" class="anchor"></span>Figure 119: Creating Files and Fields—Defining a DATA TYPE field value as NUMERIC in Scrolling Mode (1 of 2)</p>
<p>Select FIELD: <strong>AGE AT ONSET</strong></p>
<p>Are you adding ‘AGE AT ONSET’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>DATA TYPE OF AGE AT ONSET: <strong>NUMERIC</strong></p>
<p>INCLUSIVE LOWER BOUND: <strong>0</strong></p>
<p>INCLUSIVE UPPER BOUND: <strong>100</strong></p>
<p>IS THIS A DOLLAR AMOUNT (Y/N): NO// <strong>&lt;Enter&gt;</strong></p>
<p>If you answer <strong>YES</strong> at the “IS THIS A DOLLAR AMOUNT (Y/N):” prompt, VA FileMan allows users to precede input data with a dollar sign (“<strong>$</strong>”) and shows up to two decimal places.</p>
<p><span id="_Toc342980806" class="anchor"></span>Figure 120: Creating Files and Fields—Defining a DATA TYPE field value as NUMERIC in Scrolling Mode (2 of 2)</p>
<p>MAXIMUM NUMBER OF FRACTIONAL DIGITS: 0// <strong>&lt;Enter&gt;</strong></p>
<p>WILL AGE AT ONSET FIELD BE MULTIPLE? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>IS AGE AT ONSET ENTRY MANDATORY (Y/N): NO// <strong>&lt;Enter&gt;</strong> NO</p>
<p>....</p>
<p>‘HELP’-PROMPT: Type a Number between 0 and 100, 0 Decimal Digits</p>
<p>Replace <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>A default help prompt is automatically written for you with the DATA TYPE field value of NUMERIC. You can change this prompt using the “<strong>Replace ... With</strong>” syntax.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This help information is displayed when the user inputs a single question mark (“<strong>?</strong>”) when editing this field.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field value defined as NUMERIC in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="set-of-codes-data-type">SET OF CODES Data Type</h3>
<p>A DATA TYPE field defined as a SET OF CODES can be used to restrict a user to just a few possible values (e.g., <strong>YES</strong> or <strong>NO</strong>). When defining a DATA TYPE field value of SET OF CODES, enter a valid code and a translation of what each code means. The user can enter the code, the full meaning, or a portion of the full meaning. If the field is set up to require only a one-character response (as shown in <span class="underline">Figure 121</span>), this data type can simplify the user’s data entry.</p>
<p>VA FileMan has only a limited amount of space to store the codes and their external values. If the limit is exceeded, you are told “TOO MUCH!!--SHOULD BE A ‘POINTER’, NOT ‘SET’.” The DATA TYPE field value of SET OF CODES is sometimes referred to as a SET.</p>
<p>For example, when defining a DATA TYPE field value as a SET OF CODES, you are asked questions shown in <span class="underline">Figure 121</span>:</p>
<p><span id="_Ref349139780" class="anchor"></span>Figure 121: Creating Files and Fields—Defining a DATA TYPE field value as SET OF CODES in Scrolling Mode</p>
<p>Select FIELD: <strong>SEX</strong></p>
<p>Are you adding ‘SEX’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF SEX: <strong>SET &lt;Enter&gt;</strong> OF CODES</p>
<p>INTERNALLY-STORED CODE: <strong>m &lt;Enter&gt;</strong> WILL STAND FOR: <strong>MALE</strong></p>
<p>INTERNALLY-STORED CODE: <strong>f &lt;Enter&gt;</strong> WILL STAND FOR: <strong>FEMALE</strong></p>
<p>INTERNALLY-STORED CODE: <strong>&lt;Enter&gt;</strong></p>
<p>WILL SEX FIELD BE MULTIPLE: No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>IS SEX ENTRY MANDATORY (Y/N): No// <strong>Y &lt;Enter&gt;</strong> YES</p>
<p>...</p>
<p>‘HELP’-PROMPT: <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>In this example, “<strong>m</strong>” stands for Male and “<strong>f</strong>” stands for Female. Numbers as well as alphabetic characters can be used.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field value defined as a SET OF CODES in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="free-text-data-type">FREE TEXT Data Type</h3>
<p>A DATA TYPE field defined as FREE TEXT allows you to enter the maximum and minimum allowable string length of the FREE TEXT data. You can also enter an M PATTERN MATCH that input data has to match.</p>
<p>For example, when defining a DATA TYPE field value as FREE TEXT, you are asked the questions shown in <span class="underline">Figure 122</span>:</p>
<p><span id="_Ref389634549" class="anchor"></span>Figure 122: Creating Files and Fields—Defining a DATA TYPE field value as FREE TEXT in Scrolling Mode (1 of 3)</p>
<p>Select FIELD: <strong>DIAGNOSIS</strong></p>
<p>Are you adding ‘DIAGNOSIS’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF DIAGNOSIS: <strong>FREE TEXT</strong></p>
<p>MINIMUM LENGTH: <strong>3</strong></p>
<p>MAXIMUM LENGTH: <strong>30</strong></p>
<p>(OPTIONAL) PATTERN MATCH (IN ‘X’): <strong>&lt;Enter&gt;</strong></p>
<p>The PATTERN MATCH is written in M code. If input data violates the PATTERN MATCH or the Minimum/Maximum lengths, the data is <em>not</em> accepted and the user is shown the help prompt information.</p>
<p><span id="_Toc342980809" class="anchor"></span>Figure 123: Creating Files and Fields—Defining a DATA TYPE field value as FREE TEXT in Scrolling Mode (2 of 3)</p>
<p>WILL DIAGNOSIS FIELD BE MULTIPLE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>IS DIAGNOSIS ENTRY MANDATORY(Y/N): NO// <strong>&lt;Enter&gt;</strong> NO</p>
<p>SHOULD USER SEE AN “ADDING A NEW DIAGNOSIS?” MESSAGE FOR NEW</p>
<p>ENTRIES (Y/N): <strong>N &lt;Enter&gt;</strong> NO</p>
<p>HAVING ENTERED OR EDITED ONE DIAGNOSIS, SHOULD USER BE ASKED</p>
<p>ANOTHER (Y/N): <strong>Y &lt;Enter&gt;</strong> YES</p>
<p>With these specifications, the user is <em>not</em> given a confirming message when new subentries are added to the Multiple. The user is allowed to enter several diagnoses in a row for a given patient.</p>
<p><span id="_Toc342980810" class="anchor"></span>Figure 124: Creating Files and Fields—Defining a DATA TYPE field value as FREE TEXT in Scrolling Mode (3 of 3)</p>
<p>....</p>
<p>....</p>
<p>‘HELP’-PROMPT: Answer must be 3-30 characters in length.</p>
<p>Replace <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>A default help prompt is automatically written for you with the DATA TYPE field value of FREE TEXT. You can change this prompt using the “<strong>Replace ... With</strong>” syntax.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This help information is displayed when the user inputs a single question mark (“<strong>?</strong>”) when editing this field.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field value defined as FREE TEXT in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="word-processing-data-type-1">WORD-PROCESSING Data Type</h3>
<p>A DATA TYPE field defined as WORD-PROCESSING allows entry of unlimited free-text data. The data can be edited, formatted, and printed with word-processing text editors.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a description of VA FileMan’s native text editors, see the “Screen Editor” and “Line Editor” sections in the <em>VA FileMan User Manual</em>.</p>
<p>For example, when defining a DATA TYPE field value as WORD-PROCESSING, you are asked the questions shown in <span class="underline">Figure 125</span>:</p>
<p><span id="_Ref389634584" class="anchor"></span>Figure 125: Creating Files and Fields—Defining a DATA TYPE field value as WORD-PROCESSING in Scrolling Mode</p>
<p>Select FIELD: <strong>HISTORY</strong></p>
<p>Are you adding ‘HISTORY’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF HISTORY: <strong>WORD-PROCESSING</strong></p>
<p>SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE? Yes// <strong>&lt;Enter&gt;</strong> (Yes)</p>
<p>....</p>
<p>....</p>
<p>‘HELP’-PROMPT: <strong>SUBJECTIVE NARRATIVE OF PATIENT’S PROBLEM HISTORY</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>If you answer <strong>YES</strong> to the “SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE” question, text is automatically wrapped at word boundaries to fit in the column in which it is being printed. Usually, this is the preferred way to print text.</p>
<p><strong>TIP:</strong> When it is important that lines of text be printed exactly as they were entered, answer <strong>NO</strong> to the “SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE” question. Thus, text is output in no-wrap mode. You would probably want a spreadsheet or a restaurant menu printed in no-wrap mode.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If the column in which no-wrap text is being printed is too short to accommodate the line of text, your printer can break the line in the middle of words or otherwise destroy the formatting of the text.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field value defined as WORD-PROCESSING in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="computed-data-type">COMPUTED Data Type</h3>
<p>When a DATA TYPE field is defined as COMPUTED, its value is determined at the time the field is accessed. This computation is based on an expression stored in the data dictionary. The field value (or data) itself is <em>not</em> stored in the data dictionary. The COMPUTED expression is constructed using field names, literals or constants, functions, and operators.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a complete explanation of these elements, see the “<span class="underline">Computed Expressions</span>” section.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The functions referred to above are VA FileMan functions stored in the FUNCTION file (#.5), <em>not</em> M functions. A developer with programmer access can also enter M code in a COMPUTED field. The M code <em>must</em> set the variable “X” to the COMPUTED field value.</p>
<p>For example, when defining a DATA TYPE field value as COMPUTED, you are asked the questions shown in <span class="underline">Figure 126</span>:</p>
<p><span id="_Ref389634612" class="anchor"></span>Figure 126: Creating Files and Fields—Defining a DATA TYPE field value as COMPUTED in Scrolling Mode (1 of 2)</p>
<p>Select FIELD: <strong>AGE</strong></p>
<p>Are you adding ‘AGE’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF AGE: <strong>COMPUTED</strong></p>
<p>‘COMPUTED-FIELD’ EXPRESSION: <strong>TODAY-(DATE OF BIRTH)\365.25</strong></p>
<p>....</p>
<p>NUMBER OF FRACTIONAL DIGITS TO OUTPUT (ONLY ANSWER IF NUMBER-VALUED): <strong>2</strong></p>
<p>For this example, we assume the DATE OF BIRTH field was previously created. Thus, we can reference it in the “‘COMPUTED-FIELD’ EXPRESSION:” prompt. Also, the “NUMBER OF FRACTIONAL DIGITS TO OUTPUT (ONLY ANSWER IF NUMBER-VALUED):” prompt is asking whether you should enter the number of digits that should normally appear to the right of the decimal point when this field is displayed.</p>
<p><span id="_Toc342980813" class="anchor"></span>Figure 127: Creating Files and Fields—Defining a DATA TYPE field value as COMPUTED in Scrolling Mode (2 of 2)</p>
<p>SHOULD VALUE ALWAYS BE INTERNALLY ROUNDED TO 2 DECIMAL PLACES? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>WHEN TOTALLING THIS FIELD, SHOULD THE SUM BE COMPUTED FROM</p>
<p>THE SUMS OF THE COMPONENT FIELDS? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>LENGTH OF FIELD: 8// <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field defined as COMPUTED in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="pointer-to-a-file-data-type">POINTER TO A FILE Data Type</h3>
<p>A DATA TYPE field defined as a POINTER TO A FILE requires you to enter the name or number of the pointed-to file and that file <em>must</em> already exist (defined previously).</p>
<p>For example, when defining a DATA TYPE field value as POINTER TO A FILE, you are asked the questions shown in <span class="underline">Figure 128</span>:</p>
<p><span id="_Ref389634646" class="anchor"></span>Figure 128: Creating Files and Fields—Defining a DATA TYPE field value as POINTER TO A FILE in Scrolling Mode (1 of 3)</p>
<p>Select FIELD: <strong>RELIGION</strong></p>
<p>Are you adding ‘RELIGION’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF RELIGION: <strong>POINTER &lt;Enter&gt;</strong> TO A FILE</p>
<p>POINT TO WHICH FILE: <strong>RELIGION</strong></p>
<p>The pointed to file <em>must</em> already exist on your system. If you enter a single question mark (“<strong>?</strong>”) at the “POINT TO WHICH FILE:” prompt, you are presented with a list of the available files.</p>
<p><span id="_Toc342980815" class="anchor"></span>Figure 129: Creating Files and Fields—Defining a DATA TYPE field value as POINTER TO A FILE in Scrolling Mode (2 of 3)</p>
<p>SHOULD ‘ADDING A NEW RELIGION FILE ENTRY’ (“LAYGO”)</p>
<p>BE ALLOWED WHEN ANSWERING THE ‘RELIGION’ QUESTION? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>By answering <strong>NO</strong> to this prompt, users who are editing patient data are <em>not</em> able to add a new entry on-the-fly to the RELIGION file. This prompt depends on whether you have LAYGO access to the file or <em>not</em>.</p>
<p><span id="_Toc342980816" class="anchor"></span>Figure 130: Creating Files and Fields—Defining a DATA TYPE field value as POINTER TO A FILE in Scrolling Mode (3 of 3)</p>
<p>WILL RELIGION FIELD BE MULTIPLE? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>IS RELIGION ENTRY MANDATORY (Y/N): NO// <strong>&lt;Enter&gt;</strong> NO</p>
<p>....</p>
<p>‘HELP’-PROMPT: <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field value defined as POINTER TO A FILE in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="variable-pointer-data-type">VARIABLE-POINTER Data Type</h3>
<p>A DATA TYPE field defined as a VARIABLE-POINTER (as with the POINTER TO A FILE DATA TYPE) requires you to enter the names or numbers of the pointed-to files and those files <em>must</em> already exist (defined previously). Additionally, an order, message, and prefix <em>must</em> be associated with each file.</p>
<p>For example, when defining a DATA TYPE field value as VARIABLE-POINTER, you are asked the questions shown in <span class="underline">Figure 131</span>:</p>
<p><span id="_Ref389634676" class="anchor"></span>Figure 131: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (1 of 5)</p>
<p>Select FIELD: <strong>PROVIDER</strong></p>
<p>Are you adding ‘PROVIDER’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>DATA TYPE OF PROVIDER: <strong>VARIABLE-POINTER</strong></p>
<p>Select VARIABLE POINTER: <strong>PROVIDER</strong></p>
<p>You answer the “Select VARIABLE POINTER:” prompt with the name or number of an existing file.</p>
<p><span id="_Toc342980818" class="anchor"></span>Figure 132: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (2 of 5)</p>
<p>Are you adding ‘PROVIDER’ as a new VARIABLE-POINTER? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>VARIABLE-POINTER: PROVIDER// <strong>&lt;Enter&gt;</strong></p>
<p>MESSAGE: <strong>Staff Provider</strong></p>
<p>ORDER: <strong>1</strong></p>
<p>PREFIX: <strong>S</strong></p>
<p>SHOULD USER BE ALLOWED TO ADD A NEW ENTRY: <strong>NO &lt;Enter&gt;</strong> NO</p>
<p>The MESSAGE is part of the online help associated with the VARIABLE-POINTER field when a single question mark (“<strong>?</strong>”) is entered during editing. In this example, the PROVIDER file MESSAGE is associated with “Staff Provider.”</p>
<p>The several pointed-to files are searched based on their ORDER. In this example, since the ORDER for the PROVIDER VARIABLE-POINTER is one, the PROVIDER file is the first file searched.</p>
<p>The PREFIX field is used to reference a particular pointed-to file. To see the entries in a particular file, you would enter that file’s PREFIX followed by a period and a question mark at the VARIABLE-POINTER’s field name (e.g., in this example, entering “<strong>S.?</strong>” would give you the option to list the entries in the PROVIDER file). If you want to refer to only one of the several pointed-to files, put that file’s PREFIX followed by a period at the VARIABLE-POINTER’s field name (e.g., in this example, entering “<strong>S.</strong>” would refer you to the PROVIDER file).</p>
<p>By answering <strong>NO</strong> to the “SHOULD USER BE ALLOWED TO ADD A NEW ENTRY:” prompt, the user is <em>not</em> allowed to add new entries on-the-fly to the PROVIDER file (the same as the RELIGION field entered as a POINTER TO A FILE). If you had answered <strong>YES</strong>, then new entries could be added to the PROVIDER file.</p>
<p><span id="_Toc342980819" class="anchor"></span>Figure 133: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (3 of 5)</p>
<p>Select VARIABLE-POINTER: <strong>16 &lt;Enter&gt;</strong> PERSON</p>
<p>Are you adding ‘PERSON’ as a new VARIABLE-POINTER? (the 2ND)? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>VARIABLE-POINTER: PERSON// <strong>&lt;Enter&gt;</strong></p>
<p>MESSAGE: <strong>Other Provider</strong></p>
<p>ORDER: <strong>2</strong></p>
<p>PREFIX: <strong>O</strong></p>
<p>SHOULD USER BE ALLOWED TO ADD A NEW ENTRY: <strong>YES &lt;Enter&gt;</strong> YES</p>
<p>In this example, a second VARIABLE-POINTER was created to the (fictitious) PERSON file (#16). By answering <strong>YES</strong> to the “SHOULD USER BE ALLOWED TO ADD A NEW ENTRY:” prompt, users who are editing patient data are allowed to add entries to the (fictitious) PERSON file.</p>
<p><span id="_Toc342980820" class="anchor"></span>Figure 134: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (4 of 5)</p>
<p>Select VARIABLE-POINTER: <strong>&lt;Enter&gt;</strong></p>
<p>You stop identifying files for a VARIABLE-POINTER by simply pressing the <strong>Enter</strong> key without any additional entries at the “Select VARIABLE-POINTER:” prompt.</p>
<p><span id="_Toc342980821" class="anchor"></span>Figure 135: Creating Files and Fields—Defining a DATA TYPE field value as VARIABLE-POINTER in Scrolling Mode (5 of 5)</p>
<p>WILL PROVIDER FIELD BE MULTIPLE? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>IS PROVIDER ENTRY MANDATORY (Y/N): NO// <strong>&lt;Enter&gt;</strong> NO</p>
<p>‘HELP’-PROMPT: <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>After entering both VARIABLE-POINTERS, when you enter a single question mark (“<strong>?</strong>”) at the “PROVIDER” field prompt, you see the help message shown in <span class="underline">Figure 136</span>:</p>
<p><span id="_Ref389634706" class="anchor"></span>Figure 136: Creating Files and Fields—Example of help associated with a VARIABLE-POINTER field</p>
<p>PROVIDER: <strong>?</strong></p>
<p>Enter one of the following:</p>
<p>S.EntryName to select a Staff Provider</p>
<p>O.EntryName to select a Other Provider</p>
<p>To see the entries in any particular file type &lt;Prefix.?&gt;</p>
<p>In this example, if you simply enter a name at the “PROVIDER:” prompt, then the system searches each of the VARIABLE-POINTER field files for the name you have entered.</p>
<p>If a match is found, the system asks you if it is the correct entry. However, if you know the file the entry should be in, then you can speed processing by using the following syntax to select an entry:</p>
<ul>
<li><p><strong>PREFIX.entry name </strong></p></li>
<li><p><strong>MESSAGE.entry name </strong></p></li>
<li><p><strong>File Name.entry name </strong></p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You do <em>not</em> need to enter the entire file name or message to direct the lookup. Using the first few characters suffices.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can review and change a file’s field attributes easily by running the Modify File Attributes option in Screen Mode.<br />
<br />
<strong>REF:</strong> For an example of entering a DATA TYPE field defined as a VARIABLE-POINTER in Screen Mode, see the “<span class="underline">Examples of File and Field Creation</span>” section.</p>
<h3 id="mumps-data-type">MUMPS Data Type</h3>
<p>Those with programmer access can define a field with a DATA TYPE field value of MUMPS. This MUMPS-valued field is designed specifically to contain executable M code. The code entered into this kind of field is verified to be valid M code that conforms to VA programming standards.</p>
<p>DATA TYPE fields defined as MUMPS are usually used in files that are part of developer tools systems. For example, the OPTION file (#19) is part of the MENU MANAGEMENT system used in the VA for assigning menus and associated actions to each computer user. The ENTRY ACTION field on the OPTION file (#19) is defined as a DATA TYPE field of MUMPS. This field allows a developer who is creating an option to enter M code to do any setup and initialization that is needed before the end user can do the action allowed by the option.</p>
<h3 id="boolean-data-type">BOOLEAN Data Type</h3>
<p>A field defined as a BOOLEAN data type can have only two entry choices: YES or NO. The internal values of the BOOLEAN data type are 1 for YES and 0 for NO.</p>
<p>Example:</p>
<p>External: YES Internal: 1</p>
<p>External: NO Internal: 0</p>
<h3 id="label-reference-data-type">LABEL REFERENCE Data Type</h3>
<p>A field defined as a LABEL REFERENCE data type is designed to store a tag and routine entry of the format, TAG^ROUTINE. It is stored as a free-text field.</p>
<p>Example:</p>
<p>External: TAG^ROUTINE Internal: TAG^ROUTINE</p>
<h3 id="time-data-type">TIME Data Type</h3>
<p>A field defined as a TIME data type can accept many of the date/time entries, but only stores the TIME portion.</p>
<p>Example:</p>
<p>External: 15:09:43 Internal: 150943</p>
<h3 id="year-data-type">YEAR Data Type</h3>
<p>A field defined as a YEAR data type can accept many of the date entries, but only stores the YEAR portion.</p>
<p>Example:</p>
<p>External: 2016 Internal: 3160000</p>
<h3 id="universal-time-data-type">UNIVERSAL TIME Data Type</h3>
<p>A field defined as a UNIVERSAL TIME field can accept many of the date/time entries and stores the date/time in a format with the local time and includes an indicator showing the offset from Universal Time.</p>
<p>The first 14 characters of the internal storage of the UNIVERSAL TIME data type are exactly like the current DATE/TIME data type that includes seconds. The three characters in position 15, 16, and 17 indicate the UTC time offset in five (5) minute increments. In the example below: (440-500)/12=-5, this is a negative five hour offset from UTC.</p>
<p>Example:</p>
<p>External: JAN 6,2016@08:03:36 (UTC-5:00) Internal: 3160106.080336440</p>
<h3 id="ft-pointer-data-type">FT POINTER Data Type</h3>
<p>A field defined as a FT POINTER field works similar to the POINTER data type, but internally stores the free text that was returned from the pointed-to value.</p>
<p>Example:</p>
<p>External: PATCH,USER Internal: PATCH,USER</p>
<h3 id="ft-date-data-type">FT DATE Data Type</h3>
<p>A field defined as a FT DATE field works similar to the DATE/TIME data type, but internally stores the free text that was input by the user to determine the date.</p>
<p>Example:</p>
<p>External: T-1 Internal: T-1</p>
<h3 id="ratio-data-type">RATIO Data Type</h3>
<p>A field defined as a RATIO field is designed to accept two numbers with a colon “<strong>:</strong>” between the two numbers. It is formatted and stored like a mathematical ratio.</p>
<p>Example:</p>
<p>External: 1:14 Internal: 1:14</p>
<h2 id="multiple-valued-field-multiples">Multiple-Valued Field (Multiples)</h2>
<p>When you create a DATA TYPE field value of any of the following:</p>
<ul>
<li><p>DATE/TIME</p></li>
<li><p>NUMERIC</p></li>
<li><p>SET OF CODES</p></li>
<li><p>FREE TEXT</p></li>
<li><p>POINTER TO A FILE</p></li>
<li><p>VARIABLE-POINTER</p></li>
<li><p>BOOLEAN</p></li>
<li><p>LABEL REFERENCE</p></li>
<li><p>TIME</p></li>
<li><p>YEAR</p></li>
<li><p>UNIVERSAL TIME</p></li>
<li><p>FT POINTER</p></li>
<li><p>FT DATE</p></li>
<li><p>RATIO</p></li>
</ul>
<p>After entering type-specific information, you are asked the following:</p>
<p>WILL FIELD BE MULTIPLE: NO//</p>
<p>Answering <strong>YES</strong> to this prompt, means that:</p>
<ul>
<li><p>There can be more than one occurrence of a data value for this field in the entry (e.g., more than one DIAGNOSIS in a PATIENT file [#2] entry)</p></li>
<li><p>Subfields can later be associated with this field (e.g., each DIAGNOSIS could have a DATE OF ONSET)</p></li>
</ul>
<p>The “MULTIPLE:” prompt is <em>not</em> asked for DATA TYPE field values of WORD-PROCESSING, since, by definition, such types take Multiline values.</p>
<p>Two special questions are asked about Multiple-valued fields:</p>
<p>SHOULD USER SEE AN ‘ADDING NEW ENTRY?’ MESSAGE FOR NEW ENTRIES (Y/N)</p>
<p>Answering <strong>NO</strong> here means that the new Diagnosis (or whatever the Multiple is named) gets added <em>without</em> a verification prompt being asked.</p>
<p>HAVING ENTERED OR EDITED ONE, SHOULD USER BE ASKED ANOTHER (Y/N):</p>
<p>Answering either of the following:</p>
<ul>
<li><p><strong>YES—</strong>User is prompted to put in several diagnoses, one right after the other.</p></li>
<li><p><strong>NO—</strong>User is <em>not</em> prompted to enter a second value.</p></li>
</ul>
<h2 id="making-a-field-mandatory">Making a Field Mandatory</h2>
<p>For all DATA TYPE field values except COMPUTED, as you create the field, you are asked the following:</p>
<p>IS “<em>xxxxxxxx</em>” ENTRY MANDATORY (Y/N): NO//</p>
<p>The “<em>xxxxxxxx</em>” represents the name of the field. If you answer <strong>YES</strong>, the user of your file is <em>not</em> allowed to skip the field <em>without</em> entering data for a particular entry.</p>
<h2 id="field-number-sequences">Field Number Sequences</h2>
<p>It is often useful to sequence the fields so that when you are using the Enter or Edit File Entries option and you ask to edit ALL fields, you will see the field questions presented in a natural order. If you want to add a CURRENT AGE field to the PATIENT file (32) and place it between DATE OF BIRTH (#2) and RELIGION (#3), the dialogue would be:</p>
<p><span id="_Toc342980823" class="anchor"></span>Figure 137: Creating Files and Fields—Example of “sequencing” a field</p>
<p>Select FIELD: <strong>2.5</strong></p>
<p>Are you adding a new FIELD: No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>LABEL: <strong>CURRENT AGE</strong></p>
<p>FIELD NUMBER: 2.5// <strong>&lt;Enter&gt;</strong></p>
<p>You could have specified any number between two and three.</p>
<h2 id="number-.001-field">NUMBER (.001) Field</h2>
<p>All files have unique numbers associated with each of their entries. Defining the NUMBER field allows you to use the Internal Entry Number (IEN, also called the record number) as you would any other field. Usually, this means that someone (e.g., Herr Doktor ONE FMPROVIDER in the case of the [fictitious] MOZART WORK file) has gone to the trouble of creating a numbering scheme for the entries. To set up a file in which a unique Internal Entry Number is always matched with each entry Name, you can create a field numbered .001 for the file:</p>
<p><span id="_Ref452359320" class="anchor"></span>Figure 138: Creating Files and Fields—Creating a NUMBER (#.001) field</p>
<p>Select FILE: <strong>MOZART WORK</strong></p>
<p>Select FIELD: <strong>.001</strong></p>
<p>Are you adding a new FIELD? No// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<p>LABEL: <strong>KOECHEL NUMBER </strong></p>
<p>FIELD NUMBER: .001// <strong>&lt;Enter&gt;</strong></p>
<p>DATA TYPE OF KOECHEL NUMBER: <strong>NUMERIC</strong></p>
<p>INCLUSIVE LOWER BOUND: <strong>1</strong></p>
<p>INCLUSIVE UPPER BOUND: <strong>626</strong></p>
<p>IS THIS A DOLLAR AMOUNT (Y/N): NO// <strong>&lt;Enter&gt;</strong></p>
<p>MAXIMUM NUMBER OF FRACTIONAL DIGITS: 0// <strong>&lt;Enter&gt;</strong></p>
<p>HELP PROMPT: Type a Number between 1 and 626, 0 Decimal Digits.</p>
<p>Replace <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>The previous dialogue (<span class="underline">Figure 138</span>) is what would normally create a NUMERIC-valued field. In this case, you are describing the file’s PRIMARY KEY, or Internal Entry Number.</p>
<p>Once such a .001 field is defined, you can create a new file entry that might look like this:</p>
<p><span id="_Toc342980825" class="anchor"></span>Figure 139: Creating Files and Fields—Example of creating a new file entry with a .001 field defined</p>
<p>Select MOZART WORK: <strong>EINE KLEINE NACHTMUSIK</strong></p>
<p>Are you adding a new MOZART WORK? No// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<p>KOECHEL NUMBER: <strong>525</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The PRIMARY KEY was added with VA FileMan 22.0.</p>
<p>More importantly, with a .001 field defined, an entry in the file can always be looked up by the Internal Entry Number (IEN), irrespective of any other cross-referencing that exists for the file. Thus:</p>
<p><span id="_Toc342980826" class="anchor"></span>Figure 140: Creating Files and Fields—Looking up an entry in a file using the IEN</p>
<p>Select MOZART WORK: <strong>525 &lt;Enter&gt;</strong> EINE KLEINE NACHTMUSIK</p>
<p>Record Numbers <em>must</em> always be positive and canonic (i.e., they <em>cannot</em> contain alpha suffixes, leading zeroes, or trailing fractional zeroes).</p>
<p>Incidentally, the .001 field example (above) illustrates how using the Modify File Attributes option can force a field to have a particular number (.001 in this case). It is done by entering the new Number first, and then the new Label.</p>
<h3 id="forced-lookups-using-numbers">Forced Lookups Using Numbers</h3>
<p>Number-meaningful lookups can be forced by prefixing the numeric input with the <strong>`</strong> (accent grave). If FMPATIENT,5’s Internal Entry Number (IEN) in the PATIENT file (#2) is 355, he could be identified as follows:</p>
<p><span id="_Toc472602236" class="anchor"></span>Figure 141: Creating Files and Fields—Looking up an entry in a file using the FMPATIENT, 5’s IEN</p>
<p>Select PATIENT NAME: <strong>`355 &lt;Enter&gt;</strong> FMPATIENT,5</p>
<p>If the .01 field of a file is a pointer to another file, an entry can be looked up by prefacing the IEN of the entry in the pointed-to file with `` (double accent grave). For example, the .01 field of the Patient Allergies file (#120.8) is a pointer to the Patient file. If the IEN of Patient file entry TEST,PHARMACY is 4, then you could choose the Patient Allergies entry that points to TEST,PHARMACY like this:</p>
<p><span id="_Toc472602237" class="anchor"></span>Figure 142: Creating Files and Fields—Looking up an entry in a file using the IEN TEST, PHARMACY</p>
<p>Output from what File: PATIENT ALLERGIES// (4 entries)</p>
<p>Select PATIENT ALLERGIES: ``4 TEST,PHARMACY 3-3-60</p>
<h2 id="changing-and-deleting-fields">Changing and Deleting Fields</h2>
<ul>
<li><p><span class="underline">Changing Field Attributes</span></p></li>
<li><p><span class="underline">Changing a Field’s DATA TYPE Value</span></p></li>
<li><p><span class="underline">Deleting an Existing Field</span></p></li>
</ul>
<h3 id="changing-field-attributes">Changing Field Attributes</h3>
<p>After creating a field in a file, you can return to <strong>change</strong> or <strong>delete</strong> the field within the Modify File Attributes option, simply by entering the field name (or number) when asked:</p>
<p>Select FIELD:</p>
<p>When you return to the field in this option, you can change a field’s:</p>
<ul>
<li><p>Label (Name)</p></li>
<li><p>Title (long form of its name)</p></li>
<li><p>Audit and Audit Conditions (to indicate which fields should be audited)</p></li>
<li><p>Read/Delete/Write</p></li>
<li><p>Source</p></li>
<li><p>Destination</p></li>
<li><p>Group</p></li>
<li><p>Description of the field, a WORD-PROCESSING field (what the user sees after entering two question marks)</p></li>
<li><p>Technical Description</p></li>
</ul>
<p>After you are presented with these attributes of the field, you can change the attributes defined during the initial definition of the field as described in the “<span class="underline">Creating Fields</span>” section.</p>
<p>For example, say you have created an SSN field (Social Security Number) in the PATIENT file (#2) and would now like to edit the field:</p>
<p><span id="_Toc342980827" class="anchor"></span>Figure 143: Editing a Field—LABEL, TITLE, and AUDIT attributes</p>
<p>Select FIELD: <strong>SSN</strong></p>
<p>LABEL: SSN// <strong>&lt;Enter&gt;</strong></p>
<p>TITLE: <strong>Social Security Number</strong></p>
<p>AUDIT: <strong>YES, ALWAYS</strong></p>
<p>AUDIT CONDITION: <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Auditing is described in the “<span class="underline">Auditing</span>” section.</p>
<p><span id="_Toc342980828" class="anchor"></span>Figure 144: Editing a Field—ACCESS Privileges attributes</p>
<p>READ ACCESS (OPTIONAL): <strong>&lt;Enter&gt;</strong></p>
<p>DELETE ACCESS (OPTIONAL): <strong>&lt;Enter&gt;</strong></p>
<p>WRITE ACCESS (OPTIONAL): <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Control of various kinds of access to files is described in the “<span class="underline">Data Security</span>” section.</p>
<p><span id="_Toc342980829" class="anchor"></span>Figure 145: Editing a Field—SOURCE, DESTINATION, GROUP attributes</p>
<p>SOURCE: <strong>&lt;Enter&gt;</strong></p>
<p>Select DESTINATION: <strong>&lt;Enter&gt;</strong></p>
<p>Select GROUP: <strong>DEMOG</strong></p>
<p>A GROUP is a shorthand way for the user to refer to several fields at once when using the Print File Entries or the Enter or Edit File Entries options. Here, SSN is being assigned to the DEMOG group.</p>
<p><span id="_Toc342980830" class="anchor"></span>Figure 146: Editing a Field—DESCRIPTION attributes</p>
<p>DESCRIPTION:</p>
<p>1&gt;An entry is required. If you do not know this patient’s Social</p>
<p>2&gt;Security Number, enter ‘000000000’ to indicate the number is</p>
<p>3&gt;unknown.</p>
<p>EDIT Option: <strong>&lt;Enter&gt;</strong></p>
<p>TECHNICAL DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>The DESCRIPTION and TECHNICAL DESCRIPTION attributes document the use and meaning of the field. The information in DESCRIPTION is shown to the user when two question marks are entered at the “EDIT Option:” prompt. When initially creating a field, you are prompted for the DESCRIPTION field after the ‘HELP’-PROMPT. The TECHNICAL DESCRIPTION is displayed only when the data dictionary is printed.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Prior to VA FileMan 21.0 you were allowed to also enter a Help Frame for field documentation; that attribute is no longer supported.</p>
<p><span id="_Toc342980831" class="anchor"></span>Figure 147: Editing a Field—DATA TYPE, LENGTH, PATTERN MATCH, MANDATORY ‘HELP’ PROMPT attributes</p>
<p>DATA TYPE OF SSN: FREE TEXT// <strong>&lt;Enter&gt;</strong></p>
<p>MINIMUM LENGTH: 9// <strong>&lt;Enter&gt;</strong></p>
<p>MAXIMUM LENGTH: 9// <strong>&lt;Enter&gt;</strong></p>
<p>(OPTIONAL) PATTERN MATCH (IN ‘X’): X?9N// <strong>&lt;Enter&gt;</strong></p>
<p>IS SSN ENTRY MANDATORY (Y/N): Y// <strong>&lt;Enter&gt;</strong></p>
<p>‘HELP’-PROMPT: ANSWER MUST BE 9 CHARACTERS IN LENGTH</p>
<p>Replace <strong>...</strong> With <strong>Enter 9 numbers without dashes, e.g., 666456789.</strong></p>
<p>Replace <strong>&lt;Enter&gt;</strong></p>
<p>Enter 9 numbers without dashes, e.g., 666456789.</p>
<p>To illustrate the use of GROUPs, add the NAME, DATE OF BIRTH, and SEX fields into the DEMOG group:</p>
<p><span id="_Toc342980832" class="anchor"></span>Figure 148: Editing a Field—Adding fields to a GROUP (1 of 2)</p>
<p>Select FIELD: <strong>NAME</strong></p>
<p>LABEL: NAME// <strong>^GROUP</strong></p>
<p>Select GROUP: <strong>DEMOG</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>TECHNICAL DESCRIPTION:</p>
<p>1&gt; <strong>&lt;Enter&gt;</strong></p>
<p>DATA TYPE OF NAME: FREE TEXT// <strong>^</strong></p>
<p>DATE OF BIRTH and SEX can be added to the GROUP in the same way. Now, when using the Enter or Edit File Entries option, you could do the following:</p>
<p><span id="_Toc342980833" class="anchor"></span>Figure 149: Editing a Field—Adding fields to a GROUP (2 of 2)</p>
<p>EDIT WHICH FIELD: <strong>DEMOG</strong></p>
<p>1 DEMOG NAME</p>
<p>2 DEMOG SEX</p>
<p>3 DEMOG DATE OF BIRTH</p>
<p>EDIT WHICH FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT NAME: <strong>FMPATIENT,55</strong></p>
<p>NAME: FMPATIENT,ONE// <strong>&lt;Enter&gt;</strong></p>
<p>SEX: MALE// <strong>&lt;Enter&gt;</strong></p>
<p>DATE OF BIRTH: JAN 3, 1955// <strong>&lt;Enter&gt;</strong></p>
<h3 id="changing-a-fields-data-type-value">Changing a Field’s DATA TYPE Value</h3>
<p>Within the Modify File Attributes option, you can change the DATA TYPE field value itself. There are limitations on the sort of changes you can make. These are listed below.</p>
<p>You <em>must</em> be very careful in making such changes if you already have file data entered, because there is no guarantee that the old data matches the newly specified criteria (e.g., field length). However, if you do change a field definition, you are asked if you want existing data checked for inconsistencies. A list of any discrepancies is printed. If more than one discrepancy is found, you can save the list of discrepant entries in a template. To generate this list later, use the Verify Fields option on the Utility Functions menu [DIUTILITY].</p>
<p>The following restrictions apply to changing the definitions of existing DATA TYPE field values in a file:</p>
<ul>
<li><p>Multiple-valued fields <em>cannot</em> be changed to single-valued fields or vice versa. Multiple-valued fields can only be defined when creating a field.</p></li>
<li><p>COMPUTED fields <em>cannot</em> be changed to other types of fields or vice versa.</p></li>
<li><p>WORD-PROCESSING-type fields should only be changed into Multiple-valued FREE TEXT fields.</p></li>
<li><p>Only a Multiple-valued FREE TEXT field can be changed into a WORD-PROCESSING field, and only if no other subfields are defined for that field.</p></li>
<li><p>POINTER TO A FILE type fields <em>cannot</em> be changed to VARIABLE-POINTER type fields or vice versa.</p></li>
</ul>
<h3 id="deleting-an-existing-field">Deleting an Existing Field</h3>
<p>Deleting a field and its definition is done by deleting the field Name (LABEL). Delete the field by typing the at-sign (“<strong>@</strong>”) after the display of a field’s LABEL when using the Modify File Attributes option:</p>
<p><span id="_Toc342980834" class="anchor"></span>Figure 150: Editing a Field—Deleting a field and its definition</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>SEX</strong></p>
<p>LABEL: SEX// <strong>@</strong></p>
<p>SURE YOU WANT TO DELETE THE ENTIRE ‘SEX’ FIELD? <strong>YES</strong></p>
<p>OK TO DELETE ‘SEX’ FIELDS IN THE EXISTING ENTRIES? <strong>YES</strong></p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: If you answer NO to the “OK TO DELETE” question, data conflicts can occur in the future, if you create new fields. It is advisable to always delete existing entries. Only a developer can delete the entries after you have answered NO.</p>
<h2 id="examples-of-file-and-field-creation">Examples of File and Field Creation</h2>
<p>The following examples of creating files/fields or editing fields in a file are illustrated using Screen Mode.</p>
<ul>
<li><p><span class="underline">File Creation</span></p></li>
<li><p><span class="underline">DATE/TIME Fields</span></p></li>
<li><p><span class="underline">SET OF CODES Field</span></p></li>
<li><p><span class="underline">FREE TEXT Field</span></p></li>
</ul>
<ul>
<li><p><span class="underline">Carets (“^”) in a FREE TEXT Field</span></p></li>
</ul>
<ul>
<li><p><span class="underline">WORD-PROCESSING Field</span></p></li>
<li><p><span class="underline">COMPUTED Field</span></p></li>
<li><p><span class="underline">POINTER TO A FILE Field</span></p></li>
<li><p><span class="underline">VARIABLE-POINTER Field</span></p></li>
<li><p><a href="#boolean-field">BOOLEAN Field</a></p></li>
<li><p><a href="#label-reference-field">LABEL REFERENCE Field</a></p></li>
<li><p><a href="#time-field">TIME Field</a></p></li>
<li><p><a href="#year-field">YEAR Field</a></p></li>
<li><p><a href="#universal-time-field">UNIVERSAL TIME Field</a></p></li>
<li><p><a href="#ft-pointer-field">FT POINTER Field</a></p></li>
<li><p><a href="#ft-date-field">FT DATE Field</a></p></li>
<li><p><a href="#ratio-field">RATIO Field</a></p></li>
<li><p><span class="underline"><strong>Error! Reference source not found.</strong></span></p></li>
</ul>
<ul>
<li><p><span class="underline">Subfields</span></p></li>
<li><p><span class="underline">Numeric Subfield</span></p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> These examples assume that the user does <em>not</em> have programmer access.<br />
<br />
<strong>REF:</strong> For explanations of additional capabilities available to the developer, see the “Advanced File Definition” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<h3 id="file-creation">File Creation</h3>
<p><span class="underline">Figure 151</span> illustrates the file definition dialogue you see when creating a new file using the Modify File Attributes option. In this case, you create the ORDER file (#100, a standard VA FileMan file):</p>
<p><span id="_Ref389631230" class="anchor"></span>Figure 151: Modify File Attributes option—Creating a file</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>ORDER</strong></p>
<p>Are you adding ‘ORDER’ as a new FILE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>FILE NUMBER: 99000// <strong>100</strong></p>
<p>...SORRY, HOLD ON...</p>
<p>A FreeText NAME Field (#.01) has been created.</p>
<p>Select FIELD: <strong>NAME</strong></p>
<p>VA FileMan prompts you to enter the file name. If it is a new file, VA FileMan asks you to confirm that you want to add a new file. The default file number to the left of the “<strong>//</strong>” (e.g., 99000) is related to a site number that is assigned to your computer when VA FileMan is initialized. This file number is within the range of numbers assigned to your site. Be sure to follow local policies when assigning file numbers.</p>
<p>As you can see from this example, when a file is created a field with the label NAME and number .01 is automatically created. When creating a new file, you can change the definition of this field in the same way you can change the definition of any other field.</p>
<p>When you select a field (e.g., the NAME field), you are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 152</span>:</p>
<p><span id="_Ref343503291" class="anchor"></span>Figure 152: Modify File Attributes option—Defining the NAME (#.01) field in Screen Mode</p>
<p>Field #.01 in File #100</p>
<p>FIELD LABEL: NAME <span class="underline">DATA TYPE...</span> FREE TEXT</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: YES</p>
<p>HELP-PROMPT: NAME MUST BE 3-35 CHARACTERS, NOT NUMERIC OR STARTING WITH PU</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<h3 id="datetime-fields">DATE/TIME Fields</h3>
<p>In <span class="underline">Figure 153</span>, the DATA TYPE field for the RELEASE DATE/TIME field (#.68) in the ORDER file (#100) has a DATA TYPE field value of DATE/TIME:</p>
<p><span id="_Ref389631258" class="anchor"></span>Figure 153: Modify File Attributes option—Editing a DATE/TIME field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>RELEASE DATE/TIME</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 154</span>:</p>
<p><span id="_Ref343503302" class="anchor"></span>Figure 154: Modify File Attributes option—Defining a DATA TYPE field as DATE/TIME in Screen Mode</p>
<p>Field #.68 in File #100</p>
<p>FIELD LABEL: RELEASE DATE/TIME <span class="underline">DATA TYPE...</span> DATE</p>
<p>┌----------------------------------------------------------------------┐</p>
<p>| EARLIEST DATE: _ |</p>
<p>AU| LATEST DATE: |</p>
<p>| CAN DATE BE IMPRECISE: NO |</p>
<p>| CAN TIME OF DAY BE ENTERED: YES |</p>
<p>| CAN SECONDS BE ENTERED: YES |</p>
<p>| IS TIME REQUIRED: YES |</p>
<p>D| |</p>
<p>└----------------------------------------------------------------------┘</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO .</p>
<p>HELP-PROMPT: Enter the Date/time this order was released to the service</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. DATE/TIME-type fields do <em>not</em> have any required entries. You can accept all the default values within the “popup” window, simply by closing the window by pressing the <strong>&lt;F1&gt;C</strong> keys.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<h3 id="set-of-codes-field">SET OF CODES Field</h3>
<p>In <span class="underline">Figure 155</span>, the DATA TYPE field for the FLAGGED field (#.61) in the ORDER file (#100) has a value of SET OF CODES:</p>
<p><span id="_Ref389631290" class="anchor"></span>Figure 155: Modify File Attributes option—Editing a SET OF CODES field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>FLAGGED</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 156</span>:</p>
<p><span id="_Ref343503312" class="anchor"></span>Figure 156: Modify File Attributes option—Defining a DATA TYPE field as SET OF CODES in Screen Mode</p>
<p>Field #.61 in File #100</p>
<p>FIELD LABEL: FLAGGED <span class="underline">DATA TYPE...</span> SET</p>
<p>┌----------------------------------------------------------------------┐</p>
<p>|CODE: 0 WILL STAND FOR: NO |</p>
<p>|CODE: 1 WILL STAND FOR: YES |</p>
<p>AUDIT|CODE: WILL STAND FOR: |</p>
<p>R|CODE: WILL STAND FOR: |</p>
<p>DEL|CODE: WILL STAND FOR: |</p>
<p>WR|CODE: WILL STAND FOR: |</p>
<p>|CODE: WILL STAND FOR: |</p>
<p>DESC|CODE: WILL STAND FOR: |</p>
<p>|CODE: WILL STAND FOR: |</p>
<p>|CODE: WILL STAND FOR: |</p>
<p>|CODE: WILL STAND FOR: |</p>
<p>|CODE: WILL STAND FOR: |</p>
<p>HE|CODE: WILL STAND FOR: |cation</p>
<p>XECUT└----------------------------------------------------------------------┘</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. SET OF CODES-type fields require input of all the allowable “Internal” values (i.e., “ODE” prompt), and their “External” equivalents (i.e., “WILL STAND FOR” prompt).</p>
<p>Using the <strong>&lt;ArrowUp&gt;</strong> and <strong>&lt;ArrowDown&gt;</strong> keys makes it easy to edit the codes. It is permissible to leave a blank row, but every Internal Code (i.e., “CODE,” on the left) <em>must</em> have a corresponding External Code (“WILL STAND FOR,” on the right), and vice versa.</p>
<h3 id="free-text-field">FREE TEXT Field</h3>
<p>In <span class="underline">Figure 157</span>, the DATA TYPE field for the REASON FOR FLAG field (#.67) in the ORDER file (#100) has a value of FREE TEXT:</p>
<p><span id="_Ref389631351" class="anchor"></span>Figure 157: Modify File Attributes option—Editing a FREE TEXT field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>REASON FOR FLAG</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 158</span>:</p>
<p><span id="_Ref343503321" class="anchor"></span>Figure 158: Modify File Attributes option—Defining a Data Type as FREE TEXT in Screen Mode</p>
<p>Field #.67 in File #100</p>
<p>FIELD LABEL: REASON FOR FLAG <span class="underline">DATA TYPE...</span> FREE TEXT</p>
<p>┌-----------------------------------------------------------┐</p>
<p>| MINIMUM LENGTH: 1 |</p>
<p>| MAXIMUM LENGTH: 80 |</p>
<p>AUDIT C| PATTERN MATCH (IN ‘X’): X’?1P.E |</p>
<p>REA└-----------------------------------------------------------┘</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT: Enter the reason for the flag.</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. FREE TEXT-type fields require input for the “MINIMUM” and “MAXIMUM” lengths of the field. In this example, users <em>must</em> enter from 1 to 80 characters for this field.</p>
<p>If included, the PATTERN MATCH <em>must</em> be written in M. For example, you can insure that the data value does <em>not</em> start with a punctuation character by entering a PATTERN MATCH of “<strong>X’?1P.E</strong>”. This is a good check to make on a field that is allowed to be just one character in length. Sometimes, users can mistype and answer a field prompt with “<strong>/</strong>” (same key as “<strong>?</strong>”) or some other meaningless punctuation character. A PATTERN MATCH check such as “<strong>X’?1P.E</strong>” keeps that kind of mistake out of your database.</p>
<h4 id="carets-in-a-free-text-field">Carets (“^”) in a FREE TEXT Field</h4>
<p>If you are going to have carets (“<strong>^</strong>”) in a FREE TEXT field, it is advisable to create the field on a node by itself. You should create the field as usual, but when VA FileMan asks for the <strong>^</strong>-PIECE POSITION, reply with E1,<em>&lt;maximum length&gt;</em>, as shown in <span class="underline">Figure 159</span>.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Putting multiple fields on the same node where some of the fields use the Em,n format may cause the inclusion of padding when displaying the data.</p>
<p><span id="_Toc342980843" class="anchor"></span>Figure 159: Modify File Attributes option—Carets (“^”) in a FREE TEXT field: Piece position</p>
<p>Select FIELD: <strong>SPECIAL SITUATION</strong></p>
<p>  Are you adding ‘SPECIAL SITUATION’ as a new FIELD (the 3RD)? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>   FIELD NUMBER: 11// <strong>50</strong></p>
<p>DATA TYPE OF SPECIAL SITUATION: <strong>FREE TEXT</strong></p>
<p>MINIMUM LENGTH: <strong>3</strong></p>
<p>MAXIMUM LENGTH: <strong>200</strong></p>
<p>(OPTIONAL) PATTERN MATCH (IN ‘X’):</p>
<p>WILL MY TRY FIELD BE MULTIPLE? No// <strong>&lt;Enter&gt;</strong> (No)</p>
<p>SUBSCRIPT: 0// <strong>50</strong></p>
<p>^-PIECE POSITION: 1// <strong>E1,200</strong></p>
<p>IS MY TRY ENTRY MANDATORY (Y/N): NO// <strong>&lt;Enter&gt;</strong> NO</p>
<p>....</p>
<p>‘HELP’-PROMPT: Answer must be 3-200 characters in length.</p>
<p>           Replace <strong>&lt;Enter&gt;</strong></p>
<p>XECUTABLE ‘HELP’:</p>
<p>DESCRIPTION:</p>
<p>  No existing text</p>
<p>  Edit? NO//</p>
<h3 id="word-processing-field-1">WORD-PROCESSING Field</h3>
<p>In <span class="underline">Figure 160</span>, the DATA TYPE field for the ORDER TEXT field (#.11) in the ORDER file (#100) has a value of WORD-PROCESSING:</p>
<p><span id="_Ref389631377" class="anchor"></span>Figure 160: Modify File Attributes option—Editing a WORD-PROCESSING field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>ORDER TEXT</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 161</span>:</p>
<p><span id="_Ref184736193" class="anchor"></span>Figure 161: Modify File Attributes option—Defining a DATA TYPE field as WORD-PROCESSING in Screen Mode</p>
<p>Field #.01 in Sub-File #772.02 of File #772</p>
<p>FIELD LABEL: MESSAGE TEXT <span class="underline">DATA TYPE...</span> WORD-PROCESSING</p>
<p>┌───────────────────────────────────────────────────────────────────────────┐</p>
<p>│SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE: <strong>YES</strong> │</p>
<p>A│SHALL “|” CHARACTERS IN THIS TEXT BE TREATED LIKE ANY OTHER CHARACTERS: <strong>NO</strong> │</p>
<p>│ │</p>
<p>└───────────────────────────────────────────────────────────────────────────┘</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... <strong>NO</strong></p>
<p>MANDATORY: <strong>NO</strong></p>
<p>HELP-PROMPT: The text of the incoming messages for this transmission.</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. With WORD-PROCESSING-type fields. VA FileMan asks two questions in the “popup” window:</p>
<ul>
<li><p>“SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE:”<br />
If you answer <strong>YES</strong> to this question, text is automatically wrapped at word boundaries to fit in the column in which it is being printed. <strong>Yes</strong> is the default.</p></li>
<li><p>“SHALL “<strong>|</strong>” CHARACTERS IN THIS TEXT BE TREATED LIKE ANY OTHER CHARACTERS:”<br />
If you answer <strong>NO</strong> to this question, the vertical bar (<strong>|</strong>) character is ignored. <strong>No</strong> is the default.</p></li>
</ul>
<p><strong>TIP:</strong> When it is important that lines of text be printed exactly as they were entered, answer:</p>
<ul>
<li><blockquote>
<p><strong>NO</strong> to the prompt, <span class="underline">Figure 161</span>, “SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE:” question, and</p>
</blockquote></li>
<li><blockquote>
<p><strong>YES</strong> to the prompt, <span class="underline">Figure 161</span>, “SHALL “<strong>|</strong>” CHARACTERS IN THIS TEXT BE TREATED LIKE ANY OTHER CHARACTERS:”</p>
</blockquote></li>
</ul>
<h3 id="computed-field">COMPUTED Field</h3>
<p>In <span class="underline">Figure 162</span>, the DATA TYPE field for the JUST RELEASED field (#1000) in the ORDER file (#100) has a value of COMPUTED:</p>
<p><span id="_Ref389631401" class="anchor"></span>Figure 162: Modify File Attributes option—Editing a COMPUTED field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>JUST RELEASED</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 163</span>:</p>
<p><span id="_Ref343503362" class="anchor"></span>Figure 163: Modify File Attributes option—Defining a DATA TYPE field as COMPUTED in Screen Mode</p>
<p>Field #1000 in File #100</p>
<p>FIELD LABEL: JUST RELEASED <span class="underline">DATA TYPE...</span> COMPUTED</p>
<p>┌----------------------------------------------------------------------------┐</p>
<p>|COMPUTED-FIELD EXPRESSION: |</p>
<p>|#.68+2&gt;TODAY |</p>
<p>A| TYPE OF RESULT: BOOLEAN |</p>
<p>| NUMBER OF FRACTIONAL DIGITS TO OUTPUT: |</p>
<p>| SHOULD VALUE ALWAYS BE ROUNDED: |</p>
<p>| WHEN TOTALLING, SHOULD SUMS BE SUMS OF COMPONENT FIELDS: |</p>
<p>| LENGTH OF FIELD: 3 |</p>
<p>└----------------------------------------------------------------------------┘</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. With COMPUTED-type fields VA FileMan displays the characteristics of the computed expression in the “popup” window.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> The syntax of these expressions is explained fully in the “<span class="underline">Computed Expressions</span>” section.</p>
<p>Field #.68 is the RELEASE DATE/TIME field. The JUST RELEASED field is <strong>TRUE</strong> if the RELEASE DATE/TIME was less than two days ago.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can specify this virtual value to be BOOLEAN, STRING-VALUED, DATE-VALUED, or NUMERIC. Only in the last case are the three fields following the “TYPE OF RESULT” prompt editable.</p>
<h3 id="pointer-to-a-file-field">POINTER TO A FILE Field</h3>
<p>In <span class="underline">Figure 164</span>, the DATA TYPE field for the WHO ENTERED field (#3) in the ORDER file (#100) has a value of POINTER TO A FILE:</p>
<p><span id="_Ref389631424" class="anchor"></span>Figure 164: Modify File Attributes option—Editing a POINTER TO A FILE field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>WHO ENTERED</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 165</span>:</p>
<p><span id="_Ref343503374" class="anchor"></span>Figure 165: Modify File Attributes option—Defining a DATA TYPE field as POINTER TO A FILE in Screen Mode</p>
<p>Field #13 in File #100</p>
<p>FIELD LABEL: WHO ENTERED <span class="underline">DATA TYPE...</span> POINTER</p>
<p>┌----------------------------------------------------------------------------┐</p>
<p>| POINT TO WHICH FILE: NEW PERSON |</p>
<p>| |</p>
<p>A| SHALL ‘ADDING A NEW FILE ENTRY (“LAYGO”) BE ALLOWED: NO |</p>
<p>| |</p>
<p>└----------------------------------------------------------------------------┘</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT: Enter the name of the person who entered this order.</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. With POINTER TO A FILE-type fields, VA FileMan asks you to enter the pointed-to file name in the “popup” window. The file that is pointed to (in this case, the NEW PERSON file [#200]) <em>must</em> already exist on your system. If you enter a <strong>?</strong> (single question mark) at this prompt, you are presented with a list of the available files from which you can choose.</p>
<p>By answering <strong>NO</strong> to the “LAYGO” question, you insure that users who are editing the “WHO ENTERED” data are <em>not</em> able to add a new entry on-the-fly to the NEW PERSON file (#200).</p>
<h3 id="variable-pointer-field">VARIABLE-POINTER Field</h3>
<p>In <span class="underline">Figure 166</span>, the DATA TYPE field for the ITEM ORDERED field (#7) in the ORDER file (#100) has a value of VARIABLE-POINTER:</p>
<p><span id="_Ref389631450" class="anchor"></span>Figure 166: Modify File Attributes option—Editing a VARIABLE-POINTER field in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>ITEM ORDERED</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 167</span>:</p>
<p><span id="_Ref343503386" class="anchor"></span>Figure 167: Modify File Attributes option—Defining a DATA TYPE field as VARIABLE-POINTER in Screen Mode</p>
<p>Field #7 in File #100</p>
<p>FIELD LABEL: WHO ENTERED <span class="underline">DATA TYPE...</span> VARIABLE-POINTER</p>
<p>┌------------------------------------------------------------------------┐</p>
<p>| VARIABLE-POINTER FILE #1: OPTION ORDER... 1 |</p>
<p>| VARIABLE-POINTER FILE #2: LAB TEST ORDER... 2 |</p>
<p>AU| VARIABLE-POINTER FILE #3: ORDER... |</p>
<p>| VARIABLE-POINTER FILE #4: ORDER... |</p>
<p>| VARIABLE-POINTER FILE #5: ORDER... |</p>
<p>| VARIABLE-POINTER FILE #6: ORDER... |</p>
<p>┌------------------------------------------------------------------------┐</p>
<p>| VARIABLE-POINTER #1 |</p>
<p>D| MESSAGE: PROTOCOL |</p>
<p>| PREFIX: MISC |</p>
<p>| SHOULD USER BE ALLOWED TO ADD A NEW ENTRY: NO |</p>
<p>| SCREEN: |</p>
<p>| EXPLANATION OF SCREEN: |</p>
<p>XE└------------------------------------------------------------------------┘</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. With VARIABLE-POINTER-type fields, VA FileMan asks you to enter the pointed-to file name and its order in the first “popup” window. In this case, the first VARIABLE-POINTER file entered was the OPTION file, which would already have to exist. The ORDER was also set to one. When you press the <strong>Enter</strong> key at the “ORDER” prompt for each VARIABLE-POINTER, there is an additional “popup” window (i.e., a “popup window within the popup window”). The additional questions pertaining to the VARIABLE-POINTER file you are currently entering appear in this secondary “popup” window.</p>
<p>As you can see in this example, the OPTION file’s MESSAGE, is associated with “PROTOCOL.” Since its ORDER is one, it is the first file searched. The PREFIX “MISC” can also be used to refer to the OPTION file. Just as with the WHO ENTERED POINTER TO A FILE field (previously described), users <em>cannot</em> add new options to the OPTION file on-the-fly when they are entering an ITEM ORDERED in the ORDER file because the “SHOULD USER BE ALLOWED TO ADD A NEW ENTRY:” prompt is <strong>NO</strong>.</p>
<h3 id="boolean-field">BOOLEAN Field</h3>
<p><span class="underline">Figure 168</span> shows the addition/editing of a field of data type BOOLEAN. There are no “popup” edits to perform for the BOOLEAN data type.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472426568" class="anchor"></span>Figure 168: Addition/Editing of a Field of Data Type BOOLEAN</p>
<p>Field #12 in File #123000001</p>
<p>FIELD LABEL: BOOLEAN DATA TYPE... BOOLEAN</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="label-reference-field">LABEL REFERENCE Field</h3>
<p>Since the LABEL REFERENCE field can include a caret (“<strong>^</strong>”), VA FileMan using extract storage instead of piece storage and uses "E1,99" as the default at the PIECE POSITION prompt. It is advisable to create the field on a node by itself.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Putting multiple fields on the same node where some of the fields use the Em,n format can cause the inclusion of padding when displaying the data.</p>
<p><span class="underline">Figure 169</span> shows the addition/editing of a field of data type LABEL REFERENCE. The LABEL REFERENCE data type has one “popup” question, which asks the developer if parameters are allowed with the LABEL REFERENCE entry.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472426853" class="anchor"></span>Figure 169: Addition/Editing of a Field of Data Type LABEL REFERENCE</p>
<p>Field #13 in File #123000001</p>
<p>FIELD LABEL: LABEL REFERENCE DATA TYPE... LABEL REFERENCE</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>PARAMETERS ALLOWED: YES</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="time-field">TIME Field</h3>
<p><span class="underline">Figure 170</span> shows the addition/editing of a field of data type TIME. The TIME data type has one “popup” question, which asks the developer if seconds are allowed with the TIME entry.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472427068" class="anchor"></span>Figure 170: Addition/editing of a field of data type TIME</p>
<p>Field #14 in File #123000001</p>
<p>FIELD LABEL: TIME DATA TYPE... TIME</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>SECONDS ALLOWED: YES//</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="year-field">YEAR Field</h3>
<p><span class="underline">Figure 171</span> shows the addition/editing of a field of data type YEAR. The YEAR data type has one “popup” question, which asks the developer the earliest date that is allowed with the YEAR entry.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472427412" class="anchor"></span>Figure 171: Addition/Editing of a Field of Data Type YEAR</p>
<p>Field #15 in File #123000001</p>
<p>FIELD LABEL: YEAR DATA TYPE... YEAR</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>EARLIEST DATE: 1/1/2017</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="universal-time-field">UNIVERSAL TIME Field</h3>
<p><span class="underline">Figure 172</span> shows the addition/editing of a field of data type UNIVERSAL TIME. There are no “popup” edits to perform for the UNIVERSAL TIME data type.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472427514" class="anchor"></span>Figure 172: Addition/Editing of a Field of Data Type UNIVERSAL TIME</p>
<p>Field #8 in File #123000001</p>
<p>FIELD LABEL: UTC DATA TYPE... UNIVERSAL TIME</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="ft-pointer-field">FT POINTER Field</h3>
<p><span class="underline">Figure 173</span> shows the addition/editing of a field of data type FT POINTER. The FT POINTER data type asks the developer to enter an open global root to the pointed-to file. It also asks if adding new entries are allowed.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472427774" class="anchor"></span>Figure 173: Addition/Editing of a Field of Data Type FT POINTER</p>
<p>Field #9 in File #123000001</p>
<p>FIELD LABEL: FT POINTER DATA TYPE... FT POINTER</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT: ENTER THE FREE TEXT POINTER</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>POINTER: VA(200,</p>
<p>LAYGO: YES//</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="ft-date-field">FT DATE Field</h3>
<p><span class="underline">Figure 174</span> shows the addition/editing of a field of data type FT DATE. There are several “popup” edits to perform for the FT DATE data type.</p>
<ul>
<li><p>EARLIEST DATE: The earliest possible date allowed.</p></li>
<li><p>IMPRECISE DATE: Entering “<strong>YES</strong>” indicates that the date does not require a day of the month.</p></li>
<li><p>TIME OF DAY: Entering “<strong>YES</strong>” indicates that a Time value can be entered.</p></li>
<li><p>TIME REQUIRED: Entering “<strong>YES</strong>” indicates that a Time value <em>must</em> be entered.</p></li>
<li><p>SECONDS ALLOWED: Entering “<strong>YES</strong>” indicates that a seconds can be entered with the time value.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472428138" class="anchor"></span>Figure 174: Addition/Editing of a Field of Data Type FT DATE</p>
<p>Field #10 in File #123000001</p>
<p>FIELD LABEL: FT DATE DATA TYPE... FT DATE</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT:</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>EARLIEST DATE: 1/1/2017</p>
<p>IMPRECISE DATE: NO//</p>
<p>TIME OF DAY: YES//</p>
<p>TIME REQUIRED: YES</p>
<p>SECONDS ALLOWED: YES//</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="ratio-field">RATIO Field</h3>
<p><span class="underline">Figure 175</span> shows the addition/editing of a field of data type RATIO. The RATIO data type asks the developer to enter MINIMUM and MAXIMUM values for each numeric value in the RATIO.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To delete the entire field, enter an at-sign (“<strong>@</strong>”) at the “FIELD LABEL:” prompt.</p>
<p><span id="_Ref472428473" class="anchor"></span>Figure 175: Addition/editing of a field of data type RATIO</p>
<p>Field #11 in File #123000001</p>
<p>FIELD LABEL: RATIO DATA TYPE... RATIO</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... NO</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT: ENTER THE RATIO</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>LEFT SIDE MINIMUM: (0-9999): 1</p>
<p>LEFT SIDE MAXIMUM: (1-9999): 10</p>
<p>RIGHT SIDE MINIMUM: (1-9999): 1</p>
<p>RIGHT SIDE MAXIMUM: (1-9999): 20</p>
<p>COMMAND: Press &lt;F1&gt;H for help Insert</p>
<h3 id="creating-a-multiple">Creating a Multiple</h3>
<p><span class="underline">Figure 176</span> illustrates creating a Multiple field. This example simulates creating the RESPONSES field (#4.5) in the ORDER file (#100). It has a data type of NUMERIC:</p>
<p><span id="_Ref389631502" class="anchor"></span>Figure 176: Modify File Attributes option—Creating a Multiple in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>RESPONSES</strong></p>
<p>Are you adding ‘RESPONSES’ as a new FIELD? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>FIELD NUMBER: 4.5// <strong>&lt;Enter&gt;</strong></p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 177</span>:</p>
<p><span id="_Ref343503395" class="anchor"></span>Figure 177: Modify File Attributes option—Defining a DATA TYPE field as a NUMERIC Multiple in Screen Mode</p>
<p>Field #4.5 in File #100</p>
<p>FIELD LABEL: RESPONSES <span class="underline">DATA TYPE...</span> NUMERIC</p>
<p>TITLE:</p>
<p>AUDIT:</p>
<p>AUDIT CONDITION:</p>
<p>READ ACCESS:</p>
<p>DELETE ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... YES</p>
<p>┌---------------------------------------------------------------------------┐</p>
<p>| SHOULD USER SEE AN “ADDING A NEW ENTRY” MESSAGE: NO |</p>
<p>| HAVING ENTERED OR EDITED ONE MULTIPLE, SHOULD USER BE ASKED ANOTHER: NO |</p>
<p>└---------------------------------------------------------------------------┘</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>A Multiple field is created just as any other, except that the “IS THIS FIELD MULTIPLE...” question is answered <strong>YES</strong>. In Screen Mode, after answering <strong>YES</strong> to this question, a “popup” window appears containing editable attributes pertinent to a Multiple field. With Multiple-type fields, VA FileMan asks if you want users to be notified when they are adding new entries and if users should be asked if they want to make another entry. In this case, the user answered <strong>NO</strong> to both questions.</p>
<h4 id="subfields">Subfields</h4>
<p>To create or edit Subfields of a Multiple field, select a Multiple-valued field (e.g., the RESPONSES Multiple field, previously created):</p>
<p><span id="_Toc342980854" class="anchor"></span>Figure 178: Modify File Attributes option—Editing a Multiple’s Subfield in Screen Mode</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Select FIELD: <strong>RESPONSES &lt;Enter&gt;</strong> (multiple)</p>
<p>You are taken into a ScreenMan form where you can edit the properties of the field, as shown in <span class="underline">Figure 179</span>:</p>
<p><span id="_Ref343503405" class="anchor"></span>Figure 179: Modify File Attributes option—Reviewing/Editing the Properties of a Multiple Data Type Field in Screen Mode</p>
<p>Multiple Field #4.5 in File #100</p>
<p>MULTIPLE-FIELD LABEL: RESPONSES |</p>
<p>READ ACCESS:</p>
<p>WRITE ACCESS:</p>
<p>SOURCE:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, after entering a Multiple field, a special screen appears that displays information about the Multiple <em>as a whole</em>.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you wanted to delete <em>the entire Multiple field</em>, you would enter an at-sign (“<strong>@</strong>”) at the “MULTIPLE-FIELD LABEL” prompt.</p>
<p>After viewing this screen, you can proceed to add fields to the Multiple or to edit existing Subfields. This is done at the “Select SUB-FIELD:” prompt that is displayed when you exit Screen Mode (shown below).</p>
<h4 id="numeric-subfield">Numeric Subfield</h4>
<p>After selecting a Multiple-valued field (e.g., the RESPONSES Multiple field in the ORDER file [#100]), you can enter or modify the Multiple’s subfields by entering the field’s number or name (label) at the “Select <em>xxxxxxx</em> SUB-FIELD:” prompt (where <em>xxxxxxx</em> represents the name of the Multiple).</p>
<p>A .01 field with the same name as the Multiple field was added automatically when the field was identified as a Multiple. The .01 field is the identifying key for an entry in the Subfile (Multiple); it is similar to a file’s .01 field, which is the file’s identifying key. In <span class="underline">Figure 180</span>, the .01 subfield is edited to have a DATA TYPE of NUMERIC:</p>
<p><span id="_Ref389631528" class="anchor"></span>Figure 180: Modify File Attributes option—Example of a .01 Subfield of a Multiple</p>
<p>Select RESPONSES SUB-FIELD: <strong>.01 &lt;Enter&gt;</strong> ITEM ENTRY</p>
<p>You are taken into a ScreenMan form where you can edit the properties of the subfield, as shown in <span class="underline">Figure 181</span>:</p>
<p><span id="_Ref343503416" class="anchor"></span>Figure 181: Modify File Attributes option—Defining a Data Type field as a NUMERIC Subfield in Screen Mode</p>
<p>Field #.01 in Sub-File #100.045 of File #100</p>
<p>FIELD LABEL: ITEM ENTRY <span class="underline">DATA TYPE...</span> NUMERIC</p>
<p>┌------------------------------------------------------------------┐</p>
<p>| <span class="underline">INCLUSIVE LOWER BOUND</span>: 1 |</p>
<p>AU| <span class="underline">INCLUSIVE UPPER BOUND</span>: 9999999 |</p>
<p>| IS THIS A DOLLAR AMOUNT: NO |</p>
<p>| MAXIMUM NUMBER OF FRACTIONAL DIGITS: 0 |</p>
<p>└------------------------------------------------------------------┘</p>
<p>SOURCE:</p>
<p>DESCRIPTION... TECHNICAL DESCRIPTION...</p>
<p>IS THIS FIELD MULTIPLE... YES</p>
<p>MANDATORY: NO</p>
<p>HELP-PROMPT: Type a Number between 1 and 9999999, 0 Decimal Digits</p>
<p>XECUTABLE HELP:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>In Screen Mode, while editing a sub-field of a Multiple, you notice that the heading at the top of the screen reminds you that you are now editing a field <em>within a Multiple</em> (e.g., ”Field #.01 in Sub-File #100.045 of File #100”).</p>
<p>Also, whenever the DATA TYPE field is editable, a “popup” window appears, containing editable attributes of the field that are pertinent to its specific DATA TYPE field value. With NUMERIC-type fields, VA FileMan asks you to enter the “INCLUSIVE LOWER BOUND” (e.g., set to 1) and the “INCLUSIVE UPPER BOUND (e.g., set to 9999999). In addition, you are asked if the numeric value is a dollar amount and if decimal digits are allowed (i.e., the “MAXIMUM NUMBER OF FRACTIONAL DIGITS”).</p>
<p>A default help prompt is automatically written for you with the DATA TYPE field of NUMERIC. In this case, the English message “Type a Number between 1 and 9999999, 0 Decimal Digits” has been built automatically from the specifications. As always, you can accept the default help prompt or change it using the <strong>Replace ... With</strong> syntax.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> This help information is displayed when the user inputs a single question mark (“<strong>?</strong>”) when editing this field.</p>
<h1 id="file-utilities">File Utilities</h1>
<p>Various file utilities are provided as options on VA FileMan’s Utility Functions menu [DIUTILITY].</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Some additional functionality for modifying files is contained in the separate Modify File Attributes option, which is on the main VA FileMan menu.</p>
<h2 id="verify-fields">Verify Fields</h2>
<p>The Verify Fields option uses a field’s definition to verify the data stored in a file. After invoking this option, you can ask to verify all existing values of a particular field by entering its label at the “VERIFY WHICH FIELD:” prompt; or you can ask that <em>all</em> fields at a given file level be verified by entering <strong>ALL</strong> at the prompt.</p>
<p>In addition to checking the validity of the data stored in a file, Verify Fields checks the cross-references on the file’s data. Among the items checked for are:</p>
<ul>
<li><p>Dangling pointers in cross-references.</p></li>
<li><p>Cross-reference values exceeding 30 characters if a field’s Label has been translated into the user’s language, the report of errors for that field will show the translated Label.</p></li>
</ul>
<p>If more than one discrepancy is found between the current definition and the data on file, you are asked if you want to save the list of those entries containing the inconsistent data in a template. Later, you would be able to “SORT BY:” the entries in this template to display or edit them.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For information on how to execute or avoid executing any part of the INPUT transform when the Verify Fields option is being run, see the “Input Transform” section in the “Advanced File Definition” section in the <em>VA FileMan Developer’s Guide</em>.<br />
<br />
<strong>NOTE:</strong> Some parts of a field’s INPUT transform (whose main purpose is to validate data as a user enters it) may be inappropriate when being executed in the context of the Verify Fields option.</p>
<p><strong>NOTE:</strong> The “DISPLAY OPTION?” field for the Verify Fields [DIVERIFY] option <em>must</em> be set to “<strong>YES</strong>” in order to display a final “Press RETURN to continue” at the end of the report.</p>
<h2 id="cross-reference-a-field-or-file">Cross-Reference a Field or File</h2>
<p>Traditional Cross-references:</p>
<ul>
<li><p>Types of Traditional Cross-references</p></li>
<li><p>Edit a Traditional Cross-reference</p></li>
<li><p>Create a Traditional Cross-reference</p></li>
<li><p>Delete a Traditional Cross-reference</p></li>
</ul>
<p>New-Style Cross-references:</p>
<ul>
<li><p>Edit a New-Style Cross-reference</p></li>
<li><p>Create a New-Style Cross-reference</p></li>
<li><p>Delete a New-Style Cross-reference</p></li>
</ul>
<p>There are seven types of Traditional cross-references and two types of New-Style cross-references available. Generally, a cross-reference in VA FileMan specifies that some action is performed when the field’s value is entered, changed, or deleted. For several types of cross-references, the action consists of putting the value into a list (i.e., an index used when looking up an entry or when sorting). The regular cross-reference is used for sorting and for lookup; you can limit it to sorting only. The Key Word in Context (KWIC), mnemonic, and SOUNDEX cross-references are also used for lookup.</p>
<p>You can sort a file on any field (except a WORD-PROCESSING-type field) whether or not a cross-reference exists for the field. However, sorting is done more quickly and efficiently if a regular cross-reference exists on the field.</p>
<p>When a file is created, a Traditional cross-reference on the NAME field (#.01) is automatically established. You can add or delete cross-references at any time using the Cross-Reference a Field or File option [DIXREF] located on the Utility Functions menu [DIUTILITY]. This option can also be used to enter a description of a cross-reference and to prevent the cross-reference from being deleted.</p>
<p>You can create a cross-reference on a Multiple field, a Multiple’s subfields, or on any other field type except a WORD-PROCESSING-type field. For example, the PATIENT file (#2) contains the AGE AT ONSET subfield in the DIAGNOSIS Multiple. If you create a regular cross-reference for a field in a Multiple, you can choose in what context the cross-reference is used. You might want to cross-reference the whole file by AGE AT ONSET (so that a report sorted by AGE AT ONSET could be produced efficiently). Alternately, you might want to cross-reference only an individual patient’s diagnoses by onset age (so that a lookup of diagnosis could be done using AGE AT ONSET).</p>
<h3 id="types-of-traditional-cross-references">Types of Traditional Cross-references</h3>
<p><span id="_Ref447598334" class="anchor"></span>Table 92: File Utilities—Traditional Cross-references</p>
<table>
<tbody>
<tr class="odd">
<td>Cross-reference</td>
<td>Description</td>
</tr>
<tr class="even">
<td>REGULAR</td>
<td>The field value is sorted and stored in the cross-reference. The regular cross-reference is used for sorting. It can also be used when looking up entries. The cross-reference that is automatically created on the NAME field (#.01) when a file is created is a regular cross-reference; this is the “<strong>B</strong>” cross-reference.</td>
</tr>
<tr class="odd">
<td>KWIC</td>
<td><p>Key Word in Context (i.e., each word of three or more letters in the field value becomes a separate cross-reference). A space is considered the primary word separator. For example, ONE FMUSER can be looked up under either ONE or FMUSER. Uppercase or lowercase two-letter words (e.g., IN, AN, OR, and IS are <em>not</em> considered key text. The words THE, AND, THEN, FOR, FROM, OTHER, THAN, WITH, THEIR, SOME, and THIS (upper- or lowercase) are <em>not</em> considered key text. Quotation marks are also <em>not</em> considered key text.</p>
<p>You can also specify that KWIC separates words at most punctuation marks except quotation marks (e.g., ONE-FMUSER, ONE/FMUSER, etc., are found with FMUSER). A list of punctuation marks is presented for your selection.</p></td>
</tr>
<tr class="even">
<td>MNEMONIC</td>
<td>The field’s values are cross-referenced along with the NAME field (#.01) cross-reference (e.g., the MAIDEN NAME field’s values are found along with NAME values in any lookup). Typically, the cross-reference on the NAME field is searched first when doing a lookup.</td>
</tr>
<tr class="odd">
<td>MUMPS</td>
<td>Those with programmer access can create special cross-references by putting M code into the SET and KILL logic of a cross-reference. You can use the M code entered to accomplish any task that <em>must</em> be done when the value in a field is entered, changed, or deleted.</td>
</tr>
<tr class="even">
<td>SOUNDEX</td>
<td>The field’s value is transformed into a four-character string representing its phonetic properties. That string becomes the cross-reference. For example, soundex transformation would access GONZALEZ, GONZELES, Gonzales, and Gonsalless as equivalents; entry of any one of these forms looks up all the others automatically.</td>
</tr>
<tr class="odd">
<td>TRIGGER</td>
<td><p>Whenever the field is updated, a different field can be automatically updated at the same time.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more details, see the “Trigger Cross-References” section in the <em>VA FileMan Developer’s Guide</em>.</p></td>
</tr>
<tr class="even">
<td>BULLETIN</td>
<td>Whenever a field is updated, a MailMan message is sent notifying specified users that an update has occurred. The Bulletin cross-reference is only available when VA FileMan is installed with MailMan.</td>
</tr>
</tbody>
</table>
<h3 id="edit-a-traditional-cross-reference">Edit a Traditional Cross-reference</h3>
<p>To edit a Traditional cross-reference, identify the field or subfield you wish to edit. VA FileMan displays the type of cross-references on the field and offers you the choices of Edit, Delete, or Create. Select Edit at this prompt and you have the opportunity to edit or add a No Deletion message and to enter a description of the cross-reference.</p>
<p><span id="_Toc342980859" class="anchor"></span>Figure 182: File Utilities—Editing a Traditional cross-reference (1 of 2)</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select Utility Functions Option: <strong>CRO &lt;Enter&gt;</strong> SS-REFERENCE A FIELD OR FILE</p>
<p>What type of cross-reference (Traditional or New)? Traditional// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>TEST</strong></p>
<p>Select FIELD: <strong>.01 &lt;Enter&gt;</strong> NAME</p>
<p>CURRENT CROSS-REFERENCE IS REGULAR ‘B’ INDEX OF FILE</p>
<p>Choose E (Edit)/D (Delete)/C (Create): <strong>E</strong></p>
<p>NO DELETION MESSAGE: <strong>NO, DO NOT DELETE THIS X-REF!</strong></p>
<p>This FREE TEXT message indicates that the cross-reference <em>cannot</em> be deleted. As long as a message is retained, the cross-reference <em>cannot</em> be deleted. The user sees this message whenever an attempt is made to delete the cross-reference.</p>
<p><span id="_Toc342980860" class="anchor"></span>Figure 183: File Utilities—Editing a Traditional cross-reference (2 of 2)</p>
<p>DESCRIPTION:</p>
<p>1&gt;<strong>Used for lookup on and sorting by name.</strong></p>
<p>2&gt;<strong>&lt;Enter&gt;</strong></p>
<p>The description appears in a standard DD listing.</p>
<p><strong>TIP:</strong> It is important to describe cross-references that are unusual or especially critical. Consider describing all MUMPS, trigger, and bulletin cross-references.</p>
<h3 id="create-a-traditional-cross-reference">Create a Traditional Cross-reference</h3>
<p>If you would like to create a Traditional cross-reference for a field, proceed in manner shown in <span class="underline">Figure 184</span>:</p>
<p><span id="_Ref389634788" class="anchor"></span>Figure 184: File Utilities—Creating a Traditional cross-reference</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select Utility Functions Option: <strong>CRO &lt;Enter&gt;</strong> SS-REFERENCE A FIELD OR FILE</p>
<p>What type of cross-reference (Traditional or New)? Traditional// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>TEST</strong></p>
<p>Select FIELD: <strong>1 &lt;Enter&gt;</strong> DATE</p>
<p>NO CURRENT CROSS-REFERENCE</p>
<p>WANT TO CREATE A NEW CROSS-REFERENCE FOR THIS FIELD? NO// <strong>YES</strong></p>
<p>CROSS-REFERENCE NUMBER: 1// <strong>&lt;Enter&gt;</strong></p>
<p>Select TYPE OF INDEXING: REGULAR// <strong>&lt;Enter&gt;</strong></p>
<p>WANT CROSS-REFERENCE TO BE USED FOR LOOKUP AS WELL AS FOR SORTING?</p>
<p>YES// <strong>&lt;Enter&gt;</strong></p>
<p>NO DELETION MESSAGE: <strong>&lt;Enter&gt;</strong></p>
<p>DESCRIPTION:</p>
<p>1&gt;<strong>Lookup and sorting can be done by date using this Regular</strong></p>
<p>2&gt;<strong>cross-reference.</strong></p>
<p>3&gt;<strong>&lt;Enter&gt;</strong></p>
<h3 id="delete-a-traditional-cross-reference">Delete a Traditional Cross-reference</h3>
<p><span class="underline">Figure 185</span> shows how to delete a Traditional cross-reference:</p>
<p><span id="_Ref389634816" class="anchor"></span>Figure 185: File Utilities—Deleting a Traditional cross-reference</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select Utility Functions Option: <strong>CRO &lt;Enter&gt;</strong> SS-REFERENCE A FIELD OR FILE</p>
<p>What type of cross-reference (Traditional or New)? Traditional// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>TEST</strong></p>
<p>Select FIELD: <strong>1 &lt;Enter&gt;</strong> DATE</p>
<p>CURRENT CROSS-REFERENCE IS REGULAR ‘C’ INDEX OF FILE</p>
<p>Choose E (Edit)/D (Delete)/C (Create): <strong>D</strong></p>
<p>Are you sure that you want to delete the CROSS-REFERENCE? NO// <strong>YES &lt;Enter&gt;</strong> ...OK</p>
<h3 id="new-style-cross-references">New-Style Cross-references</h3>
<p>Two types of New-Style cross-references are available: Regular and MUMPS. They are like their Traditional cross-reference counterparts, but New-Style cross-references offer some unique advantages:</p>
<ul>
<li><p><strong>Compound Cross-references—</strong>You can create not only <em><strong>simple cross-references</strong></em> that are based on a single field, but <em><strong>compound cross-references</strong></em>, cross-references that are based on more than one field in a file. For example, in a regular New-Style “<strong>C</strong>” index you can store both the Name and ID Number of a record as subscripts in a single index:</p></li>
</ul>
<p>^DIZ(1000,”C”,”FMPATIENT,25”,”A56789”,14) =</p>
<p>^DIZ(1000,”C”,”FMPATIENT,10”,”D1234”,5) =</p>
<p>In order to create this kind of index with a Traditional cross-reference, you would have to create two MUMPS-type cross-references, one on the NAME field and one on the ID Number field. New-Style cross-references allow you to define this compound cross-reference once as a regular index that VA FileMan can use for lookup and sorting.</p>
<ul>
<li><p><strong>Field- or Record-Level Execution—</strong>Since a Traditional cross-reference is defined on a particular field, the action associated with that cross-reference is performed whenever the field is edited. With New-Style cross-references, you can specify that the action associated with a cross-reference be performed only once after the entire record has been edited, typically at the end of the editing session. Record-level execution would normally be selected for compound cross-references.</p></li>
</ul>
<p>If the “<strong>C</strong>” index in the example above were defined using Traditional MUMPS-type cross-references, and both the NAME and ID Number fields were contained in a single INPUT template, the index would be updated when the NAME field was edited, and then again when the ID Number was edited. But if the cross-reference were defined as a New-Style compound index with record-level execution, the index would be updated only once after the entire record was edited, after changes to both the NAME and ID Number fields had been completed.</p>
<ul>
<li><p><strong>Code to Kill the Entire Index—</strong>This is code that VA FileMan can execute to remove an entire index from a file. This can make re-indexing a file much more efficient. To delete an index, VA FileMan can execute the <em>Kill Entire Index Code</em>, instead of looping through all the record in a file and removing each record’s index one at a time.</p></li>
<li><p><strong>Activity—</strong>New-Style cross-references can have an Activity of “<strong>R</strong>” and/or “<strong>I</strong>” to allow you to control whether the cross-reference should be fired during <strong>R</strong>eindexing and/or <strong>I</strong>nstallation (KIDS). If you call IX^DIK, IX1^DIK, or IXALL^DIK or if you select the Re-Index File option [DIRDEX] located on VA FileMan’s Utility Functions menu [DIUTILITY] to re-index all cross-references, only those New-Style cross-references that contain an “<strong>R</strong>” in Activity are fired.</p></li>
</ul>
<p>If you explicitly select a cross-reference in an EN^DIK, EN1^DIK, or ENALL^DIK call or in the Re-Index File option [DIRDEX] on VA FileMan’s Utility Functions menu [DIUTILITY], that cross-reference is fired regardless of its Activity. Also, when a field is edited, VA FileMan ignores Activity and fires all cross-references on that field; though, you can control whether a cross-reference is fired by entering Set and Kill Conditions.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on the Re-Index File option and limiting re-indexing on some files, see the “<span class="underline">Re-Index File Option</span>” and “<span class="underline">Limits on Reindexing Files</span>” sections.</p>
<ul>
<li><p><strong>Collation—</strong>You can specify forwards or backwards collation, the direction in which VA FileMan’s lookup utilities loop through a subscript in an index when entries are returned or displayed to the user. This is especially useful for dates. Developers can store dates in their natural internal VA FileMan date format, and still display entries in the date index in reverse date order.</p></li>
<li><p><strong>Lookup Prompt—</strong>Each subscript on an index in the INDEX file (#.11) can be assigned a LOOKUP PROMPT. This prompt is used as the prompt for entry of the lookup value during classic VA FileMan lookup ^DIC calls. If <em>not</em> filled in, VA FileMan defaults to use the name of the field for that subscript value, if there is one.</p></li>
<li><p><strong>Computed Values—</strong>Those with programmer access can have any value in the cross-reference be computed; the value is determined from M code that sets the variable X.</p></li>
<li><p><strong>Subscript Transforms—</strong>Those with programmer access can define a <em>Transform for Storage</em> and a <em>Transform for Display</em> on subscripts in an index. The <em>Transform for Storage</em> is code that transforms the internal value of a field before it is stored as a subscript in the index. The <em>Transform for Display</em> is code that transforms the value stored in the index back to a form that can be displayed to the user.</p></li>
<li><p><strong>SET and Kill Conditions—</strong>Those with programmer access can enter M code that specifies whether the set or kill logic is fired. The M code sets the variable X to Boolean true only if the logic should be executed. The “before” and “after” values are available in the X, X1, and X2 arrays (see <span class="underline">Table 93</span> below).</p></li>
<li><p><strong>The X, X1, and X2 Arrays—</strong>Those with programmer access can reference the X, X1, and X2 arrays in the SET and KILL logic and the SET and KILL conditions of New-Style cross-references. When a field is edited and the cross-reference logic is executed, the field’s corresponding X1 array element contains the old value of the field, the X2 array element contains the new value of the field, and the X array element contains either the old or new value, depending on whether the SET logic, SET condition, KILL logic, or KILL condition is being executed:</p></li>
</ul>
<p><span id="_Ref451240507" class="anchor"></span>Table 93: File Utilities—X, X1, and X2 Arrays</p>
<table>
<tbody>
<tr class="odd">
<td>Array</td>
<td>Value in KILL Logic/KILL Condition</td>
<td>Value in SET Logic/SET Condition</td>
</tr>
<tr class="even">
<td>X(order#)</td>
<td>Old value</td>
<td>New value</td>
</tr>
<tr class="odd">
<td>X1(order#)</td>
<td>Old value</td>
<td>Old value</td>
</tr>
<tr class="even">
<td>X2(order#)</td>
<td>New value</td>
<td>New value</td>
</tr>
</tbody>
</table>
<p>The variables X, X1, and X2 always equal X(1), X1(1), and X2(1), respectively.</p>
<p>If an order number in the cross-reference refers to the .01 field, X1(order#) is set to null when the SET logic and SET condition are executed during record creation. Similarly, X2(order#) is set to null when the KILL logic or condition are executed during record deletion.</p>
<ul>
<li><p><strong>Key Support—</strong>A regular New-Style index can be used as the Uniqueness Index for a key. VA FileMan ensures that all fields in a Uniqueness Index have values (are <em>not</em> null), and that those values, taken collectively, are unique across all records in the file.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on keys and how to create them, see the “<span class="underline">Key Definition</span>” section.</p>
<h3 id="edit-a-new-style-cross-reference">Edit a New-Style Cross-reference</h3>
<p>To edit a New-Style cross-reference, identify the file or subfile you wish to edit. VA FileMan displays the cross-references on the file and offers you the choices of Edit, Delete, or Create:</p>
<p><span id="_Toc342980864" class="anchor"></span>Figure 186: File Utilities—Editing a New-Style cross-reference</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select Utility Functions Option: <strong>CRO &lt;Enter&gt;</strong> SS-REFERENCE A FIELD OR FILE</p>
<p>What type of cross-reference (Traditional or New)? Traditional// <strong>NEW</strong></p>
<p>MODIFY WHAT FILE: <strong>TEST</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>Current Indexes on file #16026:</p>
<p>75 ‘COMP’ index</p>
<p>85 ‘XR202’ index</p>
<p>106 ‘H’ index</p>
<p>116 ‘AC’ index</p>
<p>141 ‘C’ index</p>
<p>Choose E (Edit)/D (Delete)/C (Create): <strong>EDIT</strong></p>
<p>Which Index do you wish to edit? <strong>C</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The numbers displayed to the left of each cross-reference are the Internal Entry Number of the cross-reference stored in the INDEX file (#.11).</p>
<p>You are then taken into a ScreenMan form where you can edit the properties of the New-Style cross-reference, as shown below:</p>
<p><span id="_Ref343502336" class="anchor"></span>Figure 187: File Utilities—Editing a New-Style cross-reference in Screen Mode</p>
<p>Number: <strong>106           </strong>           EDIT AN INDEX                      Page 1 of 2</p>
<p>-------------------------------------------------------------------------------</p>
<p>        <span class="underline">File</span>: 16026                             <span class="underline">Root File</span>: <strong>16026               </strong></p>
<p>  <span class="underline">Index Name</span>: <strong>H                            </strong>     Root Type: <strong>INDEX FILE      </strong></p>
<p><span class="underline">Short Description</span>: <strong>TEST                                                        </strong></p>
<p> Description (wp):    (empty)</p>
<p>        <span class="underline">Type</span>: <strong>REGULAR </strong></p>
<p>    Activity: <strong>IR   </strong></p>
<p>   <span class="underline">Execution</span>: <strong>FIELD </strong></p>
<p>         Use: <strong>LOOKUP &amp; SORTING</strong></p>
<p>         Do Not ReIndex: <strong>NO RE-INDEXING ALLOWED</strong></p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> For additional help, enter a single question mark (“<strong>?</strong>”) or two question marks (“<strong>??</strong>”) at any prompt.</p>
<h3 id="create-a-new-style-cross-reference">Create a New-Style Cross-reference</h3>
<p>To create a New-Style cross-reference, proceed in the manner shown in <span class="underline">Figure 188</span>:</p>
<p><span id="_Ref389634846" class="anchor"></span>Figure 188: File Utilities—Creating a New-Style cross-reference</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select Utility Functions Option: <strong>CRO &lt;Enter&gt;</strong> SS-REFERENCE A FIELD OR FILE</p>
<p>What type of cross-reference (Traditional or New)? Traditional// <strong>NEW</strong></p>
<p>MODIFY WHAT FILE: <strong>TEST</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>Current Indexes on file #16026:</p>
<p>75 ‘COMP’ index</p>
<p>85 ‘XR202’ index</p>
<p>106 ‘H’ index</p>
<p>116 ‘AC’ index</p>
<p>141 ‘C’ index</p>
<p>Choose E (Edit)/D (Delete)/C (Create): <strong>CREATE</strong></p>
<p>Want to create a new Index for this file? No// <strong>YES</strong></p>
<p>Type of index: REGULAR// <strong>&lt;Enter&gt;</strong></p>
<p>Want index to be used for Lookup &amp; Sorting</p>
<p>or Sorting Only: LOOKUP &amp; SORTING// <strong>&lt;Enter&gt;</strong></p>
<p>Index Name: J// <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The numbers displayed to the left of each cross-reference are the Internal Entry Number of the cross-reference stored in the INDEX file (#.11).</p>
<p>You are then taken into a ScreenMan form where you can edit the properties of the New-Style cross-reference, as shown below:</p>
<p><span id="_Ref343503425" class="anchor"></span>Figure 189: File Utilities—Creating a New-Style cross-reference in Screen Mode</p>
<p>Number: <strong>142           </strong>           EDIT AN INDEX                      Page 1 of 2</p>
<p>-------------------------------------------------------------------------------</p>
<p>        <span class="underline">File</span>: 16026                             <span class="underline">Root File</span>: <strong>16026               </strong></p>
<p>  <span class="underline">Index Name</span>: <strong>J                            </strong>     Root Type: <strong>INDEX FILE      </strong></p>
<p><span class="underline">Short Description</span>: <strong>TEST                                                        </strong></p>
<p> Description (wp):    (empty)</p>
<p>        <span class="underline">Type</span>: <strong>REGULAR </strong></p>
<p>    Activity: <strong>IR   </strong></p>
<p>   <span class="underline">Execution</span>: <strong>FIELD </strong></p>
<p>         Use: <strong>LOOKUP &amp; SORTING</strong></p>
<p>         Do Not ReIndex:</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> For additional help, enter a single question mark (“<strong>?</strong>”) or two question marks (“<strong>??</strong>”) at any prompt.</p>
<h3 id="delete-a-new-style-cross-reference">Delete a New-Style Cross-reference</h3>
<p><span class="underline">Figure 190</span> shows you how to delete a New-Style cross-reference:</p>
<p><span id="_Ref389634870" class="anchor"></span>Figure 190: File Utilities—Deleting a New-Style cross-reference</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select Utility Functions Option: <strong>CRO &lt;Enter&gt;</strong> SS-REFERENCE A FIELD OR FILE</p>
<p>What type of cross-reference (Traditional or New)? Traditional// <strong>NEW</strong></p>
<p>MODIFY WHAT FILE: <strong>TEST</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>Current Indexes on file #16026:</p>
<p>75 ‘COMP’ index</p>
<p>85 ‘XR202’ index</p>
<p>106 ‘H’ index</p>
<p>116 ‘AC’ index</p>
<p>141 ‘C’ index</p>
<p>Choose E (Edit)/D (Delete)/C (Create): <strong>DELETE</strong></p>
<p>Which Index do you wish to delete? <strong>141 &lt;Enter&gt;</strong> C</p>
<p>Are you sure you want to delete the Index? No// <strong>YES</strong></p>
<p>Index definition deleted.</p>
<p>Removing old index ... DONE!</p>
<p>Press RETURN to continue: <strong>&lt;Enter&gt;</strong></p>

<h2 id="identifier">Identifier</h2>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you want to uniquely identify an entry in your file by a combination of fields, and to force that uniqueness, then you most likely want to create a KEY on your file, rather than using Identifier fields (which do <em>not</em> force the uniqueness). If a field is part of the PRIMARY KEY for a file, then it should <em>not</em> be marked as an Identifier as well.<br />
<br />
<strong>REF:</strong> For more information on creating a KEY, see the “<span class="underline">Key Definition</span>” section.</p>
<p>An identifier is a designation you can give to a field that you want <em>permanently</em> associated with the .01 field (NAME) of a file. The SSN field of our PATIENT file example has been defined as an identifier field. Each time a patient’s entry is referenced, the SSN is displayed to help positively identify the entry. When a new entry is added to the file, the user is asked to provide the SSN.</p>
<p>A field that is <em>not</em> multiple-valued can be specified as an identifier for a file simply by using the Identifier option available on the Utility Functions menu [DIUTILITY].</p>
<p>A multiple-valued field <em>cannot</em> be designated as an identifier; however, a subfield of that multiple-valued field <em>can</em> be designated as an identifier for the Multiple. The DIAGNOSIS field in the PATIENT file <em>cannot</em>, for example, be designated as an identifier, but its subfield AGE AT ONSET can be designated as an identifier of DIAGNOSIS. This feature is discussed in more detail later in this section.</p>
<p>These are the steps for setting up the sample SSN field as an identifier:</p>
<p><span id="_Toc342980869" class="anchor"></span>Figure 191: File Utilities—Example of setting a field as an identifier</p>
<p>MODIFY WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>SSN</strong></p>
<p>Want to make ‘SSN’ an identifier? NO// <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>Want to display SSN whenever a lookup is done</p>
<p>on an entry in the ‘PATIENT’ file? YES // <strong>&lt;Enter&gt;</strong> (YES)</p>
<p>Here, the positive answer to the last question causes the patient’s SSN value to show up whenever a lookup on a patient is done. For example:</p>
<p><span id="_Toc342980870" class="anchor"></span>Figure 192: File Utilities—Example of an identifier field displayed when doing a lookup</p>
<p>Select PATIENT NAME: <strong>FMPATIENT</strong></p>
<p>1 FMPATIENT,25 000223333</p>
<p>2 FMPATIENT,29 000114444</p>
<p>CHOOSE 1-2:</p>
<p>An identifier field is <em>not</em> asked if its WRITE access security does <em>not</em> match the VA FileMan Access Code of the user. If the identifier field has been specified (in the Modify File Attributes option) as a required field, the user <em>must</em> type a valid answer to its prompt when it is asked as an identifier; otherwise, the entry just created is deleted.</p>
<p>Using the caret key (“^”) for jumping is <em>not</em> allowed for identifier fields in the Enter or Edit File Entries option when adding a new entry. If you attempt to use the caret key in a field designated as an identifier in an edit session, the entry just created is deleted. Since the SSN field in our example is mandatory and an identifier, this ensures that every patient in our PATIENT file has a SSN recorded.</p>
<p>As mentioned above, you could make the AGE AT ONSET subfield an identifier for the DIAGNOSIS field Multiple as follows:</p>
<p><span id="_Toc342980871" class="anchor"></span>Figure 193: File Utilities—Example of a Subfield as an identifier</p>
<p>Select UTILITY OPTION: <strong>IDEN &lt;Enter&gt;</strong> TIFIER</p>
<p>Select FIELD: <strong>DIAG &lt;Enter&gt;</strong> NOSIS (multiple)</p>
<p>Select DIAGNOSIS SUB-FIELD: <strong>AGE AT ONSET</strong></p>
<p>Want to make ‘AGE AT ONSET’ an Identifier? NO// <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>Want to display AGE AT ONSET whenever a lookup is done</p>
<p>on an entry in the ‘DIAGNOSIS’ file? YES// <strong>N &lt;Enter&gt;</strong> (NO)</p>
<p>As a result of this dialogue, every time a new DIAGNOSIS for a patient is entered, the AGE AT ONSET would be asked. The AGE AT ONSET would <em>not</em>, however, be automatically displayed at subsequent DIAGNOSIS lookups.</p>
<p>To drop a field’s status as an identifier, simply return to the Identifier option, select the field, and answer <strong>YES</strong> to the question:</p>
<p><span id="_Toc342980872" class="anchor"></span>Figure 194: File Utilities—Deleting an identifier field</p>
<p>Field is already an Identifier; want to delete it? NO// <strong>Y</strong></p>
<h2 id="re-index-file-option">Re-Index File Option</h2>
<p>Use the Re-Index File option [DIRDEX] when you create a new cross-reference on a field that already contains data and you want to reindex the file. The dialogue shown in <span class="underline">Figure 195</span> is presented when reindexing a file:</p>
<p><span id="_Ref389634899" class="anchor"></span>Figure 195: File Utilities—Sample dialogue when re-indexing a file</p>
<p>DO YOU WISH TO RE-CROSS-REFERENCE ONE PARTICULAR INDEX? NO// <strong>&lt;Enter&gt;</strong></p>
<p>OK, ARE YOU SURE YOU WANT TO KILL OFF THE EXISTING INDEX? NO// <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>DO YOU THEN WANT TO ‘RE-CROSS-REFERENCE’? YES// <strong>&lt;Enter&gt;</strong></p>
<p>All the cross-references for the file are fired except for bulletins. This dialogue executes triggers and MUMPS cross-references.</p>
<p>If a file contains more than one cross-reference, you can get a list of them by entering a single question mark (“<strong>?</strong>”) in response to the “DO YOU WISH TO RE-CROSS-REFERENCE ONE PARTICULAR INDEX?” prompt. You can then reindex a single cross-reference or all of the file’s cross-references.</p>
<h3 id="limits-on-reindexing-files">Limits on Reindexing Files</h3>
<p>There are some files that should <em>not</em> be reindexed! When those files are inadvertently reindexed, it can cause major problems, and necessitate restores from backups. Currently, there is no way to prevent such files from being reindexed, except for putting “DO NOT RE-INDEX” in the file description, which is ineffective. The Re-Index File option [DIRDEX] is a powerful, useful tool, but it can cause a lot of damage when one is <em>not</em> paying attention.</p>
<p>Patch DI*22*167 allows individual cross-references to be marked “Do Not Re-Index,” and the Re-Index File option [DIRDEX] respects that. APIs that perform reindexing also respect that, with the following exceptions:</p>
<ul>
<li><p>APIs that reindex a single record ignore the no-reindex restriction, which includes the following APIs:</p></li>
</ul>
<ul>
<li><p>EN^DIK</p></li>
<li><p>EN1^DIK</p></li>
<li><p>EN2^DIK</p></li>
<li><p>IX^DIK</p></li>
<li><p>IX1^DIK</p></li>
<li><p>IX2^DIK</p></li>
</ul>
<ul>
<li><p>A cross-reference is reindexed if it is specifically named in an API call, regardless of whether it is marked “Do Not Re-Index,” which includes the following APIs:</p></li>
</ul>
<ul>
<li><p>ENALL^DIK</p></li>
<li><p>ENALL2^DIK</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on these APIs, see the <em>VA FileMan Developer’s Guide</em>.</p>
<p>Traditional regular cross-references (e.g., <strong>B</strong> and <strong>C</strong> cross-references) are always reindexed, and <em>cannot</em> be marked “Do Not Re-Index.” All other cross-references can be marked “Do Not Re-Index,” because reindexing them might cause problems.</p>
<p>The following cross-reference types can be marked “Do Not Re-Index:”</p>
<ul>
<li><p>All New-Style cross-references</p></li>
<li><p>Bulletin cross-references</p></li>
<li><p>MUMPS cross-references</p></li>
<li><p>Trigger cross-references</p></li>
</ul>
<p>To mark a cross-reference “Do Not Re-Index,” use the Cross-Reference a Field or File option [DIXREF] under the Utility Functions menu [DIUTILITY].</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: “Do Not Re-Index” can only be undone by KILLing the “NOREINDEX” node in the DD.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on the Cross-Reference a Field or File option, see the “<span class="underline">Cross-Reference a Field or File</span>” section.</p>
<h2 id="input-transform-syntax">INPUT Transform (Syntax)</h2>
<p>If you have programmer access, you can edit a field’s INPUT transform or syntax checker. You can also set the Maximum Length for a field’s output.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a detailed description of the INPUT transform, see the “Input Transforms” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<h2 id="edit-file">Edit File</h2>
<p>The Edit File option available on the VA FileMan Utility Functions menu [DIUTILITY] displays the various attributes of a file you specify in Screen Mode (i.e., invokes a ScreenMan form).</p>
<p><span class="underline">Figure 196</span> is an example using the Edit File option with the ORDER file (#100) in Screen Mode:</p>
<p><span id="_Ref389629982" class="anchor"></span>Figure 196: File Utilities—Choosing the Edit File option</p>
<p>Select VA FileMan Option: <strong>UTILITY &lt;Enter&gt;</strong> Functions</p>
<p>Verify Fields</p>
<p>Cross-Reference A Field</p>
<p>Identifier</p>
<p>Re-Index File</p>
<p>Input Transform (Syntax)</p>
<p>Edit File</p>
<p>Output Transform</p>
<p>Template Edit</p>
<p>Uneditable Data</p>
<p>Mandatory/Required Field Check</p>
<p>Key Definition</p>
<p>Select Utility Functions Option: <strong>EDIT &lt;Enter&gt;</strong> File</p>
<p>MODIFY WHAT FILE: ORDER// <strong>&lt;Enter&gt;</strong></p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>You are then taken into a ScreenMan form where you can edit the properties of the file, as shown in <span class="underline">Figure 197</span>:</p>
<p><span id="_Ref245303958" class="anchor"></span>Figure 197: File Utilities—Using the Edit File option in Screen Mode</p>
<p>FILE NAME: ORDER</p>
<p>DESCRIPTION... <strong>(File # 100) </strong></p>
<p>Select APPLICATION GROUP:</p>
<p>DEVELOPER:</p>
<p>DATA DICTIONARY ACCESS: <strong># </strong></p>
<p>READ ACCESS: <strong># </strong></p>
<p>WRITE ACCESS: <strong># </strong></p>
<p>DELETE ACCESS: <strong># </strong></p>
<p>LAYGO ACCESS: <strong># </strong></p>
<p>AUDIT ACCESS: # |</p>
<p>DD AUDIT: <strong>NO </strong></p>
<p>ASK ‘OK’ WHEN LOOKING UP AN ENTRY: <strong>NO </strong></p>
<p>FILE SCREEN:</p>
<p>POST-SELECTION ACTION:</p>
<p>LOOK-UP PROGRAM:</p>
<p>CROSS-REFERENCE ROUTINE: ORD2</p>
<p>_______________________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>You can use the Edit File option to:</p>
<ul>
<li><p><strong>Edit the Name of a File—</strong>Edit the file name at the “FILE NAME:” prompt.</p></li>
<li><p><strong>Delete a File—</strong>If you enter an at-sign (“<strong>@</strong>”) at the “FILE NAME:” prompt, you are given the choice of deleting the <em><strong>entire file</strong></em> and its data attribute dictionary (including all of its templates and file definitions) or just deleting the <em><strong>current individual entries in the file</strong></em>. However, you <em>cannot</em> delete a file that is pointed to by another file.</p></li>
<li><p><strong>Enter or Edit the Description of a File—</strong>You can enter or edit the word-processing text description for documenting the file at the “DESCRIPTION...” prompt. This description appears in the Standard, Modified Standard, and Global Map format data dictionary listings.</p></li>
<li><p><strong>Enter or Edit the Application Group—</strong>You can enter or edit the Application Group at the “Select APPLICATION GROUP:” prompt. Enter a namespace (from two to four characters) indicating a package accessing this file.</p></li>
<li><p><strong>Enter or Edit the Developer’s Name—</strong>You can enter or edit the name of the package developer at the “DEVELOPER:” prompt. Entering two question marks (“<strong>??</strong>”) lets you choose from a list of names.</p></li>
<li><p><strong>Enter or Edit the File Access Parameters—</strong>You can enter or edit the security access to a file by making entries at the “DATA DICTIONARY ACCESS:”, “READ ACCESS:”, “WRITE ACCESS:”, “DELETE ACCESS:”, “LAYGO ACCESS:”, and/or “AUDIT ACCESS:” prompts.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> File security is fully explained in the “<span class="underline">Data Security</span>” section.</p>
<ul>
<li><p><strong>Turn Auditing On/Off for a File’s Data Dictionary—</strong>If you want to turn auditing on for data dictionary changes, enter <strong>YES</strong> at the “DD AUDIT:” prompt. Answer <strong>NO</strong>, if you do <em>not</em> want to audit data dictionary changes.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Auditing is fully explained in the “<span class="underline">Auditing</span>” section.</p>
<ul>
<li><p><strong>Ask/Do Not Ask Users to Confirm Their Entry Selection—</strong>If you want users who select an entry in a file (for any lookup purpose) to confirm their entry selection by answering positively at the “…OK?” prompt, answer <strong>YES</strong> at the “ASK ‘OK’ WHEN LOOKING UP AN ENTRY:” prompt. If you do <em>not</em> want users to confirm their entry selection, answer <strong>NO</strong> at the “ASK ‘OK’ WHEN LOOKING UP AN ENTRY:” prompt. The default is <strong>NO</strong>.</p></li>
</ul>
<p><strong>TIP:</strong> Use this feature on files containing many similar or confusingly named entries (e.g., files for drugs).</p>
<ul>
<li><p><strong>Enter a File Screen—</strong>A line of MUMPS code can be entered here. It should set the $T switch TRUE or FALSE. At the time of execution “Y” is the number of a File entry, which you want to FILTER for lookup. Thus, this code is a ‘permanent DIC(“S”)’ for the file.</p></li>
</ul>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Misuse of this can disenable the file!</p>
<p>For example, this is the file screen for the NEW PERSON file (#200): I $$SCR200^XUSER.</p>
<ul>
<li><p><strong>Enter or Edit a Post-Selection Action (only available when you have programmer access)—</strong>If you have programmer access, you can write M code for a Post-Selection Action, for entries in this file.</p></li>
</ul>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> Post-Selection Action is explained in the <em>VA FileMan Developer’s Guide</em>.</p>
<ul>
<li><p><strong>Enter a Lookup Routine (only available when you have programmer access)—</strong>If you have programmer access, you also can enter an existing lookup routine. To do this, enter a routine namespace (from three to six characters, no “<strong>^</strong>”) at the “LOOK-UP PROGRAM:” prompt. The name you choose for the lookup routine <em>must</em> be a routine currently on the system. This special lookup routine is executed instead of the standard VA FileMan lookup logic, whenever a call is made to ^DIC.</p></li>
<li><p><strong>Specify that Cross-references on a File Should be Compiled (only available when you have programmer access)—</strong>If you have programmer access, you also can specify that cross-references on a file should be compiled. To do this, enter a routine namespace (from three to six characters, no “<strong>^</strong>”) at the “CROSS-REFERENCE ROUTINE:” prompt. This becomes the namespace of the compiled routines. If a <em>new</em> routine name is entered, but the cross-references are <em>not</em> compiled at this time, the routine name is automatically deleted.</p></li>
</ul>
<p>To <strong>stop</strong> the use of the compiled cross-references, enter an at-sign (“<strong>@</strong>”) at the “CROSS-REFERENCE ROUTINE:” prompt. At this point, the cross-references are considered uncompiled, and VA FileMan does <em>not</em> use the routine for re-indexing. If you decide later to recompile the cross-references, you are shown the routine name previously used so that you can easily reuse the same routine name. Stopping the use of the compiled cross-reference does <em>not</em> delete the compiled routines. If you want, you can delete those routines manually.</p>
<h2 id="output-transform">OUTPUT Transform</h2>
<p>Sometimes, you might want to display a field differently from the way in which it is stored. For example, a Social Security Number can be entered and stored as nine digits, but you may want it to always be displayed with punctuating hyphens. The Output Transform option allows you to make this kind of specification by associating with any field a computed expression that operates on the value of that field</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For details about using M code in an OUTPUT transform, see the “OUTPUT Transform” topic in the “Advanced File Definition” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<p>In the dialogue that follows, you encounter the responses that you would enter if you want your SSN field to always appear with inserted dashes.</p>
<p><span id="_Toc342980876" class="anchor"></span>Figure 198: File Utilities—Example of creating an OUTPUT transform</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITIES</p>
<p>Select UTILITY OPTION: <strong>OUT &lt;Enter&gt;</strong> PUT TRANSFORM</p>
<p>MODIFY WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>SSN</strong></p>
<p>SSN OUTPUT TRANSFORM: <strong>$E(SSN,1,3)_”-”_$E(SSN,4,5)_”-”_$E(SSN,6,9)</strong></p>

<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> REMEMBER:</p>
<ul>
<li><p>The transform does <em>not</em> apply when you are inputting data; thus, do <em>not</em> enter the dashes when using the Enter or Edit File Entries option.</p></li>
<li><p>To retrieve the internal, stored value of a field that has an OUTPUT transform, you can refer to the INTERNAL(SSN) function.</p></li>
<li><p>The internal form of the date is automatically invoked when you are sorting by a DATE/TIME valued field.</p></li>
</ul>
<h2 id="template-edit">Template Edit</h2>
<p>The Template Edit option available on the VA FileMan Utility Functions menu [DIUTILITY] is used to edit each of the three types of VA FileMan templates:</p>
<ul>
<li><p><strong>INPUT</strong></p></li>
<li><p><strong>PRINT</strong></p></li>
<li><p><strong>SORT</strong></p></li>
</ul>
<p>For each template type, a <em>two</em>-screen ScreenMan form is used. This allows you to edit templates in Screen Mode.</p>
<p>The <em><strong>first</strong></em> screen of the pair allows you to change the access privileges of the template you are editing:</p>
<ul>
<li><p><strong>READ ACCESS—</strong>This access controls which class of users [i.e., DUZ(0)] get to <em>use</em> the template.</p></li>
<li><p><strong>WRITE ACCESS—</strong>This access controls which class of users gets to <em>change</em> the template.</p></li>
</ul>
<p>The <em><strong>first</strong></em> screen also allows you to enter a DESCRIPTION for the purpose of documenting what the template does. This DESCRIPTION is printed on a “TEMPLATES ONLY” data dictionary list, and in the “TEMPLATES” section of other data dictionary listings.</p>
<p>The <em><strong>second</strong></em> screen allows you to edit the <em>contents</em> of a template. In order to “jump” to the second screen from the first screen in a Screen Mode, you need only press the <strong>&lt;PF1&gt;&lt;ArrowDown&gt;</strong> from wherever you are on the current screen.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The <em><strong>first</strong></em> screen provides the usual kind of field-by-field help in response to entering a single question mark (“<strong>?</strong>”); all help messages are displayed in the lower portion of the screen. Also, entering <strong>&lt;PF1&gt;H</strong> provides general ScreenMan help.<br />
<br />
The <em><strong>second</strong></em> screen, however, does <em>not</em> provide help on individual entries. Thus, if you are building a complicated new template from scratch, it is still a good idea to use the traditional, interactive Scrolling Mode with the Enter or Edit File Entries and Print File Entries options.</p>
<p><span class="underline">Figure 199</span> is an example the <em><strong>first</strong></em> screen of a PRINT template using the Template Edit option:</p>
<p><span id="_Ref389630010" class="anchor"></span>Figure 199: File Utilities—Example of the <em>first</em> screen of a PRINT template</p>
<p>Select Utility Functions Option: <strong>TEMPLATE &lt;Enter&gt;</strong> Edit</p>
<p>MODIFY WHAT FILE: NEW PERSON// <strong>&lt;Enter&gt;</strong></p>
<p>Select TEMPLATE File: <strong>PRINT &lt;Enter&gt;</strong> TEMPLATE</p>
<p>Select PRINT TEMPLATE: <strong>XUFILEINQ</strong></p>
<p>1 XUFILEINQ (Nov 04, 2004@11:29) File #200</p>
<p>2 XUFILEINQHDR (Apr 09, 1992@12:01) File #200</p>
<p>CHOOSE 1-2: <strong>1 &lt;Enter&gt;</strong> XUFILEINQ (Nov 04, 2004@11:29) File #200</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>You are then taken into a ScreenMan form where you can edit the template properties, as shown in <span class="underline">Figure 200</span>:</p>
<p><span id="_Ref343503446" class="anchor"></span>Figure 200: File Utilities—Editing a PRINT template’s properties in Screen Mode (<em>first</em> screen)</p>
<p>TEMPLATE NAME: XUFILEINQ TEMPLATE TYPE:</p>
<p><strong>(Compiled as ‘^XUFILEO’ routine) </strong></p>
<p>DATE LAST MODIFIED: <strong>NOV 4,2004@11:29 </strong></p>
<p>DATE LAST USED: <strong>MAY 17,2012</strong></p>
<p>READ ACCESS: <strong>@ </strong></p>
<p>WRITE ACCESS: <strong>@ </strong></p>
<p>USER #:</p>
<p>DESCRIPTION...</p>
<p>HEADER:</p>
<p><strong>[XUFILEINQHDR] </strong></p>
<p>SUB-HEADER SUPPRESSED:</p>
<p>(Print Fields on Next Page...)</p>
<p>_______________________________________________________________________________</p>
<p>Exit Save Next Page Refresh</p>
<p>Enter a command or ‘^’ followed by a caption to jump to a specific field.</p>
<p>COMMAND: NEXT Press &lt;PF1&gt;H for help Insert</p>
<p>The dates shown following the “DATE LAST MODIFIED” and “DATE LAST USED” prompts are for informational purposes only and are <em>not</em> editable. Also, if a template has been “compiled” into a set of routines, an informational message is displayed near the top of the screen (e.g., “Compiled as ‘^XUFILE0 routine”).</p>
<p>On the <em><strong>second</strong></em> screen of the form, you see the SORT, PRINT, or INPUT fields. Thus, you can use this second screen to edit the specific template fields.</p>
<p><span class="underline">Figure 201</span> is an example of the <em><strong>second</strong></em> screen of a PRINT template using the Template Edit option:</p>
<p><span id="_Ref343503456" class="anchor"></span>Figure 201: File Utilities—Editing a PRINT template’s properties in Screen Mode (<em>second</em> screen)</p>
<p>Editing Print Template “XUFILEINQ”</p>
<p>============[ INSERT ]=============&lt; (File 200) &gt;============[ &lt;PF1&gt;H=Help ]====</p>
<p>$S(#3=“@”:”Programmer Access to All Files”,1:”“);C38;L35;”“</p>
<p>ACCESSIBLE FILE</p>
<p>NUMBER;C1;L10;”FILE#”</p>
<p>ACCESSIBLE FILE;C12;L25</p>
<p>DATA DICTIONARY ACCESS;R3;”DD”</p>
<p>DELETE ACCESS;R5;”DELETE”</p>
<p>LAYGO ACCESS;R5;”LAYGO”</p>
<p>READ ACCESS;R4;”READ”</p>
<p>WRITE ACCESS;R5;”WRITE”</p>
<p>AUDIT ACCESS;R5;”AUDIT”</p>
<p>&lt;=======T=======T=======T=======T=======T=======T=======T=======T=======T=======</p>
<p>As you can see from this example, fields under a Multiple field (e.g., ACCESSIBLE FILE) are <em>indented</em>. As you edit, add, and delete subfields here, you <em>must</em> <em>preserve the indentation</em>. The same holds true for Relational Navigation within the template; fields jumped to are in a different file and are indented an extra three spaces each. You do <em>not</em> have to indent each new level exactly three spaces; however, there <em>must</em> be some extra number of spaces. Then, if necessary, “un-indent” the same number of spaces to get back to a previous level.</p>
<p>If a SORT template has a user number (i.e., USER #), only that user can use that SORT template in the VA FileMan Print File Entries option. To remove this restriction, simply delete the user number by entering an at-sign (“<strong>@</strong>”) at the “USER #” prompt.</p>
<p>For SORT templates, you can also use the <em><strong>first</strong></em> screen of the Template Edit option to associate a particular PRINT template with a SORT template. Thus, whenever that SORT template is invoked in the Print File Entries option, the associated PRINT template is used by default, with <em>no</em> “FIRST PRINT FIELD:” prompt being displayed to the user.</p>
<p><span id="_Toc342980880" class="anchor"></span>Figure 202: File Utilities—Example of the of a SORT Template (<em>first</em> screen)</p>
<p>Select Utility Functions Option: <strong>TEMPLATE &lt;Enter&gt;</strong> Edit</p>
<p>MODIFY WHAT FILE: NEW PERSON// <strong>&lt;Enter&gt;</strong></p>
<p>Select TEMPLATE File: <strong>SORT &lt;Enter&gt;</strong> TEMPLATE</p>
<p>Select SORT TEMPLATE: <strong>XUUFAA &lt;Enter&gt;</strong> XUUFAA</p>
<p>(JUL 01, 1987@10:51) User #9999 File #200</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>You are then taken into a ScreenMan form where you can edit the properties of the template, as shown below:</p>
<p><span id="_Ref343503465" class="anchor"></span>Figure 203: File Utilities—Editing a SORT Template’s Properties in Screen Mode (<em>first</em> screen)</p>
<p>TEMPLATE NAME: XUUFAA</p>
<p>DATE LAST MODIFIED: <strong>JUL 1,1987</strong></p>
<p>DATE LAST USED: <strong>JAN 29,1999</strong></p>
<p>READ ACCESS: <strong># </strong></p>
<p>WRITE ACCESS: <strong># </strong></p>
<p>USER #: <strong>             </strong></p>
<p>DESCRIPTION...</p>
<p>PRINT TEMPLATE: XUUFAA</p>
<p>(Sort Fields on Next Page...)</p>
<p>_______________________________________________________________________________</p>
<p>Exit Save Next Page Refresh</p>
<p>Enter a command or ‘^’ followed by a caption to jump to a specific field.</p>
<p>COMMAND: NEXT Press &lt;PF1&gt;H for help Insert</p>
<p>Editing SORT template fields is particularly tricky; however, most SORT templates have only three or so sort levels.</p>
<p><span class="underline">Figure 204</span> is an example of the <em><strong>second</strong></em> screen of a SORT template using the Template Edit option:</p>
<p><span id="_Ref343503475" class="anchor"></span>Figure 204: File Utilities—Editing a SORT Template’s Properties in Screen Mode (<em>second</em> screen)</p>
<p>Editing Sort Template “XUUFAA”</p>
<p>============[ INSERT ]=============&lt; (File 200) &gt;============[ &lt;PF1&gt;H=Help ]====</p>
<p>SORT BY: DATE/TIME OF ATTEMPT</p>
<p>From: JAN 1 1999</p>
<p>To: T_</p>
<p>WITHIN DATE/TIME OF ATTEMPT, SORT BY: USER</p>
<p>From:</p>
<p>To:</p>
<p>WITHIN USER, SORT BY: TYPE OF FAILED ATTEMPT</p>
<p>From:</p>
<p>To:</p>
<p>&lt;=======T=======T=======T=======T=======T=======T=======T=======T=======T=======</p>
<p>The specifications for each successive level of sorting are indented further to the right. You can add or insert sort levels; however, each sort group of lines <em>must</em> be indented further to the right than the sort group above it. For each level of sorting, except when the sorting is on a Boolean value, there should be a “From:” line and a “To:” line. You can also have a fourth line that says “ASK” or “DON’T ASK,” for sort ranges other than first-to-last. Remember to indent each line in a sort group by the same number of spaces.</p>
<h2 id="uneditable-data">Uneditable Data</h2>
<p>The Uneditable Data option allows you to specify that a field <em>cannot</em> be edited or deleted by a user.</p>
<p>If editing is attempted, the field’s value, along with a No Editing message, is displayed. If, however, the value is part of a subfield, the deletion of the entire entry in the Multiple-valued field is allowed, unless the .01 field of the Multiple itself is made uneditable.</p>
<p>You can also use this option to remove the uneditable restriction on a field.</p>
<h2 id="mandatoryrequired-field-check">Mandatory/Required Field Check</h2>
<p>The Mandatory/Required Field Check option checks that fields that are key fields or designated as required contain data. It can check one, a series, or all required entries in a file. If an entry lacks data in a required or key field, a report like <span class="underline">Figure 205</span> is furnished:</p>
<p><span id="_Ref389630684" class="anchor"></span>Figure 205: File Utilities—Mandatory/Required Field Check Report</p>
<p>Required-Field-Check File: <em>16026</em> <em>ZZPATIENT</em> PAGE 1</p>
<p>Entry DD-Number/Path Field</p>
<p>----------------------------------------------------------------------</p>
<p>3 FMPATIENT,25 16026 SSN</p>
<p>DIZ(16026,3</p>
<p>If all required and key fields contain data, then the NO REQUIRED FIELD IS MISSING message is displayed.</p>
<p>You can store the results in a template.</p>
<h2 id="key-definition">Key Definition</h2>
<p>The following topics are covered:</p>
<ul>
<li><p>Create a Key</p></li>
<li><p>Edit a Key</p></li>
<li><p>Delete a Key</p></li>
<li><p>Verify a Key</p></li>
</ul>
<p>Using the Key Definition option, VA FileMan allows you to define keys on a file or subfile. A key is a group of fields that, taken collectively, uniquely identifies a record. All fields in a key <em>must</em> have values (<em>must not</em> be null) and those values, taken together, <em>must</em> be unique across all records in the file or subfile. VA FileMan enforces KEY INTEGRITY whenever records are added or edited.</p>
<p>Exactly one key in a file <em>must</em> be designated the PRIMARY KEY. All other keys are SECONDARY KEYs. While VA FileMan enforces the integrity of both primary and SECONDARY KEYs, the PRIMARY KEY is VA FileMan’s principal means of looking up entries in the file. VA FileMan prompts for lookup values for each of the PRIMARY KEY fields, and considers a record a match only if it matches <em>all</em> of the lookup values. The .01 field should be a part of the PRIMARY KEY.</p>
<p>Keys are also useful when transporting data to another system using the Kernel Installation and Distribution System (KIDS). Since the key fields uniquely identify a record, it is easy to decide whether a record being brought in to the target system needs to be merged to a record that already exists, or whether it is a new record.</p>
<p>Associated with each key is a <em>Uniqueness Index</em>, a regular, New-Style cross-reference. The Uniqueness Index helps VA FileMan enforce KEY INTEGRITY and is used during lookup. When you create a new key, you can have VA FileMan create a new Uniqueness Index automatically for you, or you can select an existing index to be the Uniqueness Index of the key. The index you select, though, <em>must meet the following criteria</em>:</p>
<ul>
<li><p>It <em>must</em> be a regular, New-Style cross-reference.</p></li>
<li><p>It <em>must</em> be used for lookup and sorting; it <em>cannot</em> have a name that starts with the letter “<strong>A</strong>”.</p></li>
<li><p>It <em>cannot</em> have any SET or KILL conditions.</p></li>
<li><p>It <em>must</em> consist of only field-type cross-reference values, all of which are used as subscripts (i.e., it can contain no computed values).</p></li>
<li><p>No subscripts can have transforms.</p></li>
</ul>
<h3 id="create-a-key">Create a Key</h3>
<p>To create a key, do the following:</p>
<p><span id="_Toc342980884" class="anchor"></span>Figure 206: File Utilities—Creating a Key</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select UTILITY OPTION: <strong>KEY &lt;Enter&gt;</strong> DEFINITION</p>
<p>MODIFY WHAT FILE: <em>ZZPATIENT</em>// <strong>&lt;Enter&gt;</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>There are no Keys defined on file #<em>16026</em>.</p>
<p>Want to create a new Key for this file? No// <strong>YES</strong></p>
<p>Enter a Name for the new Key: A// <strong>&lt;Enter&gt;</strong></p>
<p>Creating new Key ‘A’ ...</p>
<p>You are then taken into Screen Mode (i.e., ScreenMan form) where you can edit the properties of the key. Enter a single question mark (“<strong>?</strong>”) or two question marks (“<strong>??</strong>”) at any prompt for additional help.</p>
<p><span id="_Toc342980885" class="anchor"></span>Figure 207: File Utilities—Creating a Key in Screen Mode</p>
<p>Number: 5 EDIT A KEY Page 1 of 1</p>
<p>---------------------------------------------------------------------</p>
<p>File: <em>16026</em> Name: A Priority: PRIMARY</p>
<p>KEY FIELDS:</p>
<p>==========</p>
<p>Field Seq No. File Field Name</p>
<p>----- ------- ---- ----------</p>
<p>Uniqueness Index:</p>
<p>Index Details...</p>
<p>_____________________________________________________________________</p>
<p>COMMAND: Press &lt;PF1&gt;H for help Insert</p>
<p>On this screen, in the KEY FIELDS section, you can select the fields you wish to include in this key, and assign each field a sequence number. The sequence number determines the order in which the fields appear as subscripts in the Uniqueness Index. If you select the key fields in this manner, leave the Uniqueness Index field blank. When you exit the form, VA FileMan prompts you for a name for the Uniqueness Index, and then creates the index automatically for you.</p>
<p><span id="_Toc342980886" class="anchor"></span>Figure 208: File Utilities—Creating the Uniqueness Index automatically</p>
<p>I’m going to create a new Uniqueness Index to support Key ‘A’ of File #16026.</p>
<p>Index Name: C// <strong>&lt;Enter&gt;</strong></p>
<p>One moment please ...</p>
<p>Building new index ... DONE!</p>
<p>Press RETURN to continue:</p>
<p>Alternatively, you can leave the information in the KEY FIELDS section blank, and select an existing Uniqueness Index. When you exit the form, VA FileMan checks that the information in the KEY FIELDS section is consistent with the selected Uniqueness Index. If there is a conflict, you are asked for a method to resolve the conflict. In this case, select Option #2, “Make Key match Uniqueness Index,” as shown below:</p>
<p><span id="_Toc342980887" class="anchor"></span>Figure 209: File Utilities—Resolving a conflict with the Key fields and Uniqueness Index</p>
<p>The Key fields and the fields in the Uniqueness Index don’t match.</p>
<p>Select one of the following:</p>
<p>1 Re-Edit the Key</p>
<p>2 Make Key match Uniqueness Index (also selected on up-arrow)</p>
<p>Enter response: <strong>2 &lt;Enter&gt;</strong> Make Key match Uniqueness Index (also selected on up-arrow)</p>
<p>Modifying fields in Key ... DONE!</p>
<h3 id="edit-a-key">Edit a Key</h3>
<p>To edit a key, identify the file or subfile you wish to edit. VA FileMan displays the cross-references on the file and offers you the choices of Edit, Delete, or Create.</p>
<p><span id="_Toc342980888" class="anchor"></span>Figure 210: File Utilities—Editing a Key</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select UTILITY OPTION: <strong>KEY &lt;Enter&gt;</strong> DEFINITION</p>
<p>MODIFY WHAT FILE: <em>ZZPATIENT</em>// <strong>&lt;Enter&gt;</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>Keys defined on file #<em>16026</em>:</p>
<p>A PRIMARY KEY Uniqueness Index: C</p>
<p>Field(s): 1) NAME (#.01)</p>
<p>2) SSN (#.02)</p>
<p>Choose V (Verify)/E (Edit)/D (Delete)/C (Create): <strong>EDIT</strong></p>
<p>Which Key do you wish to edit? A// <strong>&lt;Enter&gt;</strong></p>
<p>You are then taken into Screen Mode (i.e., ScreenMan form) where you can edit the properties of the key. Enter a single question mark (“<strong>?</strong>”) or two question marks (“<strong>??</strong>”) at any prompt for additional help.</p>
<h3 id="delete-a-key">Delete a Key</h3>
<p><span class="underline">Figure 211</span> shows how to delete a key.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You are also given the option of deleting the Uniqueness Index of the key.</p>
<p><span id="_Ref389634967" class="anchor"></span>Figure 211: File Utilities—Deleting a Key</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select UTILITY OPTION: <strong>KEY &lt;Enter&gt;</strong> DEFINITION</p>
<p>MODIFY WHAT FILE: <em>ZZPATIENT</em>// <strong>&lt;Enter&gt;</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>Keys defined on file #<em>16026</em>:</p>
<p>A PRIMARY KEY Uniqueness Index: C</p>
<p>Field(s): 1) NAME (#.01)</p>
<p>2) SSN (#.02)</p>
<p>Choose V (Verify)/E (Edit)/D (Delete)/C (Create): <strong>D &lt;Enter&gt;</strong> ELETE</p>
<p>Which Key do you wish to delete? A// <strong>&lt;Enter&gt;</strong></p>
<p>Are you sure you want to delete the Key? No// <strong>Y &lt;Enter&gt;</strong> ES</p>
<p>Key ‘A’ of File #<em>16026</em> deleted.</p>
<p>Do you want to delete the ‘C’ Uniqueness Index (#6) on File #<em>16026</em> previously</p>
<p>used by Key ‘A’ of File #<em>16026</em>? <strong>YES</strong></p>
<p>Index definition deleted.</p>
<p>Removing old index ... DONE!</p>
<h3 id="verify-a-key">Verify a Key</h3>
<p>When you verify the integrity of a key, VA FileMan checks that all fields in the key have values (are <em>not</em> null), and that those field values, taken together, are unique across all records in the file. Any problems are reported. You can also save the entries that violate KEY INTEGRITY in a template.</p>
<p><span id="_Ref389634953" class="anchor"></span>Figure 212: File Utilities—Verifying a Key</p>
<p>Select OPTION: <strong>UTI &lt;Enter&gt;</strong> LITY FUNCTIONS</p>
<p>Select UTILITY OPTION: <strong>KEY &lt;Enter&gt;</strong> DEFINITION</p>
<p>MODIFY WHAT FILE: <em>ZZPATIENT</em>// <strong>&lt;Enter&gt;</strong></p>
<p>Select Subfile: <strong>&lt;Enter&gt;</strong></p>
<p>Keys defined on file #<em>16026</em>:</p>
<p>A PRIMARY KEY Uniqueness Index: KEYA</p>
<p>Field(s): 1) NAME (#.01)</p>
<p>2) SSN (#.02)</p>
<p>Choose V (Verify)/E (Edit)/D (Delete)/C (Create): <strong>V &lt;Enter&gt;</strong> ERIFY</p>
<p>Which Key do you wish to verify? A// <strong>&lt;Enter&gt;</strong></p>
<p>STORE THESE ENTRY ID’S IN TEMPLATE: <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> Telnet terminal</p>
<p>KEY INTEGRITY CHECK DEC 31, 1998 09:23 PAGE 1</p>
<p>---------------------------------------------------------------------</p>
<p>Key: A (#5), File #<em>16026</em></p>
<p>Uniqueness Index: KEYA (#6)</p>
<p>ENTRY # NAME ERROR</p>
<p>------- ---- -----</p>
<p>1 FMPATIENT,10 Duplicate Key A (#5)</p>
<p>2 FMPATIENT,10 Duplicate Key A (#5)</p>
<p>3 FMPATIENT,25 Missing Key Field(s):</p>
<p>SSN [16026,.02]</p>
<p>In this example, records #1 and #2 have the same key, and record #3 is missing a value for SSN (field #.02).</p>

<h1 id="auditing">Auditing</h1>
<p>VA FileMan auditing tracks changes to data in a field (Auditing a Data Field) or changes to the file’s structure (Auditing a Data Dictionary). Fields are identified for auditing by using the Modify File Attributes option or by using the Turn Data Audit On/Off option (see the “<span class="underline">Turning Data Field Audit On/Off</span>” section). Thus, a user with limited VA FileMan access does <em>not</em> need the Modify File Attribute option to initiate an audit.</p>
<p>Files are identified for auditing by using the File Edit option.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Auditing can be resource intensive; it can slow your system considerably. It can also use considerable disk space. Use it with discretion.</p>
<p>The auditing options are located in the Other Options submenu:</p>
<p><span id="_Toc342980891" class="anchor"></span>Figure 213: Auditing—Audit options</p>
<p>Select OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>AUDITING</strong></p>
<p>Select AUDIT OPTION: <strong>?</strong></p>
<p>CHOOSE FROM:</p>
<p>1 FIELDS BEING AUDITED</p>
<p>2 MONITOR A USER</p>
<p>3 PURGE DATA AUDITS</p>
<p>4 PURGE DD AUDITS</p>
<p>5 TURN DATA AUDIT ON/OFF</p>
<p>6 SHOW PAST CHANGES TO DD’S</p>
<p>Select AUDIT OPTION:</p>
<p>The use of these options is described in the topics that follow in this section.</p>
<h2 id="auditing-a-data-field">Auditing a Data Field</h2>
<ul>
<li><p><span class="underline">Overview</span></p></li>
<li><p><span class="underline">Setting a Data Field Audit</span></p></li>
<li><p><span class="underline">Turning Data Field Audit On/Off</span></p></li>
<li><p><span class="underline">Reviewing the Data Field Audit Trail</span></p></li>
<li><p><span class="underline">Tracking Data Field Audits</span></p></li>
<li><p><span class="underline">Purging a Data Field Audit Trail</span></p></li>
</ul>
<h3 id="overview-1">Overview</h3>
<p>Use the Enter or Edit File Entries option to add, change, or delete data values. For example, an admission clerk can use the Enter or Edit File Entries option to enter a Date of Birth of ‘JAN 20, 1949’ for patient ONE FMPATIENT. Later, a nurse could use the same option to change the value to ‘JAN 20, 1950’. You might like to know who made the successive changes and when; the data field audit capability is designed to record this information.</p>
<p>When changes like the ones mentioned above are made to an audited field, the date and time the change was made, the user’s name, and the old and new data values are stored in the AUDIT file (#1.1). In other words, starting an audit on a data field provides an ongoing chronological list of who made what changes to data values of fields you are auditing.</p>
<h3 id="setting-a-data-field-audit">Setting a Data Field Audit</h3>
<p>To begin auditing data changes in a field, use the Modify File Attributes option, choose the file and fields that should be audited and answer <strong>YES</strong> or <strong>EDITED</strong> to the “AUDIT:” prompt. The possible responses to the “AUDIT:” prompt are:</p>
<p><span id="_Toc342980892" class="anchor"></span>Table 94: Auditing—”AUDIT” prompt response</p>
<table>
<tbody>
<tr class="odd">
<td>Response</td>
<td>Description</td>
</tr>
<tr class="even">
<td><strong>YES, ALWAYS</strong></td>
<td>Indicates the audit will occur when data is initially entered, changed or deleted.</td>
</tr>
<tr class="odd">
<td><strong>EDITED OR DELETED</strong></td>
<td>Means that the audit only occurs when changes are made or values deleted (<em>not</em> when the data is initially entered).</td>
</tr>
<tr class="even">
<td><strong>NO</strong></td>
<td>Turns the audit off.</td>
</tr>
<tr class="odd">
<td><strong>@</strong></td>
<td>Deletes the current audit status (effectively turning audit off), <em>not</em> the field.</td>
</tr>
</tbody>
</table>
<p>The example in <span class="underline">Figure 214</span> initiates a Data Field audit on the DATE OF BIRTH field of the PATIENT file (#2). Only changes to pre-existing data are recorded:</p>
<p><span id="_Ref389631587" class="anchor"></span>Figure 214: Auditing—Example of a Data Field Audit</p>
<p>Select OPTION: <strong>MOD &lt;Enter&gt;</strong> ify File Attributes</p>
<p>Do you want to use the screen-mode version? YES// <strong>&lt;Enter&gt;</strong></p>
<p>MODIFY WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>DATE OF BIRTH</strong></p>
<p>LABEL: <strong>&lt;Enter&gt;</strong></p>
<p>TITLE: <strong>&lt;Enter&gt;</strong></p>
<p>AUDIT: <strong>EDITED &lt;Enter&gt;</strong> EDITED OR DELETED</p>
<p><strong>.</strong></p>
<p><strong>.</strong></p>
<p><strong>.</strong></p>
<p>If you have programmer access, you are also presented with the “AUDIT CONDITION:” prompt. Here, you can restrict the data entries that are audited. Enter a line of M code that <em>must</em> evaluate true or false. If it evaluates true, an audit record of the value change is made. Otherwise, no auditing is done for that data entry.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on the audit condition, see the “Advanced File Definition” section in the <em>VA FileMan Developer’s Guide</em>.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If auditing is <em>not</em> turned on for the field with a <strong>YES</strong> or <strong>EDITED</strong> answer to the “AUDIT:” prompt, the field is <em>not</em> audited, even if code is entered at the “AUDIT CONDITION:” prompt.</p>
<p>Fields with a DATA TYPE field of COMPUTED or WORD-PROCESSING <em>cannot</em> be audited.</p>
<p>In order to initiate an audit of data fields or of a data dictionary, you <em>must</em> have AUDIT access to the files you want to audit.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information about AUDIT access, see the “Data Security” section.</p>
<h3 id="turning-data-field-audit-onoff">Turning Data Field Audit On/Off</h3>
<p>Users who do <em>not</em> have the Modify File Attributes option (DD access) to files can be given the Turn Data Audit On/Off option. This option is found on VA FileMan’s Auditing submenu. It is used to begin or end an audit trail for fields. The user <em>must</em> have AUDIT access to the file to set data audits. No other access is necessary. The Turn Data Audit On/Off option is called DIAUDIT TURN ON/OFF; it can be granted to users with Kernel’s menu management options. No other attributes in the field definition can be affected by use of this option.</p>
<p>Use of Turn Data Audit On/Off is very similar to using the Modify File Attributes option:</p>
<p><span id="_Toc342980894" class="anchor"></span>Figure 215: Auditing—Turning a Data Audit On</p>
<p>Select OPTION: <strong>OTHER &lt;Enter&gt;</strong> OPTIONS</p>
<p>Select OTHER OPTION: <strong>AUDITING</strong></p>
<p>Select AUDITING OPTION: <strong>TURN &lt;Enter&gt;</strong> DATA AUDIT ON/OFF</p>
<p>AUDIT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>DATE OF BIRTH</strong></p>
<p>AUDIT: <strong>EDITED &lt;Enter&gt;</strong> OR DELETED</p>
<p>To end the audit trail, simply re-enter the Turn Data Audit On/Off option and turn the audit off by entering NO at the “AUDIT:” prompt:</p>
<p><span id="_Toc342980895" class="anchor"></span>Figure 216: Auditing—Turning a Data Audit Off</p>
<p>AUDIT: EDITED OR DELETED// <strong>NO &lt;Enter&gt;</strong> NO</p>
<h3 id="reviewing-the-data-field-audit-trail">Reviewing the Data Field Audit Trail</h3>
<h4 id="captioned-output-with-audit-trail">CAPTIONED Output with Audit Trail</h4>
<p>There are a number of different ways to retrieve audit information. The simplest is to examine all the audited past values for a particular entry, or a set of entries. Say you are reviewing patient entries in the PATIENT file (#2). Using either the Inquire to File Entries or the Print File Entries options, specify the [CAPTIONED] output. If the file has audited data on record, you are asked whether you want to see the audit trail on the patients displayed.</p>
<p>Suppose the PATIENT file (#2) has been edited so that patient “FMPATIENT” was first assigned a DOB of 1/20/49, but that subsequently this DOB was changed to 1/20/50.</p>
<p><span id="_Toc472602312" class="anchor"></span>Figure 217: Auditing—CAPTIONED Output with Audit Trail</p>
<p>Select OPTION: <strong>INQUIRE &lt;Enter&gt;</strong> TO FILE ENTRIES</p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>Select PATIENT: <strong>FMPATIENT,ONE</strong></p>
<p>ANOTHER ONE:</p>
<p>STANDARD CAPTIONED OUTPUT? Yes// <strong>&lt;Enter&gt;</strong> (Yes)</p>
<p>Include COMPUTED fields:  (N/Y/R/B): NO// <strong>&lt;Enter&gt;</strong> - No record number (IEN), no Computed Fields</p>
<p>DISPLAY AUDIT TRAIL? No// <strong>YES</strong></p>
<p>NAME: FMPATIENT, ONE       DOB: JAN 20, 1950</p>
<p>    Changed from “JAN 20, 1949” on Mar 15, 2001@16:48:53 by User #16</p>
<p>    Created on Mar 13, 2001@19:41:36 by User #330</p>
<h4 id="computed-field-functions-for-retrieving-audit-changes">Computed-Field Functions for Retrieving Audit Changes</h4>
<p>Three powerful new functions allow retrieval of audit data. As with all Computed Expressions, use of these functions is in the context of a given entry in a given (audited) file.</p>
<ul>
<li><p><strong>PRIORVALUE(Field_name)</strong> returns values of the “Field_name” field that existed before a change was made.</p></li>
<li><p><strong>PRIORDATE(Field_name)</strong> returns the corresponding date/time at which a change to the field value was made.</p></li>
<li><p><strong>PRIORUSER(Field_name)</strong> returns the corresponding user number (“DUZ”) who made the change to the field value.</p></li>
</ul>
<p>Each of these Functions is multi-valued, since the Field value for the entry may have been changed more than once in the past. The Functions “1ST”, “2ND”, “LAST”, “COUNT” can be used with these Multiples. Thus, the Computed Expression <strong>COUNT(PRIORVALUE(NAME))&gt;4</strong> means “the NAME on this entry has been changed more than four times in the past”. To find any entry whose NAME <span class="underline">used to contain</span> “FMUSER”, search for <strong>PRIORVALUE(NAME)[“FMUSER”]</strong>.</p>
<h4 id="audit-file">AUDIT File</h4>
<p>A more specialized way to examine audits is to query the AUDIT file (#1.1) to obtain audit information. The set of all past audited events for a given VA FileMan file is itself a VA FileMan file, which can be queried or printed. The entries are identified as follows:</p>
<ol type="1">
<li><blockquote>
<p>By their internal entry number in the AUDIT file.</p>
</blockquote></li>
</ol>
<ol start="26" type="1">
<li><p>By the internal entry number of the edited entry from the file being audited.</p></li>
<li><p>By the date/time of the audited event.</p></li>
</ol>
<p>Suppose “FMPATIENT,ONE” is the 355th entry in the PATIENT file (#2).</p>
<p><span id="_Toc472602313" class="anchor"></span>Figure 218: Auditing—AUDIT File: Query</p>
<p>OUTPUT FROM WHAT FILE: PATIENT// <strong>1.1 &lt;Enter&gt;</strong> AUDIT</p>
<p>AUDIT FROM WHAT FILE: PATIENT// <strong>&lt;Enter&gt;</strong></p>
<p>Select PATIENT AUDIT: <strong>1 &lt;Enter&gt;</strong> 355      3-15-2001@16:48:53</p>
<p>ANOTHER ONE: <strong>&lt;Enter&gt;</strong></p>
<p>STANDARD CAPTIONED OUTPUT? YES// <strong>&lt;Enter&gt;</strong> (YES)</p>
<p>DISPLAY COMPUTED FIELDS? NO// <strong>Y &lt;Enter&gt;</strong> (YES)</p>
<p>Responding with <strong>YES</strong> at the “DISPLAY COMPUTED FIELDS? NO//” prompt shows the AUDIT file’s COMPUTED fields: ENTRY NAME, FIELD NAME, OLD VALUE, and NEW VALUE. A <strong>NO</strong> response does <em>not</em> show these fields.</p>
<p><span class="underline">Figure 219</span> shows the output that is produced:</p>
<p><span id="_Ref389631837" class="anchor"></span>Figure 219: Auditing—AUDIT File: Output</p>
<p>NUMBER: 1                  INTERNAL ENTRY NUMBER: 355</p>
<p>DATE/TIME RECORDED: JAN 06, 2003@12:42:08 </p>
<p>FIELD NUMBER: 2    USER: FMUSER,FIVE</p>
<p>OLD INTERNAL VALUE: 2490120 DATATYPE OF OLD VALUE: Da</p>
<p>NEW INTERNAL VALUE: 2500120 DATATYPE OF NEW VALUE: Da</p>
<p>ENTRY NAME (c): FMPATIENT,ONE FIELD NAME (c): DATE</p>
<p>OLD VALUE (c): JAN 06, 2003 NEW VALUE (c): FEB 03, 2003</p>
<p>If you deleted FMPATIENT’s DATE OF BIRTH, the corresponding entry in File #1.1 would show the NEW VALUE as <strong>&lt;deleted&gt;</strong>. If the entire entry for FMPATIENT were deleted, there would be no value for the ENTRY NAME field in any of the audit listings for that entry. The last audit entry would show <strong>&lt;deleted&gt;</strong> for the NEW VALUE of the DATE OF BIRTH field.</p>
<p>Since the entries in the Audit file can be sorted just as flexibly as those in any other VA FileMan file, you could easily, for example, search for all audits that occurred between a range of DATE/TIME RECORDED values.</p>
<h3 id="tracking-data-field-audits">Tracking Data Field Audits</h3>
<p>Use the Fields Being Audited option to list the audited fields from a file or a specified range of files. After selecting the Fields Being Audited option, give a file (or a range) at the “START WITH WHAT FILE:” and “GO TO WHAT FILE:” prompts. You receive a report with the file number, field number, field name, type of field being audited, and the type of audit being performed.</p>
<p>The listing below shows all fields flagged for auditing in a file range:</p>
<p><span id="_Toc342980899" class="anchor"></span>Figure 220: Auditing—Sample listing showing fields flagged for auditing</p>
<p>AUDITED FIELDS JAN 20, 1989 10:10 PAGE 1</p>
<p>FILE NUMBER LABEL TYPE AUDIT</p>
<p>---------------------------------------------------------------------</p>
<p>16 2 DOB DATE/TIME YES, ALWAYS</p>
<p>40.5 10 LOCATION POINTER EDITED OR DELETED</p>
<p>1036 1 SEX SET EDITED OR DELETED</p>
<p>1036 7 SSN FREE TEXT YES, ALWAYS</p>
<h3 id="purging-a-data-field-audit-trail">Purging a Data Field Audit Trail</h3>
<p>Use the Purge Data Audits option to purge the audit trail. It purges the records used for auditing data fields for a specified file. Purging audit trails is <em>not</em> an automatic feature; it <em>must</em> be done manually.</p>
<p>You should do either of the following:</p>
<ul>
<li><p>Turn auditing off on the files you are purging while you are doing the purge.<br />
<br />
Or</p></li>
<li><p>Leave auditing on but purge the file when <em>not</em> many users are on the system.</p></li>
</ul>
<p>If you purge when auditing is on and people are using the file in question, it is possible that you might end up with incomplete audit records on the audited file.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Purged audit records <em>cannot</em> be recovered!</p>
<p><span class="underline">Figure 221</span> illustrates purging <em>selected</em> records from the audit trail:</p>
<p><span id="_Ref389631876" class="anchor"></span>Figure 221: Auditing—Choosing to purge only <em>selected</em> data audit records</p>
<p>Select OPTION: <strong>OTHER &lt;Enter&gt;</strong> OPTION</p>
<p>Select OTHER OPTION: <strong>AUDITING</strong></p>
<p>Select AUDIT OPTION: <strong>PURGE DATA AUDITS</strong></p>
<p>AUDIT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>DO YOU WANT TO PURGE ALL DATA AUDIT RECORDS? NO// <strong>&lt;Enter&gt;</strong></p>
<p>Answering <strong>NO</strong> to the “DO YOU WANT TO PURGE ALL DATA AUDIT RECORDS? NO//” prompt allows you to specify which entries to purge.</p>
<p><span id="_Ref386550307" class="anchor"></span>Figure 222: Auditing—Listing internal entry numbers for data audit fields for possible purging</p>
<p>PURGE AUDIT RECORDS BY: INTERNAL ENTRY NUMBER// <strong>??</strong></p>
<p>CHOOSE FROM:</p>
<p>.001 NUMBER</p>
<p>.01 INTERNAL ENTRY NUMBER</p>
<p>.02 DATE/TIME RECORDED</p>
<p>.03 FIELD NUMBER</p>
<p>.04 USER</p>
<p>1 ENTRY NAME</p>
<p>1.1 FIELD NAME</p>
<p>2 OLD VALUE</p>
<p>2.1 OLD INTERNAL VALUE</p>
<p>2.2 DATATYPE OF OLD VALUE</p>
<p>3 NEW VALUE</p>
<p>3.1 NEW INTERNAL VALUE</p>
<p>3.2 DATATYPE OF NEW VALUE</p>
<p>4.1 MENU OPTION USED</p>
<p>4.2 PROTOCOL or OPTION USED</p>
<p>TYPE ‘-’ IN FRONT OF NUMERIC-VALUED FIELD TO SORT FROM HI TO LO</p>
<p>TYPE ‘+’ IN FRONT OF FIELD NAME TO GET SUBTOTALS BY THAT FIELD,</p>
<p>‘#’ TO PAGE-FEED ON EACH FIELD VALUE, ‘!’ TO GET RANKING NUMBER,</p>
<p>‘@’ TO SUPPRESS SUB-HEADER, ‘]’ TO FORCE SAVING SORT TEMPLATE</p>
<p>TYPE ‘;TXT’ AFTER FREE-TEXT FIELDS TO SORT NUMBERS AS TEXT</p>
<p>TYPE [TEMPLATE NAME] IN BRACKETS TO SORT BY PREVIOUS SEARCH RESULTS</p>
<p>TYPE ‘BY(0)’ TO DEFINE RECORD SELECTION AND SORT ORDER</p>
<p>You can specify which records to purge by referencing any field in the AUDIT file (#1.1). You can select the records by using the same criteria available at the “SORT BY:” prompt.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more details on the “SORT BY:” prompt, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p><span id="_Toc342980902" class="anchor"></span>Figure 223: Auditing—Purging <em>selected</em> audit records from a file</p>
<p>PURGE AUDIT RECORDS BY: INTERNAL ENTRY NUMBER// <strong>USER</strong></p>
<p>START WITH USER: FIRST// <strong>FMUSER</strong></p>
<p>GO TO USER: LAST// <strong>FMUSER</strong></p>
<p>WITHIN USER, PURGE AUDIT RECORDS BY: <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>...HMMMM, LET ME PUT YOU ON ‘HOLD’ FOR A SECOND...</p>
<p>PURGE OF AUDIT DATA: PATIENT FEB 21, 1990 13:26 PAGE 1</p>
<p>------------------------------------------------------------------</p>
<p>4 RECORDS PURGED.</p>
<p>The dialogue in <span class="underline">Figure 224</span> purges <em>all</em> records from the PATIENT file’s audit trail:</p>
<p><span id="_Ref389631915" class="anchor"></span>Figure 224: Auditing—Purging <em>all</em> audit records from a file</p>
<p>AUDIT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>DO YOU WANT TO PURGE ALL DATA AUDIT RECORDS? NO// <strong>YES</strong></p>
<p>ARE YOU SURE? NO// <strong>YES</strong></p>
<p>DELETED</p>
<h2 id="auditing-a-data-dictionary">Auditing a Data Dictionary</h2>
<p>In addition to auditing changes to data values, changes to data dictionaries are audited.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> The Description and Technical Description field changes are not audited.</p>
<ul>
<li><p><span class="underline">Setting Automatic Data Dictionary Auditing</span></p></li>
<li><p><span class="underline">Reviewing the Data Dictionary Audit Trail</span></p></li>
<li><p><span class="underline">Purging a Data Dictionary Audit Trail</span></p></li>
<li><p><span class="underline">Auditable Word Processing Fields</span></p></li>
<li><p><span class="underline">Word Processing Fields Can be Made Uneditable</span></p></li>
<li><p><span class="underline">Reviewing a User’s Data Access</span></p></li>
</ul>
<h3 id="setting-automatic-data-dictionary-auditing">Setting Automatic Data Dictionary Auditing</h3>
<p>Substantive Data Dictionary changes are automatically recorded. No action is needed to start this auditing. Auditing results are saved in the DD Audit File (#.6). Changes to some documentation-related attributes (e.g., Description and Technical Description) are not audited.</p>
<h3 id="reviewing-the-data-dictionary-audit-trail">Reviewing the Data Dictionary Audit Trail</h3>
<p>To see what changes were made to a specific file’s data dictionary, use the Inquire to File Entries or Print File Entries option and identify the DD AUDIT file (#.6) as the file of choice. To see all changes made to data dictionaries during a period of time use the Show Past Changes to DDs option.</p>
<p><span class="underline">Figure 225</span> is an example of how to identify the changes made to a data dictionary:</p>
<p><span id="_Ref389631942" class="anchor"></span>Figure 225: Auditing—Choosing to review a Data Dictionary Audit</p>
<p>Select OPTION: <strong>INQ &lt;Enter&gt;</strong> UIRE TO FILE ENTRIES</p>
<p>OUTPUT FROM WHAT FILE: <strong>.6 &lt;Enter&gt;</strong> DD AUDIT</p>
<p>AUDIT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>Select PATIENT SUB-FILE: <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You only see the “SUB-FILE” prompt if the file contains a Subfile. To display audit information for the Subfile, specify it here.</p>
<p><span id="_Toc342980906" class="anchor"></span>Figure 226: Auditing—Specifying a Data Dictionary Audit</p>
<p>Select PATIENT DD AUDIT: <strong>?</strong></p>
<p>ANSWER WITH ZZPT DD AUDIT NUMBER, OR FIELD NUMBER, OR DATE</p>
<p>UPDATED, OR USER</p>
<p>CHOOSE FROM:</p>
<p>1 2 02-20-90 FMUSER,FIVE</p>
<p>2 3 02-20-90 FMUSER,FIVE</p>
<p>The entries in the DD AUDIT file (#.6) are identified by the field number (2 and 3 in this example), the date of the change (02/20/90 for both entries), and the person making the change (DEVELOPER, SYSTEMS for both).</p>
<p><span id="_Toc342980907" class="anchor"></span>Figure 227: Auditing—Reviewing a Data Dictionary Audit</p>
<p>Select PATIENT DD AUDIT: <strong>1</strong></p>
<p>ANOTHER ONE: <strong>2</strong></p>
<p>ANOTHER ONE: <strong>&lt;Enter&gt;</strong></p>
<p>STANDARD CAPTIONED OUTPUT? YES// <strong>&lt;Enter&gt;</strong></p>
<p>DISPLAY COMPUTED FIELDS? NO// <strong>&lt;Enter&gt;</strong></p>
<p>NUMBER: 1 FIELD NUMBER: 2</p>
<p>TYPE: EDIT DATE UPDATED: FEB 20, 1990@17:54:36</p>
<p>USER: FMUSER,FIVE ATTRIBUTE NAME: LABEL</p>
<p>ATTRIBUTE NUMBER: .01 FILE NUMBER: 999000</p>
<p>OLD VALUE(S): DATE OF BIRTH NEW VALUE(S): DOB</p>
<p>NUMBER: 2 FIELD NUMBER: 3</p>
<p>TYPE: EDIT DATE UPDATED: FEB 21, 1990@11:54:03</p>
<p>USER: FMUSER,FIVE ATTRIBUTE NAME: LABEL</p>
<p>ATTRIBUTE NUMBER: .01 FILE NUMBER: 999000</p>
<p>OLD VALUE(S): CURRENT AGE NEW VALUE(S): AGE</p>
<p>This example indicates that a user named <em>Systems Developer</em> modified the (fictitious) PATIENT file (#999000) on 2/20 and 2/21/90. This person edited the LABEL (.01 attribute) of Fields #2 and #3. The LABEL of Field #2 was changed from DATE OF BIRTH to DOB and the LABEL of Field #3 was changed from CURRENT AGE to AGE. The number of the first change as it was recorded in the DD AUDIT file (#.6) is 1 and the second is 2.</p>
<p>If, instead, you want a complete listing of all data dictionary changes regardless of file, use the Show DD Audit Trail Option. This option prompts you for the starting date of the audits you want to see. By default, all changes since the last purge of data dictionary audits will be shown. The audits are sorted by File Number and then in reverse date/time. The field, field attribute, and user making the change are shown as well as the before and after values.</p>
<p>In <span class="underline">Figure 228</span>, two files were changed; multiple changes were made to the first and one to the second.</p>
<p><span id="_Ref462316616" class="anchor"></span>Figure 228: Auditing—Reviewing DD Changes for Time Period</p>
<p>Select OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>AUDITING</strong></p>
<p>Select AUDIT OPTION: <strong>SHOW DD AUDIT TRAIL</strong></p>
<p>Show Data Dictionary changes since: First// <strong>T-3 &lt;Enter&gt;</strong> (MAR 12, 2013)</p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> TELNET</p>
<p>DATA DICTIONARY CHANGES, LOCAL SERIALS FILE(#680) since MAR 12,2013</p>
<p>FIELD ATTRIBUTE USER NUMBER</p>
<p>------------------------------------------------------------------------------</p>
<p>ADDED DATE TYPE MAR 12,2013@16:04:24 1</p>
<p>FROM: D</p>
<p>TO: Da</p>
<p>TITLE TYPE MAR 12,2013@16:02:01 1</p>
<p>FROM: RP680.5a</p>
<p>TO: RP680.5</p>
<p>DATA DICTIONARY CHANGES, VA FILEMAN CHANGE FILE(#1009) since MAR 12,2013</p>
<p>FIELD ATTRIBUTE USER NUMBER</p>
<p>------------------------------------------------------------------------------</p>
<p>REVIEW DISPOSITION TYPE MAR 13,2013@13:28:21 1</p>
<p>FROM: F:Failed. Doesn't work.;D:Not documented.;1:All Okay.;T:Not tested.;R:Rolled Back. N/A.;</p>
<p>TO: F:Failed. Doesn't work.;D:Not documented.;1:All Okay.;T:Not tested.;R:Rolled Back. N/A.;DT:Neither tested nor documented.;</p>
<h3 id="purging-a-data-dictionary-audit-trail">Purging a Data Dictionary Audit Trail</h3>
<p>Use the Purge DD Audits option to erase <em>all</em> audit trails used in auditing data dictionaries (including Subfiles that have their own data dictionaries) for a specified file. Purging is <em>not</em> an automatic feature, it <em>must</em> be done manually.</p>
<p>You should do either of the following:</p>
<ul>
<li><p>Turn auditing off on the files you are purging while you are doing the purge.<br />
<br />
OR</p></li>
<li><p>Leave auditing on but purge the file when <em>not</em> many users are on the system.</p></li>
</ul>
<p>If you purge when auditing is on and people are using the file in question, it is possible that you might end up with incomplete audit records on the audited file.</p>
<p>The dialogue in <span class="underline">Figure 229</span> results in purging <em>selected</em> data dictionary audit records for the user FMUSER:</p>
<p><span id="_Ref389631978" class="anchor"></span>Figure 229: Auditing—Purging <em>selected</em> Data Dictionary Audit records</p>
<p>Select AUDIT OPTION: <strong>PURGE &lt;Enter&gt;</strong> DD AUDITS</p>
<p>AUDIT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>Select PATIENT SUB-FILE: <strong>&lt;Enter&gt;</strong></p>
<p>DO YOU WANT TO PURGE ALL DD AUDIT RECORDS? NO// <strong>NO</strong></p>
<p>PURGE DD AUDIT RECORDS BY: FIELD NUMBER// <strong>USER</strong></p>
<p>START WITH USER: FIRST// <strong>FMUSER</strong></p>
<p>GO TO USER: LAST// <strong>FMUSER</strong></p>
<p>WITHIN USER, PURGE AUDITS RECORDS BY: <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>HOLD ON, PLEASE...</p>
<p>PURGE OF DD AUDIT: PATIENT FILE FEB 21, 1990 14:45 PAGE 1</p>
<p>------------------------------------------------------------------</p>
<p>9 RECORDS PURGED.</p>
<p>The dialogue in <span class="underline">Figure 230</span> results in purging <em>all</em> data dictionary audit records for the PATIENT file (#2):</p>
<p><span id="_Ref389632031" class="anchor"></span>Figure 230: Auditing—Purging <em>all</em> Data Dictionary Audit records</p>
<p>AUDIT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>Select PATIENT SUB-FILE: <strong>&lt;Enter&gt;</strong></p>
<p>DO YOU WANT TO PURGE ALL DD AUDIT RECORDS? NO// <strong>YES</strong></p>
<p>ARE YOU SURE? NO// <strong>YES</strong></p>
<p>DELETED</p>
<h3 id="auditable-word-processing-fields">Auditable Word Processing Fields</h3>
<p>VA FileMan security has been improved by allowing word-processing fields to be audited. The functionality allows storing auditable information when information is added, edited, updated, and/or deleted.</p>
<p>User <em>must</em> have the XUAUDITING security key to set this functionality.</p>
<p><span id="_Ref462318461" class="anchor"></span>Figure 231: Auditing—Auditable Word Processing Fields</p>
<p>Select Other Options &lt;TEST ACCOUNT&gt; Option: <strong>AUDIT MENU</strong></p>
<p>Select Audit Menu &lt;TEST ACCOUNT&gt; Option: <strong>TURN DATA AUDIT ON/OFF</strong></p>
<p>Audit from what File:</p>
<p>Select FIELD:</p>
<p>AUDIT: y// <strong>?</strong></p>
<p>Choose from:</p>
<p>y YES, ALWAYS</p>
<p>n NO</p>
<p>e EDITED OR DELETED</p>
<h3 id="word-processing-fields-can-be-made-uneditable">Word Processing Fields Can be Made Uneditable</h3>
<p>With this enhancement, reference files and clinically significant text can now be protected from subsequent change.</p>
<p><span id="_Ref462319266" class="anchor"></span>Figure 232: Auditing—+Uneditable Data</p>
<p>Select Utility Functions &lt;TEST ACCOUNT&gt; Option: <strong>UNEDITABLE DATA</strong></p>
<p>Modify what File:</p>
<p>Select FIELD:</p>
<p>WANT TO PREVENT ALL USERS FROM CHANGING OR DELETING DATA VALUES</p>
<p>THAT ARE ENTERED FOR THE 'WPF' FIELD? No// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<p>...FIELD IS NOW UNEDITABLE</p>
<h3 id="reviewing-a-users-data-access">Reviewing a User’s Data Access</h3>
<p>You can see when a specified user has accessed a file by using the Monitor A User option. To begin the report, you need to identify the user you want to monitor, the file of interest, and a date. The resulting report indicates which entries the user edited and the first and last time the user edited them. You can obtain details of the edits made by using the Inquire or Print options to query the AUDIT file as described above.</p>
<p>Note: This option only reports edits for files during periods for which data auditing is turned on.</p>
<p><span id="_Ref462319281" class="anchor"></span>Figure 233: Auditing—Sample User Access Report</p>
<p>Select AUDIT OPTION: <strong>MONITOR A USER</strong></p>
<p>Select a USER who has signed on to this system: <strong>TESTMASTER,USER</strong></p>
<p>Select AUDITED File: <strong>VA FILEMAN ROUTINE</strong></p>
<p>START WITH DATE: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong> TELNET</p>
<p>VA FILEMAN ROUTINE RECORDS ACCESSED BY FMUSER,ONE (DUZ=1) Page 1</p>
<p>EARLIEST ACCESS LATEST ACCESS</p>
<p>-------------------------------------------------------------------------</p>
<p>DIFROM NOV 14,2012@15:02:14</p>
<p>DIFROM1 NOV 14,2012@15:59:29</p>
<p>DINVGTM NOV 30,2012@14:12:24</p>
<p>DINVGUX NOV 30,2012@15:29:19</p>

<h1 id="data-security">Data Security</h1>
<p>VA FileMan has facilities for screening access to entire files <em>and</em> to data within files on a field-by-field basis. Access to previously defined templates is also controlled.</p>
<p>When used with Kernel, there are two possible mechanisms for control of user access:</p>
<ul>
<li><p>Associating an Access Code with every user and with every file, field, and template on the system. The user’s Access Code is stored in the local variable.</p></li>
<li><p>Doing a lookup into a user’s entry in the NEW PERSON file (#200) to see if the file in question is available to that user. The method is in effect only if Kernel’s File Access Security has been installed on the system. It takes precedence over the Access code method for file-level security. Field and template security are unaffected by Kernel’s File Access Security; they remain enforced by Access code.</p></li>
</ul>
<p>These methods for data security are described in this section.</p>
<h2 id="security-at-the-file-level">Security at the File Level</h2>
<p>There are two methods of controlling access to files:</p>
<ul>
<li><p>Access Code Security on Files</p></li>
<li><p>File Access Security (Formerly Part 3 of Kernel)</p></li>
</ul>
<p>On a particular system only one method is in effect at a particular time. If File Access Security has been installed, it controls file-level security; otherwise, access is controlled by Access codes. Obviously, if you are using VA FileMan without Kernel, only Access code security is possible.</p>
<h3 id="access-code-security-on-files">Access Code Security on Files</h3>
<p>The Access code is a string of characters that correspond to functional data access categories. For example:</p>
<ul>
<li><p>Uppercase <em><strong>A</strong></em> might correspond to entry/editing of Administrative data.</p></li>
<li><p>Lowercase <em><strong>a</strong></em> might correspond to viewing of Administrative data.</p></li>
<li><p>Uppercase <em><strong>F</strong></em> might correspond to entering or editing of Fiscal data.</p></li>
<li><p>Lowercase <em><strong>f</strong></em> might correspond to viewing of Fiscal data.</p></li>
</ul>
<p>Typically, you go through a password-checking signon process before using VA FileMan. During signon, you are identified by the system and your Access code is set. For example, it might be equal to <em><strong>Aaf</strong></em>, if you are identified as someone entitled to view and change Administrative data, but only to view (search and print) Fiscal data. If you lack any such security clearance, the default value of the Access code entry is simply null.</p>
<p><span class="underline">Table 95</span> lists the Access codes used to control access to files in six different ways:</p>
<p><span id="_Ref389632076" class="anchor"></span>Table 95: Data Security—File Access Codes</p>
<table>
<tbody>
<tr class="odd">
<td>Access Code</td>
<td>Description</td>
</tr>
<tr class="even">
<td>READ</td>
<td><p>Controls use of the file by the following options:</p>
<ul>
<li><p>Print File Entries</p></li>
<li><p>Search File Entries</p></li>
<li><p>Inquire to File Entries</p></li>
<li><p>Statistics</p></li>
<li><p>List File Attributes</p></li>
<li><p>Transfer File Entries (transfer-from file)</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>WRITE</td>
<td>Controls use of Enter or Edit File Entries and Transfer File Entries (transfer-to file) options.</td>
</tr>
<tr class="even">
<td>DELETE</td>
<td>Controls deletion of an entire entry in the Enter or Edit File Entries or the Transfer Entries options.</td>
</tr>
<tr class="odd">
<td>LAYGO</td>
<td>Controls creating a new entry within the Enter or Edit File Entries option. You <em>must</em> have LAYGO as well as WRITE access to a file to add new entries. Additionally, you <em>must</em> have WRITE access on the field level to all required identifiers.</td>
</tr>
<tr class="even">
<td>DD</td>
<td>Controls use of the Modify File Attributes and Utility Functions (Data Dictionary) options.</td>
</tr>
<tr class="odd">
<td>AUDIT</td>
<td>Controls the setting of auditing characteristics and the deletion of audit trails.</td>
</tr>
</tbody>
</table>
<p>All these controls are based on the value of the Access code. When you access a file, under any of these options, you are <em>not</em> allowed to access any file that is protected unless your current Access code either equals an at-sign (“<strong>@</strong>”) or contains at least one character in common with the protection code string of the file. The at-sign (“<strong>@</strong>”) is generally reserved for use by developers; it gives programmer access.</p>
<p>Any new file that you create with a code string in your Access code is automatically given READ, WRITE, DELETE, LAYGO, and AUDIT Access codes equal to that code string. To change these codes later, use the Edit File option on the Utility Functions menu [DIUTILITY]. Be sure when doing so that your own Access code contains the codes you want to add or equals the at-sign (“<strong>@</strong>”).</p>
<h3 id="file-access-security-formerly-part-3-of-kernel">File Access Security (Formerly Part 3 of Kernel)</h3>
<p>VA FileMan also has the ability to perform a lookup into a user’s record and see if a specific file has been assigned. If your systems manager has run the special conversion to have access controlled by the ACCESSIBLE FILE Multiple in the NEW PERSON file (#200), then access to a file is <em>not</em> based on an Access code. Rather, a lookup is done in your record to see if you are allowed access to the file in question. If your VA FileMan Access code is the at-sign (“<strong>@</strong>”), you are allowed access to all files, even if this special conversion has been performed.</p>
<p>Access to files is granted to you by the systems manager who uses Kernel’s File Access Security system.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For detailed information about File Access Security, see the Kernel manuals.</p>
<h2 id="protection-for-fields-in-a-file">Protection for Fields in a File</h2>
<p>Your Access code is checked to control access to data fields within each file.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> File Access Security does <em>not</em> affect field-level protection.</p>
<p><span id="_Toc342980912" class="anchor"></span>Table 96: Data Security—Field Access Codes</p>
<table>
<tbody>
<tr class="odd">
<td>Access Code</td>
<td>Description</td>
</tr>
<tr class="even">
<td>WRITE</td>
<td>The Enter or Edit File Entries option looks at the WRITE access for every field used to see if the WRITE access has been defined. If the field’s WRITE Access code has no characters in common with your Access code, you are <em>not</em> able to see that field.</td>
</tr>
<tr class="odd">
<td>DELETE</td>
<td>The Enter or Edit File Entries option looks at the DELETE access of a field when you try to delete a value for that field (with the at-sign [“@”]). If there is a DELETE access string and if it has no characters in common with your Access code, you are prohibited from deleting.</td>
</tr>
<tr class="even">
<td>READ</td>
<td>The Inquire to File Entries, Print File Entries, and Search File Entries options look at the READ access for every field accessed. If this READ Access code has no characters in common with your Access code, you <em>cannot</em> see data stored in the field.</td>
</tr>
</tbody>
</table>
<p>There is an exception to this field protection: If the invoking program has set the Access code equal to the at-sign (“<strong>@</strong>”), all fields are accessible. The at-sign (“<strong>@</strong>”) is also considered the developer’s Access code to the <em>entire</em> data dictionary.</p>
<p>To enter or edit a field’s READ, DELETE, or WRITE access, use the Modify File Attributes option, indicate the field to be protected, and enter the desired codes when asked for the “READ ACCESS:,” “DELETE ACCESS:,” and “WRITE ACCESS:” information. Any code character entered <em>must</em> be in your current Access code, unless you have the at-sign (“<strong>@</strong>”).</p>
<h2 id="protection-for-templates">Protection for Templates</h2>
<p>When you create an INPUT, SORT, or PRINT template, your Access Code is assigned to that template for READ access and WRITE access. Anyone else subsequently using the template <em>must</em> have a code that has a character in common with the template’s READ access. Anyone who is allowed to change the template <em>must</em> have a code with a character in common with the template’s WRITE access. When the template is changed, these Access Codes can also be changed.</p>
<p>Print the PRINT TEMPLATE file (#.4), the SORT TEMPLATE file (#.401), and the INPUT TEMPLATE file (#.402) to display the READ access and WRITE access fields for templates.</p>
<p>Every user on the system has a user number. This number is sometimes called the DUZ, because it is stored in the local variable DUZ. The user number is the internal entry number in the NEW PERSON file (#200), if Kernel is installed. VA FileMan uses the user number for security for SEARCH templates. When a SEARCH template is created, it is assigned the DUZ of its creator. Only someone with that DUZ can use the template. You can change the assigned USER # with the Template Edit option. If the USER # is deleted, everyone can use the SEARCH template.</p>
<h1 id="transferring-file-entries">Transferring File Entries</h1>
<p>The Transfer Entries menu contains two options:</p>
<ul>
<li><p>Transfer File Entries</p></li>
<li><p>Compare/Merge File Entries</p></li>
</ul>
<p>These options allow you to compare and/or merge two entries in a single file or to transfer entries from one file to another. For example, you can combine data from two different entries into one of the two. This could happen in a patient database when the same patient has been inadvertently entered twice with the name spelled slightly differently.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Once you have merged file entries, the merging <em>cannot</em> be undone. Care <em>must</em> be taken that data is <em>not</em> mistakenly lost.</p>
<h2 id="transfer-file-entries-option">Transfer File Entries Option</h2>
<p>The Transfer File Entries option can be used for several purposes. You can use it to:</p>
<ul>
<li><p>Merge two entries in the same file</p></li>
<li><p>Transfer one or more records from one file to another file</p></li>
<li><p>Copy a data dictionary into a new file</p></li>
</ul>
<p>However, the Compare/Merge File Entries option (described in Section <span class="underline">13.2</span>) should usually be used to merge entries in the same file; it is specifically designed for that task.</p>
<p>You <em>must</em> have READ access for the file you are transferring from and WRITE access for the file you are transferring to. If you are deleting entries after the transfer, you need DELETE access as well.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For the details of file security, see the “<span class="underline">Data Security</span>” section.</p>
<h3 id="transferring-data-within-the-same-file">Transferring Data within the Same File</h3>
<p>You can use the Transfer File Entries option to merge two entries that are in the same file. To do this:</p>
<ol type="1">
<li><blockquote>
<p>Identify the input and output file as the same</p>
</blockquote></li>
</ol>
<ol start="28" type="1">
<li><p>Identify the two entries</p></li>
</ol>
<p>Data values are then transferred from the FROM entry to the TO entry. <span class="underline">Figure 234</span> shows the simple dialogue:</p>
<p><span id="_Ref389631613" class="anchor"></span>Figure 234: Transferring File Entries—Transferring data within a file</p>
<p>Select OPTION: <strong>TRANSFER ENTRIES</strong></p>
<p>Select TRANSFER OPTION: <strong>?</strong></p>
<p>ANSWER WITH TRANSFER OPTION NUMBER, OR NAME</p>
<p>CHOOSE FROM:</p>
<p>1 TRANSFER FILE ENTRIES</p>
<p>2 COMPARE/MERGE FILE ENTRIES</p>
<p>Select TRANSFER OPTION: <strong>1 &lt;Enter&gt;</strong> TRANSFER FILE ENTRIES</p>
<p>INPUT TO WHAT FILE: <strong>PATIENT</strong></p>
<p>TRANSFER FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>TRANSFER DATA INTO WHICH PATIENT: <strong>FMPATIENT,77</strong></p>
<p>TRANSFER DATA FROM PATIENT: <strong>FMPATIENT,90</strong></p>
<p>WANT TO DELETE THIS ENTRY AFTER IT’S BEEN TRANSFERRED? NO//</p>
<p>If the TO entry (77 FMPATIENT in our example) already has a value on file for a given field, that value is preserved (i.e., it is <em>not</em> overwritten by the corresponding field value in the FROM entry). This rule applies to word-processing data fields also. If the recipient has any text on file, corresponding text from the sender’s entry is <em>not</em> merged with it. Thus, if you decide to delete the FROM entry (90 FMPATIENT here), you can lose some data.</p>
<p>In the case of distinct Multiple-valued subfields, merging takes place. The subentries in the FROM entry would be added to the Multiple in the TO entry. Further, if two subentries have the same .01 value and if any of the subfields are blank in the TO entry, the FROM subentry’s data is placed in the blank subfield. In this way, data is added to Multiples in the same way that it is added to files.</p>
<p>For example, suppose DIAGNOSIS is the label of the .01 field of a Multiple and AGE AT ONSET is a subfield in that Multiple. If 77 FMPATIENT has a DIAGNOSIS of “Angina” and 90 FMPATIENT has one of “Diabetes”, 77 FMPATIENT ends up with both “Angina” and “Diabetes”. Further, if both 77 FMPATIENT and 90 FMPATIENT had “Angina”, but 77 FMPATIENT had no AGE AT ONSET for that subentry and 90 FMPATIENT did have one, the 90 FMPATIENT’s AGE AT ONSET data for “Angina” would be transferred to 77 FMPATIENT.</p>
<p><span class="underline">Figure 235</span> illustrates the transfer of data values from one entry to another in more detail. (These two entries will also be used in the discussion of the Compare/Merge File Entries option.) Before the transfer, the Inquire to File Entries option displays these two entries from the SCHOLAR file:</p>
<p><span id="_Ref389631638" class="anchor"></span>Figure 235: Transferring File Entries—Example displaying two records in a file <em>prior</em> to a transfer</p>
<p>NAME: FMPATIENT,23 A. SSN: 000-99-9999</p>
<p>SUBJECT AREA: PHILOSOPHY</p>
<p>TOPICS: 23’S PARADOX</p>
<p>TOPICS: PRINCIPLE OF EXCLUDED MIDDLE</p>
<p>TOPICS: SET THEORY</p>
<p>TOPICS: THEORY OF TYPES</p>
<p>TOPICS: LIAR PARADOX</p>
<p>NAME: FMPATIENT,23 H. DATE OF BIRTH: 1872 SSN: 000-88-8888</p>
<p>SUBJECT AREA: MATHEMATICS</p>
<p>TOPICS: 24’S PARADOX</p>
<p>TOPICS: SET THEORY</p>
<p>TOPICS: THEORY OF TYPES</p>
<p>TOPICS: AXIOM OF INFINITY</p>
<p>The transfer is then initiated with the dialogue shown in <span class="underline">Figure 236</span>:</p>
<p><span id="_Ref389631666" class="anchor"></span>Figure 236: Transferring File Entries—Initiating a transfer of file entries</p>
<p>Select TRANSFER OPTION: <strong>TRANS &lt;Enter&gt;</strong> FER FILE ENTRIES</p>
<p>INPUT TO WHAT FILE: <strong>SCHOLAR</strong></p>
<p>TRANSFER FROM FILE: <strong>SCHOLAR</strong></p>
<p>TRANSFER DATA INTO WHICH SCHOLAR: <strong>FM</strong></p>
<p>1 FMPATIENT,23 A.</p>
<p>2 FMPATIENT,23 H.</p>
<p>CHOOSE 1-2: <strong>1</strong></p>
<p>TRANSFER FROM SCHOLAR: <strong>FMPATIENT,23 H.</strong></p>
<p>WANT TO DELETE THIS ENTRY AFTER IT’S TRANSFERRED? NO// <strong>YES</strong></p>
<p>...EXCUSE ME, LET ME THINK ABOUT THAT A MOMENT.....</p>
<p>Data values are then merged such that no pre-existing values are overwritten but new values are added. The DATE OF BIRTH is added since the pre-existing value was null. Different subentries in the TOPICS Multiple are added to the pre-existing list of topics. The Inquire to File Entries option shows the result:</p>
<p><span id="_Toc342980916" class="anchor"></span>Figure 237: Transferring File Entries—Results <em>after</em> a transfer of file entries</p>
<p>NAME: FMPATIENT,23 A. DATE OF BIRTH: 1872 SSN: 000-99-9999</p>
<p>SUBJECT AREA: PHILOSOPHY</p>
<p>TOPICS: 23’S PARADOX</p>
<p>TOPICS: PRINCIPLE OF EXCLUDED MIDDLE</p>
<p>TOPICS: SET THEORY</p>
<p>TOPICS: THEORY OF TYPES</p>
<p>TOPICS: LIAR PARADOX</p>
<p>TOPICS: AXIOM OF INFINITY</p>
<p>The entry for FMPATIENT,23 H. has been deleted.</p>
<h3 id="transferring-entries-between-files">Transferring Entries between Files</h3>
<p>You can use the Transfer File Entries option to move <em>all</em> or a <em>group</em> of entries from one file to an entirely separate file. To do this:</p>
<ol type="1">
<li><blockquote>
<p>Answer the “INPUT TO WHAT FILE:” prompt and the “TRANSFER FROM FILE:” prompt with different file names.</p>
</blockquote></li>
</ol>
<ol start="29" type="1">
<li><p>Specify whether transferred entries should be added all as new, or whether they should be merged with existing entries.</p></li>
<li><p>Specify whether transferred entries should be deleted in the original file.</p></li>
<li><p>Specify which entries to transfer, by entering sort criteria.</p></li>
</ol>
<p>For transfer to occur, the NAME fields (#.01) of both files <em>must</em> have matching LABEL fields and DATA TYPE fields. In this way, VA FileMan can identify corresponding entries. Values of the fields can then be transferred. Only those fields where the LABEL and DATA TYPE fields match are transferred. Before the transfer is done, you are told which fields have their data transferred.</p>
<p>The dialogue presented when transferring entries to another file is presented below. In this instance, you are transferring the contents of the (fictitious) SCHOLAR file to the (fictitious) NEW SCHOLAR file. The (fictitious) NEW SCHOLAR file already exists, and it does have some entries whose NAME field matches those in the (fictitious) SCHOLAR file.</p>
<p><span id="_Toc342980917" class="anchor"></span>Figure 238: Transferring File Entries—Transferring entries from one file to another</p>
<p>Select OPTION: <strong>TRANSFER ENTRIES</strong></p>
<p>Select TRANSFER OPTION: <strong>TRANSFER FILE ENTRIES</strong></p>
<p>INPUT TO WHAT FILE: <strong>NEW SCHOLAR</strong></p>
<p>TRANSFER FROM FILE: NEW SCHOLAR// <strong>SCHOLAR</strong></p>
<p>‘NAME’ FIELDS, ‘SSN’ FIELDS, ‘DATE OF BIRTH’ FIELDS, ‘SUBJECT AREA’</p>
<p>FIELDS,’TOPICS’ FIELDS, WILL BE TRANSFERRED</p>
<p>WANT TO MERGE TRANSFERRED ENTRIES WITH ONES ALREADY THERE? NO// <strong>YES</strong></p>
<p>WANT EACH ENTRY TO BE DELETED AS IT’S TRANSFERRED? <strong>NO</strong></p>
<p>TRANSFER ENTRIES BY: NAME// <strong>&lt;Enter&gt;</strong></p>
<p>START WITH NAME: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: HOME// <strong>&lt;Enter&gt;</strong></p>
<p>You can specify whether you want entries with the same NAME field to be merged when the transfers are made, or whether each transferred entry and subentry should become a distinct new entry in the target file. (In this case, the answer was <strong>YES</strong> to merge.) You can also specify whether or not the entries should be deleted from the “from” file as they are transferred. (In this case, the answer was <strong>NO</strong> to delete.)</p>
<p>A simple report is created that lists the entries that were transferred. You have the ability to route that list to a printer using the “DEVICE:” prompt.</p>
<p>In addition, you have considerable control over which entries are transferred. Your answers to the “TRANSFER ENTRIES BY:” and “START WITH:” prompts select entries in the same way that you specify sort criteria when describing a print output.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on sort criteria and print output, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>For example, if you only wanted to transfer scholars born after 1900 to the (fictitious) NEW SCHOLAR file, you could answer the “TRANSFER ENTRIES BY:” prompt like this:</p>
<p><span id="_Toc342980918" class="anchor"></span>Figure 239: Transferring File Entries—Selecting specific entries for transfer</p>
<p>TRANSFER ENTRIES BY: NAME// <strong>DATE OF BIRTH&gt;1900</strong></p>
<p>WITHIN DATE OF BIRTH&gt;1900, TRANSFER ENTRIES BY: <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The Transfer File Entries option can be used to purge files. You can define a (fictitious) SCHOLAR ARCHIVE file containing a subset of the fields that are in the original file (e.g., the fields: NAME, SSN, and DATE OF BIRTH); you can then simply transfer into this separate file all or a selected group of entries from the original file, deleting the entries as they are transferred.</p>
<h3 id="transferring-entries-into-a-new-file">Transferring Entries into a New File</h3>
<p>You can use the Transfer File Entries option to create a new file. To do this:</p>
<ol type="1">
<li><blockquote>
<p>At the “INPUT TO WHAT FILE:” prompt, enter the name of a nonexistent file.</p>
</blockquote></li>
</ol>
<ol start="32" type="1">
<li><p>If you have programmer access, you are prompted for the global location for the new file.</p></li>
<li><p>When you specify the file to transfer <em>from</em>, you can request that the data dictionary of that file be copied as the data dictionary for your new file.</p></li>
</ol>
<p><span class="underline">Figure 240</span> is an example of using the Transfer File Entries option to create a new file:</p>
<p><span id="_Ref389630685" class="anchor"></span>Figure 240: Transferring File Entries—Using the Transfer File Entries option to create a new file</p>
<p>INPUT TO WHAT FILE: <strong>SCHOLAR COPY</strong></p>
<p>Are you adding ‘SCHOLAR COPY’ as a new FILE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>FILE NUMBER: 16031// <strong>&lt;Enter&gt;</strong></p>
<p>INTERNAL GLOBAL REFERENCE: ^DIZ(16031,// <strong>&lt;Enter&gt;</strong></p>
<p>...SORRY, I’M WORKING AS FAST AS I CAN...</p>
<p>A FreeText NAME Field (#.01) has been created.</p>
<p>TRANSFER FROM FILE: <strong>SCHOLAR</strong></p>
<p>DO YOU WANT TO TRANSFER THE ‘SCHOLAR’ DATA DICTIONARY INTO YOUR NEW</p>
<p>FILE? <strong>YES</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You are asked the global reference question only if you have programmer access.</p>
<p>Answering <strong>YES</strong> copies (or “clones”) the data definitions of the old file. Then, if the old file has had any templates created, you are asked:</p>
<p>DO YOU WANT TO COPY ‘SCHOLAR’ TEMPLATES INTO YOUR NEW FILE?</p>
<p>Once you have created a new file with identical field and template descriptions, you can transfer entries into it. This is a method of copying a file.</p>
<h2 id="comparemerge-file-entries-option">Compare/Merge File Entries Option</h2>
<p>The Compare/Merge File Entries option allows you to compare the data value of two entries before merging them into one entry. Furthermore, this option provides you with an opportunity to identify the data values from either entry that are used to create the final merged entry. Both of the entries involved <em>must</em> be in the same file to use this option.</p>
<h3 id="comparing-entries">Comparing Entries</h3>
<p>You can use the Compare/Merge File Entries option as a simple tool to compare entries. To do this:</p>
<ol type="1">
<li><blockquote>
<p>Identify a file.</p>
</blockquote></li>
<li><blockquote>
<p>Identify the two entries to be compared.</p>
</blockquote></li>
<li><blockquote>
<p>At the “MERGE ENTRIES AFTER COMPARING THEM?” prompt, enter <strong>NO</strong>.</p>
</blockquote></li>
</ol>
<p>In <span class="underline">Figure 241</span>, two similar entries in the SCHOLAR file are used.</p>
<p><span id="_Ref389631690" class="anchor"></span>Figure 241: Transferring File Entries—Selecting entries to compare in a file (1 of 2)</p>
<p>Select TRANSFER OPTION: <strong>COMPARE/MERGE FILE ENTRIES</strong></p>
<p>COMPARE ENTRIES IN WHAT FILE: <strong>SCHOLAR</strong></p>
<p>COMPARE SCHOLAR: <strong>RU</strong></p>
<p>VA FileMan responds to this abbreviated response with the matching entries in the list that follows:</p>
<p><span id="_Toc342980921" class="anchor"></span>Figure 242: Transferring File Entries—Selecting entries to compare in a file (2 of 2)</p>
<p>1 FMPATIENT,23 A.</p>
<p>2 FMPATIENT,23 H.</p>
<p>CHOOSE 1-2: <strong>1</strong></p>
<p>WITH SCHOLAR: FMPATIENT,23 H.</p>
<p>NOTE: Use this option ONLY DURING NON-PEAK HOURS if merging entries in a</p>
<p>file that is pointed-to either by many files, or by large files.</p>
<p>MERGE ENTRIES AFTER COMPARING THEM? No// <strong>&lt;Enter&gt;</strong></p>
<p>Here you choose whether to simply compare entries or to actually merge them. If you are merging, the process of repointing entries in other files from the merged-from entry to the merged-to entry can be time-consuming or can create many tasked jobs. This is more likely if the file is pointed to by many files or if the files that point to it have many entries. In these situations, consider merging at times when your system is <em>not</em> busy.</p>
<p><span id="_Toc342980922" class="anchor"></span>Figure 243: Transferring File Entries—Comparison output</p>
<p>DO YOU WANT TO DISPLAY ONLY THE DISCREPANT FIELDS? NO// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong> RIGHT MARGIN: 80// <strong>&lt;Enter&gt;</strong></p>
<p>COMPARISON OF SCHOLAR FILE ENTRIES FEB 14, 1991 11:59 PAGE 1</p>
<p>SCHOLAR FMPATIENT,23 A. FMPATIENT,23 H.</p>
<p>----------------------------------------------------------------------------</p>
<p>*** NAME FMPATIENT,23 A. FMPATIENT,23 H.</p>
<p>*** SSN 000-99-9999 000-88-8888</p>
<p>*** SUBJECT AREA PHILOSOPHY MATHEMATICS</p>
<p>*** DATE OF BIRTH 1872</p>
<p>Press RETURN to continue or ‘^’ to exit:</p>
<p>The asterisks (“<strong>***</strong>”) appearing in front of the field label indicate the entries contain different data in those fields. This simple report compares the data in each field in the two entries.</p>
<h3 id="merging-entries">Merging Entries</h3>
<p>You can use the Compare/Merge File Entries option to merge entries. To do this:</p>
<ol type="1">
<li><blockquote>
<p>Identify a file.</p>
</blockquote></li>
</ol>
<ol start="34" type="1">
<li><p>Identify the two entries to be compared.</p></li>
<li><p>At the “MERGE THESE ENTRIES AFTER COMPARING THEM?” prompt, enter <strong>YES</strong>.</p></li>
<li><p>Choose which entry supplies the default values.</p></li>
<li><p>Choose to retain or delete the “merge from” record.</p></li>
<li><p>Optionally adjust, field-by-field, which entry supplies the default value.</p></li>
<li><p>Choose to proceed with the merge, summarize before merging, or re-edit the merge criteria.</p></li>
</ol>
<p>The Merge process is described in detail via an example below:</p>
<p><span id="_Toc342980923" class="anchor"></span>Figure 244: Transferring File Entries—Merging entries in a file</p>
<p>MERGE THESE ENTRIES AFTER COMPARING THEM? NO// <strong>YES</strong></p>
<p>1 FMPATIENT,23 A.</p>
<p>2 FMPATIENT,23 H.</p>
<p>After choosing a file and two entries to compare, enter <strong>YES</strong> at the “MERGE THESE ENTRIES AFTER COMPARING THEM? NO//” prompt to merge the entries as well as compare them.</p>
<p>You now specify which of the two entries are used to supply the default values. The entry you choose is the “merge to” entry that contains the merged data.</p>
<p><span id="_Toc342980924" class="anchor"></span>Figure 245: Transferring File Entries—Choosing which file entry will serve as the default entry</p>
<p>NOTE: Records will be merged into the entry selected for the default.</p>
<p>WHICH ENTRY SHOULD BE USED FOR DEFAULT VALUES (1 OR 2)? <strong>1</strong></p>
<p>*** Records will be merged into FMPATIENT,23 A.</p>
<p>You next indicate the disposition of the “merge from” entry. You can choose to delete it or retain it unmodified. You can also redirect pointers that point to the “merged from” entry to point to the “merge to” entry. Free text pointers are <em>not</em> redirected.</p>
<p><span id="_Ref452362996" class="anchor"></span>Figure 246: Transferring File Entries—Deleting the “Merged From” file entry</p>
<p>DO YOU WANT TO DELETE THE MERGED FROM ENTRY AFTER MERGING ? <strong>YES</strong></p>
<p>DO YOU WANT TO REPOINT ENTRIES POINTING TO THIS ENTRY? <strong>YES</strong></p>
<p>ENTER FILE TO EXCLUDE FROM REPOINT/MERGE: <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You can also choose to exclude pointers from specified files in the repointing process. In this example (<span class="underline">Figure 246</span>), all pointers are repointed.</p>
<p><span id="_Toc342980926" class="anchor"></span>Figure 247: Transferring File Entries—Setting up the merge output</p>
<p>DO YOU WANT TO DISPLAY ONLY THE DISCREPANT FIELDS? NO// <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>Press the <strong>Enter</strong> key at the “DEVICE:” prompt so that you can continue to control how the merge is to proceed. Since the merge is interactive, it is <em>not</em> appropriate to release control to a printer or other output device. While working at a keyboard printer is possible, it is <em>not recommended</em>, because you are <em>not</em> able to monitor the selection of data values that is described below.</p>
<p>VA FileMan displays the data from the entries being merged. Brackets indicate the values that are used to create the final merged entry. If the data values in both entries are the same, no brackets are shown. To start, the values for “FMPATIENT,23 A.” are bracketed because that entry was chosen as the default entry. To switch the value that goes into the merged entry, enter that field’s number. <span class="underline">Figure 248</span> shows the initial defaults in brackets and the response to switching the value for the SSN field:</p>
<p><span id="_Ref452362952" class="anchor"></span>Figure 248: Transferring File Entries—Merge output (1 of 2)</p>
<p>COMPARISON OF SCHOLAR FILE ENTRIES FEB 14, 1991 11:59 PAGE 1</p>
<p>SCHOLAR [FMPATIENT,23 A.] FMPATIENT,23 H.</p>
<p>-------------------------------------------------------------------------------</p>
<p>1. NAME [FMPATIENT,23 A.] FMPATIENT,23 H.</p>
<p>2. SSN [000-99-9999] 000-88-8888</p>
<p>3. SUBJECT AREA [PHILOSOPHY] MATHEMATICS AND PHILOSOPHY</p>
<p>4. DATE OF BIRTH [1872]</p>
<p>Default is enclosed in brackets, e.g., [FMPATIENT,23 A.]</p>
<p>Enter 1-4 to change a default value, ^ to exit report, RETURN to continue: <strong>2</strong></p>
<p>COMPARISON OF SCHOLAR FILE ENTRIES FEB 14, 1991 11:59 PAGE 1</p>
<p>SCHOLAR [FMPATIENT,23 A.] FMPATIENT,23 H.</p>
<p>-------------------------------------------------------------------------------</p>
<p>1. NAME [FMPATIENT,23 A.] FMPATIENT,23 H.</p>
<p>2. SSN 000-99-9999 [000-88-8888]</p>
<p>3. SUBJECT AREA [PHILOSOPHY] MATHEMATICS AND PHILOSOPHY</p>
<p>4. DATE OF BIRTH [1872]</p>
<p>Default is enclosed in brackets, e.g., [FMPATIENT,23 A.]</p>
<p>Enter 1-4 to change a default value, ^ to exit report, RETURN to continue: <strong>&lt;Enter&gt;</strong></p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The DATE OF BIRTH field (<span class="underline">Figure 248</span>) from FMPATIENT,23 H. is bracketed because the default entry has no value for that field; it is null. When the default (“merged to”) entry has no data in a field, data is always brought over from the “merged from” entry. You have no control over this aspect of the merging. Even if you attempt to switch the data value to the null value and remove the brackets, the data is still brought into the “merged to” field.</p>
<p>If there is more than one screen of field information, VA FileMan displays additional screens. In this case, there is one field that is a Multiple. The Compare/Merge File Entries option neither displays data from WORD-PROCESSING or Multiple fields nor allows the selection of data for the final “merge to” entry. The number of subentries in the Multiples of the two fields is displayed:</p>
<p><span id="_Toc342980928" class="anchor"></span>Figure 249: Transferring File Entries—Merge output (2 of 2)</p>
<p>COMPARISON OF PATIENT FILE ENTRIES FEB 14, 1991 11:59 PAGE 2</p>
<p>SCHOLAR [FMPATIENT,23 A.] FMPATIENT,23 H.</p>
<p>---------------------------------------------------------------------</p>
<p>NOTE: Multiples will be merged into the target record.</p>
<p>1. “TOPICS” “ 5 entries” “ 4 entries”</p>
<p>Enter RETURN to continue: <strong>&lt;Enter&gt;</strong></p>
<p>The merging of data for a WORD-PROCESSING field or for a Multiple and its subfields is done in the same way that the Transfer File Entries option does it.</p>
<p>Although VA FileMan is ready to perform the merge at this time, you are prompted with other options—just in case you are <em>not</em> ready. In order to cancel the merge, enter the caret (“^”) at the “ACTION:” prompt to exit.</p>
<p><span id="_Toc342980929" class="anchor"></span>Figure 250: Transferring File Entries—Merge options</p>
<p>OK. I’M READY TO DO THE MERGE.</p>
<p>Select one of the following:</p>
<p>P PROCEED to merge the data</p>
<p>S SUMMARIZE the modifications before proceeding</p>
<p>E EDIT the data again before proceeding</p>
<p>ACTION:</p>
<p>These three options are:</p>
<ul>
<li><p><strong>P—</strong><span class="underline">PROCEED</span> to merge the data</p></li>
<li><p><strong>S—</strong><span class="underline">SUMMARIZE</span> the modifications before proceeding</p></li>
<li><p><strong>E—</strong><span class="underline">EDIT</span> the data again before proceeding</p></li>
</ul>
<h4 id="proceed">PROCEED</h4>
<p>If you enter P or PROCEED at the “ACTION:” prompt, then VA FileMan proceeds to merge the data specified:</p>
<p><span id="_Toc342980930" class="anchor"></span>Figure 251: Transferring File Entries—Merge PROCEED option</p>
<p>ACTION: <strong>P &lt;Enter&gt;</strong> ROCEED to merge the data.</p>
<p>I will now merge all subfiles in this file ...</p>
<p>This may take some time, please be patient.</p>
<p>I will now repoint all files that point to this entry ...</p>
<p>This may take some time, please be patient.</p>
<p>Gathering files and checking ‘PT’ nodes</p>
<p>Merging entries</p>
<p>Merge complete</p>
<p>Deleting From entry</p>
<p>The merging of the data is now complete.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Be careful when using this option, because the “merge from” entry can be deleted and data could be lost.</p>
<h4 id="summarize">SUMMARIZE</h4>
<p>To review the changes that are made to the “merge to” entry, enter an <strong>S</strong> or <strong>SUMMARIZE</strong> at the “ACTION:” prompt <em>before</em> proceeding to merge, as shown in <span class="underline">Figure 252</span>:</p>
<p><span id="_Ref389630686" class="anchor"></span>Figure 252: Transferring File Entries—Merge SUMMARIZE option</p>
<p>ACTION: <strong>S &lt;Enter&gt;</strong> UMMARIZE the modifications before proceeding</p>
<p>SUMMARY OF MODIFICATIONS TO FMPATIENT,23 A.</p>
<p>FIELD OLD VALUE NEW VALUE</p>
<p>-------------------------------------------------</p>
<p>2. SSN 000-99-9999 000-88-8888</p>
<p>4. DATE OF BIRTH 1872</p>
<p>NOTE: Multiples will be merged into the target record</p>
<p>Enter RETURN to continue: <strong>&lt;Enter&gt;</strong></p>
<h4 id="edit">EDIT</h4>
<p>Enter an <strong>E</strong> or <strong>EDIT</strong> at the “ACTION:” prompt to change the decisions made earlier. If you choose this action, you are again shown the values in both entries, with your current selections in brackets, and have the opportunity to switch the data going into the “merge to” entry.</p>
<h1 id="extract-tool">Extract Tool</h1>
<p>Using the Extract Tool, you can move or copy data from logical records in VA FileMan files to a new VA FileMan file. This new file may either <em>permit</em> users to modify its contents or <em>prevent</em> users from modifying its contents and can be available for online inquiries and print processes. If this new file is used to store archived data, any options and utilities that create new entries or update existing entries are restricted. Options and utilities that update the data dictionary are also restricted.</p>
<h2 id="extract-overview">Extract Overview</h2>
<p>The following is an overview of the process of using the Extract Tool to extract entries from a file:</p>
<ol type="1">
<li><blockquote>
<p>Identify the files and fields from which to extract data by using information in the data dictionary listings.</p>
</blockquote></li>
</ol>
<ol start="40" type="1">
<li><p>Build a destination file by creating a new field for each field in the source file.</p></li>
<li><p>Select the source file entries from which data is extracted by creating a SEARCH/SORT template.</p></li>
<li><p>Select the fields from which data is extracted by creating an EXTRACT template.</p></li>
<li><p>Move the extracted data to the destination file by using the Update Destination File option.</p></li>
<li><p>Purge the selected entries from the active database.</p></li>
</ol>
<h2 id="important-items-to-note">Important Items to Note</h2>
<p>Before beginning the extract process, consider each of the following important facts about the Extract Tool:</p>
<ul>
<li><p>An extract activity is file-specific, <em>not</em> user-specific. Anyone with access to the file and the Extract Tool options can complete or change an existing extract activity.</p></li>
<li><p>When the extracted data is moved to the destination file, the source entries in the primary file are blocked from selection.</p></li>
<li><p>A Subfile <em>cannot</em> be extracted by itself. At least one field from every Multiple level <em>above</em> the Subfile <em>must</em> also be extracted. If no field is extracted at the next higher level, the .01 field at that level will automatically be extracted.</p></li>
<li><p>You can extract identifiers and/or key fields from the source file to the destination file, so that records in the destination file can be uniquely identified.</p></li>
<li><p>An EXTRACT template is the only type of PRINT template that can be used by the Update Destination File option.</p></li>
<li><p>The ARCHIVAL ACTIVITY file (#1.11) contains a brief history that describes who performed the various extract activity steps and when the steps were completed.</p></li>
<li><p>The extract activity can be canceled at any time before the Purge Extracted Entries option is used.</p></li>
<li><p>The Purge Extracted Entries option deletes all of the source data in the primary file from which you extracted data.</p></li>
<li><p>Selected entries <em>cannot</em> be purged until they have been moved to the destination file.</p></li>
<li><p>A second extract from a file <em>cannot</em> be performed until the active extract activity has been completed, either by purging or canceling.</p></li>
</ul>
<h3 id="source-file">Source File</h3>
<p>The term source file represents the primary file and any other files that can be referenced by extended pointers. The primary file is the starting file from which you extract your data. The term extract field refers to any field in the source file.</p>
<h3 id="destination-file">Destination File</h3>
<p>The term “destination file” represents the VA FileMan file that stores the extracted data. The destination file can be located anywhere on the network that is recognized by the system. To create this file, you select either of two VA FileMan options: Modify File Attributes or the Extract Tool’s Modify Destination File.</p>
<p>For each extract field in the source file, a corresponding field in the destination file <em>must</em> exist. Certain DATA TYPE field values can optionally be resolved to external form before moving the data to the destination file. For example, data extracted from a DATA TYPE field of POINTER TO A FILE can be moved to a FREE TEXT-type field in the destination file, if external form of data is moved; or such data can be moved to a NUMERIC-type field, if the internal value is moved.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information, see the “<span class="underline">Mapping Information</span>” section.</p>
<p>The destination file uses a file level attribute called ARCHIVE FILE. The following is a description of this flag:</p>
<ul>
<li><p><strong>YES—</strong>This is an archive file and users <em>cannot</em> modify or delete the data or the data dictionary. Any data dictionary changes may invalidate the archived data.</p></li>
<li><p><strong>NO (or null)—</strong>There are no restrictions on the file.</p></li>
</ul>
<p>If you need to update an archive file’s data dictionary, you <em>must</em> convert the old data to the new data dictionary format.</p>
<p>Updates to an archive file are allowed only through the extract option, Update Destination File option, or through the programmer entry point EXTRACT^DIAXU.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For more information on the Extract Tool API (EXTRACT^DIAXU), see the V<em>A FileMan Developer’s Guide</em>.</p>
<p>Only Regular, KWIC, and Soundex-type cross-references are <em>recommended</em> for archive files. No other types of cross-references should be created.</p>
<p>If you are building a destination file that will store archived data, set the ARCHIVE FILE flag to <strong>YES</strong> (do this with the Modify Destination File option). Setting the ARCHIVE FILE flag to <strong>YES</strong> prevents users from modifying or deleting the data in the file or the file’s data dictionary while using VA FileMan options or API calls. Users are also prevented from deleting file entries while using VA FileMan options or API calls.</p>
<h2 id="mapping-information">Mapping Information</h2>
<p>Mapping information identifies the relationship between the data in the source file and the data in the destination file. When you create your EXTRACT template, you will enter the name of the field in the source file and identify its intended location in the destination file. You will need to ensure that the DATA TYPE field value of the field in the destination file is compatible with the DATA TYPE field value of the extract field. The compatibility of the DATA TYPE field values is validated when the fields are specified during template creation.</p>
<p><span class="underline">Table 97</span> recommends the DATA TYPE field values to use, depending on the DATA TYPE field value of the extract field:</p>
<p><span id="_Ref451585774" class="anchor"></span>Table 97: Extract Tool—DATA TYPE field value recommendations</p>
<table>
<tbody>
<tr class="odd">
<td>DATA TYPE Field Value of Extract Field</td>
<td>DATA TYPE Field Value of Destination Field</td>
</tr>
<tr class="even">
<td>DATE/TIME</td>
<td><p>1) DATE/TIME, internal form of data is moved.</p>
<p>2) FREE TEXT, external form of data is moved.</p></td>
</tr>
<tr class="odd">
<td>NUMERIC</td>
<td>NUMERIC or FREE TEXT.</td>
</tr>
<tr class="even">
<td>SET OF CODES</td>
<td><p>1) FREE TEXT, if external form of the SET OF CODES is moved.</p>
<p>2) SET OF CODES, if internal form of the SET OF CODES is moved. User <em>must</em> make sure the SET OF CODES fields are identical in both the source file and the destination file data dictionaries.</p></td>
</tr>
<tr class="odd">
<td>FREE TEXT</td>
<td>FREE TEXT.</td>
</tr>
<tr class="even">
<td>WORD-PROCESSING</td>
<td>WORD-PROCESSING.</td>
</tr>
<tr class="odd">
<td>COMPUTED</td>
<td>FREE TEXT, DATE/TIME, or NUMERIC.</td>
</tr>
<tr class="even">
<td>POINTER TO A FILE</td>
<td><p>1) NUMERIC, if internal form of data is moved.</p>
<p>2) Non-pointer field type (FREE TEXT, NUMERIC, or DATE/TIME), if external form of data is moved.</p></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>VARIABLE-POINTER</td>
<td><p>1) Non-pointer field type, if external form of data is moved; (if the .01 fields of the pointed-to files have different DATA TYPE field values, DATA TYPE field values of destination field should be FREE TEXT).</p>
<p>2) FREE TEXT, if internal form of data is moved.</p></td>
</tr>
<tr class="even">
<td>MUMPS</td>
<td>MUMPS.</td>
</tr>
<tr class="odd">
<td>Multiples</td>
<td>Multiples.</td>
</tr>
<tr class="even">
<td>Backward Pointers</td>
<td>Multiples.</td>
</tr>
</tbody>
</table>
<p>The following are additional guidelines that you <em>must</em> follow while creating your destination file:</p>
<ul>
<li><p>If you are extracting a <strong>SET OF CODES</strong>-type field and you are mapping it to a <strong>FREE TEXT</strong>-type field, use a maximum length of the same—or greater than—length as the longest external value in the SET OF CODES field. If you are mapping the SET OF CODES-type field to a SET OF CODES-type field, create the corresponding field in the destination file, using the same specifications as the extract field.</p></li>
<li><p>If you are extracting DATA TYPE field values of any of the following:</p></li>
</ul>
<ul>
<li><p>FREE TEXT</p></li>
<li><p>DATE/TIME</p></li>
<li><p>NUMERIC</p></li>
<li><p>WORD-PROCESSING</p></li>
<li><p>MUMPS</p></li>
</ul>
<p>Create the corresponding field in the destination file, using the same specifications as the extract field.</p>
<ul>
<li><p>If you are extracting a Multiple-type field, create the corresponding field in the destination file as a Multiple-type field. Multiples in the source file are moved to Multiples in the destination file, following the DATA TYPE field value recommendations listed in <span class="underline">Table 97</span>. The structure of the Multiple in the destination file should be the same as that in the source file down to the lowest level Multiple that you extract. When extracting data in a Subfile, at least one field from every Multiple level above the Subfile <em>must</em> also be extracted. If you do <em>not</em> specify a field to extract at a higher level, the .01 field at that level is automatically extracted.</p></li>
<li><p>If you are extracting a Backward Extended Pointer-type field, create the corresponding field in the destination file as a Multiple. The Extract Tool resolves Backward Pointers. Thus, their values are moved to Multiples in the destination file.</p></li>
<li><p>If the field you are extracting has an OUTPUT transform, make sure the INPUT transform of the destination field can receive the data in the format generated by the OUTPUT transform.</p></li>
</ul>
<h2 id="archival-activity-file">ARCHIVAL ACTIVITY File</h2>
<p>To learn about the status of an extract activity you can enter a question mark at most of the prompts in the Extract Tool options. Using the Inquire to File Entries option on the ARCHIVAL ACTIVITY file (#1.11) yields information about past or pending activities. Those activities created by the Extract Tool are referred to as extract activities. The amount of information displayed depends on the status of the extract activity. The ARCHIVAL ACTIVITY file (#1.11) contains the following information:</p>
<ul>
<li><p>DUZ of the individual performing the extract activity.</p></li>
<li><p>Status of the extract activity (e.g., EDITED or UPDATED).</p></li>
<li><p>Dates on which the activities were performed.</p></li>
<li><p>Number of entries extracted.</p></li>
<li><p>Source file number.</p></li>
<li><p>SEARCH/SORT and PRINT templates used in the extract activity.</p></li>
</ul>
<p>Beginning with VA FileMan 20.0 and later, the ARCHIVAL ACTIVITY file (#1.11) contains data about both archiving and extract activities. A file can have only <em>one</em> active activity at a time, either of the following:</p>
<ul>
<li><p>Archiving activity</p></li>
<li><p>Extract activity</p></li>
</ul>
<p>You can only select an extract activity from the Extract Tool options. When you use the Inquire to File Entries option, the word EXTRACT appears for all extract activities.</p>
<h2 id="extract-steps">Extract Steps</h2>
<p>The order of the options on the Extract Tool submenu reflects the sequence of steps in which you ordinarily perform your extract activity. To access to the Extract Tool options, start at the Other Options submenu. <span class="underline">Figure 253</span> is a sample of the dialogue that you encounter.</p>
<p><span id="_Ref389630687" class="anchor"></span>Figure 253: Extract Tool—Options</p>
<p>Select OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>EXTRACT DATA TO FILEMAN FILE</strong></p>
<p>Select EXTRACT OPTION: <strong>?</strong></p>
<p>ANSWER WITH EXTRACT OPTION NUMBER, OR NAME CHOOSE FROM:</p>
<p>1 SELECT ENTRIES TO EXTRACT</p>
<p>2 ADD/DELETE SELECTED ENTRIES</p>
<p>3 PRINT SELECTED ENTRIES</p>
<p>4 MODIFY DESTINATION FILE</p>
<p>5 CREATE EXTRACT TEMPLATE</p>
<p>6 UPDATE DESTINATION FILE</p>
<p>7 PURGE EXTRACTED ENTRIES</p>
<p>8 CANCEL EXTRACT SELECTION</p>
<p>9 VALIDATE EXTRACT TEMPLATE</p>
<h3 id="select-entries-to-extract-option-1-of-9">Select Entries to Extract Option (1 of 9)</h3>
<p>The Select Entries to Extract option initiates the extract activity. In this option the entries are selected and stored in a template and an entry in the ARCHIVAL ACTIVITY file (#1.11) is created. Entries are selected in the same manner as the Search File Entries option.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For guidance on selecting entries, see the “Search” section in the <em>VA FileMan User Manual</em>.</p>
<p>The Select Entries to Extract option performs the following functions:</p>
<ol type="1">
<li><blockquote>
<p>During the search phase, the search criteria for selecting entries are specified and <em>must</em> be stored in a template.</p>
</blockquote></li>
</ol>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you want to extract a subentry contained in a Multiple field, you <em>must</em> extract the entire entry.</p>
<ol start="2" type="1">
<li><blockquote>
<p>During the sort phase, which is indicated by the “SORT BY” prompt, you can enter additional restrictions on the entries to be selected. If no further restrictions are required, simply accept the defaults provided at the “SORT BY” and “START WITH” prompts.</p>
</blockquote></li>
<li><blockquote>
<p>During the print phase, which is indicated by the “PRINT FIELD” prompt, VA FileMan gathers the entries specified in the search and sort phases and adds the internal entry numbers of the selected entries to the SEARCH template. Although specifying print fields is <em>not</em> required, the print process <em>must</em> be run to completion. Simply press the <strong>Enter</strong> key at the “PRINT FIELD” prompt or specify actual fields to print a report of identifying information for the extracted records.</p>
</blockquote></li>
</ol>
<p>In the sample dialogue that follows, notice the sequence in which the search, sort, and print prompts appear:</p>
<p><span id="_Toc342980934" class="anchor"></span>Figure 254: Extract Tool—Search, Sort, and Print options when selecting entries to extract</p>
<p>EXTRACT FROM WHAT FILE: <strong>CHANGE</strong></p>
<p>-A- SEARCH FOR CHANGE FIELD: <strong>.01 &lt;Enter&gt;</strong> NO.</p>
<p>-A- CONDITION: <strong>LESS THAN</strong></p>
<p>-A- LESS THAN: <strong>900</strong></p>
<p>-B- SEARCH FOR CHANGE FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>IF: A// <strong>&lt;Enter&gt;</strong> NO. LESS THAN 900</p>
<p>STORE RESULTS OF SEARCH IN TEMPLATE: <strong>ZZTEST TEMPLATE</strong></p>
<p>Are you adding ‘ZZTEST TEMPLATE’ as a new SORT TEMPLATE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>SORT BY: <strong>VERSION</strong></p>
<p>START WITH VERSION: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>WITHIN VERSION, SORT BY: <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>.01 &lt;Enter&gt;</strong> NO.</p>
<p>THEN PRINT FIELD: <strong>VERSION</strong></p>
<p>THEN PRINT FIELD: <strong>PROGRAMMER</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>HEADING: CHANGE EXTRACT SEARCH Replace <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>The resulting output looks like:</p>
<p><span id="_Toc342980935" class="anchor"></span>Figure 255: Extract Tool—Select entries to extract output</p>
<p>CHANGE EXTRACT SEARCH AUG 30, 1992 10:59 PAGE 1</p>
<p>NO. VERSION PROGRAMMER</p>
<p>------------------------------------------------------------------</p>
<p>101 17.10 FMPROGRAMMER,25</p>
<p>102 17.32 FMPROGRAMMER,26</p>
<p>103 17.35 FMPROGRAMMER,26</p>
<p>3 MATCHES FOUND.</p>
<p>After you use this option, VA FileMan marks the ARCHIVAL ACTIVITY file (#1.11) entry with a status of SELECTED. If an unfinished extract activity exists for a file and you select this same file for a subsequent extract activity, you see the message shown in <span class="underline">Figure 256</span>:</p>
<p><span id="_Ref389635027" class="anchor"></span>Figure 256: Extract Tool—Example of a notice regarding an outstanding extract activity</p>
<p>There is already an outstanding <em>extract</em> activity.</p>
<p>Please finish it or CANCEL it.</p>
<p>Since the ARCHIVAL ACTIVITY file (#1.11) maintains a record of both your extract and archiving activities, you see the italicized word <em>archiving</em> whenever the outstanding file activity is an archiving one. To add or delete entries from the SEARCH/SORT template you just created, use the Add/Delete Selected Entries option.</p>
<h3 id="adddelete-selected-entries-option-2-of-9">Add/Delete Selected Entries Option (2 of 9)</h3>
<p>When you wish to add entries to the extract activity or you wish to delete an entry or entries, use the Add/Delete Selected Entries option. This option provides an easy way to eliminate undesired entries or to add needed ones to your list of entries to extract. Like the Inquire to File Entries option, this option displays a selected entry and then asks if you want to delete or add the entry. If you modify the list, then the activity’s status in the ARCHIVAL ACTIVITY file (#1.11) changes from SELECTED to EDITED.</p>
<p>You can only use this option to modify your list before the entries are moved to the destination file. If you need to change the extract activity list after the destination file is updated, you need to cancel the extract activity and start a new extract activity.</p>
<p>To use the Add/Delete Selected Entries option, select the extract activity you want to modify by entering the archival activity number, source file number, or source file name. Then select the entry to be added or deleted.</p>
<p><span class="underline">Figure 257</span> depicts the sequence you follow when adding an entry to the extract activity:</p>
<p><span id="_Ref389632160" class="anchor"></span>Figure 257: Extract Tool—Using the ADD/DELETE SELECTED ENTRIES option</p>
<p>Select EXTRACT OPTION: <strong>ADD/DELETE &lt;Enter&gt;</strong> SELECTED ENTRIES</p>
<p>Select EXTRACT ACTIVITY: <strong>?</strong></p>
<p>ANSWER WITH ARCHIVAL ACTIVITY ARCHIVE NUMBER, OR FILE</p>
<p>CHOOSE FROM:</p>
<p>3 CHANGE 08-30-92 SELECTED SELECTOR:FMEMPLOYEE,2</p>
<p>EXTRACT</p>
<p>Select EXTRACT ACTIVITY: <strong>3 &lt;Enter&gt;</strong> 08-30-92 SELECTED</p>
<p>SELECTOR:FMEMPLOYEE,2 EXTRACT</p>
<p>Select CHANGE NO.: <strong>330</strong></p>
<p>NO.: 330 VERSION: 17.09</p>
<p>PROGRAMMER: FMPROGRAMMER,27 ROUTINE: DIL2</p>
<p>DATE CHANGED: OCT 24, 1995</p>
<p>ADD this entry TO the EXTRACT SELECTION? YES// <strong>&lt;Enter&gt;</strong></p>
<table>
<tbody>
<tr class="odd">
<td><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /></td>
<td><p><strong>NOTE:</strong></p>
<ul>
<li><p>Entering two question marks (“<strong>??</strong>”) at the “Select EXTRACT ACTIVITY:” prompt displays a list of file entries.</p></li>
<li><p>The phrase “*on EXTRACT list*” appears next to those entries that are currently part of the extract activity.</p></li>
<li><p>The “DELETE this entry...?” prompt appears whenever you select an entry that is currently on the extract list.</p></li>
<li><p>The “ADD this entry...?” prompt appears whenever you select an entry that is <em>not</em> among the items on the list.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<h3 id="print-selected-entries-option-3-of-9">Print Selected Entries Option (3 of 9)</h3>
<p>To display the list of entries you have selected, use the Print Selected Entries option. This option uses the standard VA FileMan interface for printing.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For guidance on printing entries, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p><span class="underline">Figure 258</span> depicts the type of dialogue you encounter when printing a list of entries to be extracted:</p>
<p><span id="_Ref389631788" class="anchor"></span>Figure 258: Extract Tool—Using the PRINT SELECTED ENTRIES option</p>
<p>Select EXTRACT OPTION: <strong>PRINT &lt;Enter&gt;</strong> SELECTED ENTRIES</p>
<p>Select EXTRACT ACTIVITY: <strong>3 &lt;Enter&gt;</strong> CHANGE 08-30-92 EDITED</p>
<p>SELECTOR:FMEMPLOYEE,J EXTRACT</p>
<p>Enter a regular Print Template name or fields you wish to see</p>
<p>printed on this report of records to be extracted.</p>
<p>FIRST PRINT FIELD: <strong>[ZZTEST TEMPLATE</strong></p>
<p>The output looks like:</p>
<p><span id="_Toc342980939" class="anchor"></span>Figure 259: Extract Tool—PRINT SELECTED ENTRIES option output</p>
<p>CHANGE EXTRACT ACTIVITY AUG 30, 1992 11:09 PAGE 1</p>
<p>NO. VERSION PROGRAMMER</p>
<p>-----------------------------------------------------------------</p>
<p>101 17.10 FMPROGRAMMER,25</p>
<p>102 17.32 FMPROGRAMMER,25</p>
<p>103 17.35 FMPROGRAMMER,25</p>
<p>330 17.09 FMPROGRAMMER,30</p>
<h3 id="modify-destination-file-option-4-of-9">Modify Destination File Option (4 of 9)</h3>
<p>You can use either the Modify File Attributes option or the Modify Destination File option when you are ready to create the destination file that receives your extracted data. You can also use these options to correct discrepancies that you noticed while you were building your EXTRACT template. The two options are nearly identical. However, one major difference exists: the Modify Destination File option prompts for a new file attribute: ARCHIVE FILE (see the “<span class="underline">Destination File</span>” section). If you use the Modify File Attributes option to create the destination file, you need to access the Modify Definition File option to set the ARCHIVE FILE flag.</p>
<p><span class="underline">Figure 260</span> is a sample of the type of dialogue that you encounter when modifying your destination file:</p>
<p><span id="_Ref389630688" class="anchor"></span>Figure 260: Extract Tool—Using the MODIFY DESTINATION FILE option (1 of 2)</p>
<p>Select EXTRACT OPTION: <strong>MODIFY &lt;Enter&gt;</strong> DESTINATION FILE</p>
<p>This option allows you to build a file which will store data</p>
<p>extracted from other files. When creating fields in the</p>
<p>destination file, all data types are selectable. However, only a</p>
<p>few data types are acceptable for receiving extracted data.</p>
<p>Please see your User Manual for more guidance on building the</p>
<p>destination file.</p>
<p>MODIFY WHAT FILE: <strong>CHANGE EXTRACT</strong></p>
<p>From this point on, you see the usual dialogue while creating a new file and creating fields.</p>
<p>Once you have finished creating your destination file, you see the dialogue that follows:</p>
<p><span id="_Toc342980941" class="anchor"></span>Figure 261: Extract Tool—Using the MODIFY DESTINATION FILE option (2 of 2)</p>
<p>Select FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>ARCHIVE FILE? NO// <strong>?</strong></p>
<p>Enter either ‘Y’ or ‘N’</p>
<p>ARCHIVE FILE? NO// <strong>??</strong></p>
<p>‘YES’ will not allow modifications or deletions of data or data</p>
<p>dictionary</p>
<p>‘NO’ will place no restrictions on the file.</p>
<p>ARCHIVE FILE? NO// <strong>&lt;Enter&gt;</strong></p>
<p>Select EXTRACT OPTION:</p>
<h3 id="create-extract-template-option-5-of-9">Create Extract Template Option (5 of 9)</h3>
<p>When selecting destination fields for data to be extracted into, keep in mind that the INPUT transforms of the destination fields are executed for each field value. For an extracted record, the value of each field in the record is tested against the INPUT transform of its destination field. If any field fails the INPUT transform, the extract for the entire record fails. Make sure the INPUT transforms on the destination fields are appropriate for the data you being extracted.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you are extracting a <strong>Sub</strong>record using the EXTRACT^DIAXU entry point and its FILING_LEVEL parameter, and a value fails the INPUT transform, only the extract of the Subrecord fails.</p>
<p>When you are ready to build an EXTRACT template, you <em>must</em> select the Create Extract Template option. Using this option, you identify not only the field you wish to extract from the source file but also its corresponding field in the destination file. The EXTRACT template is the only type of PRINT template used in the Update Destination File option.</p>
<p>Building an EXTRACT template requires entering valid field numbers or field names at the “EXTRACT FIELD” prompt. Since VA FileMan stores EXTRACT templates in the PRINT TEMPLATE file (#.4), this option uses the term “PRINT TEMPLATE” instead of “EXTRACT TEMPLATE” in the dialogue. For each extract field that you identify in the source file, at the “MAP TO” field prompt, enter the destination file field name or field number that receives the data. Only those fields defined in the EXTRACT template appear in the destination file.</p>
<p>Keep in mind that the value of each field in an extracted record is tested against the INPUT transform of its destination field. If any value fails its destination field’s INPUT transform, the extract for the entire record fails. Make sure the INPUT transforms on the destination fields are appropriate for the data you are extracting.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you are extracting a <strong>Sub</strong>record using the EXTRACT^DIAXU entry point and its FILING_LEVEL parameter, and a value fails the INPUT transform, only the extract of the Subrecord fails.</p>
<p>When you arrive at the “STORE EXTRACT LOGIC IN TEMPLATE:” prompt, enter the name that you wish to assign to your new EXTRACT template. To edit an existing EXTRACT template, on the other hand, simply enter its name at the “FIRST EXTRACT FIELD:” prompt—using the following format:</p>
<p>“[Extract templatename”</p>
<p>The following is a sample of the dialogue that you encounter when you are ready to build an EXTRACT template:</p>
<p><span id="_Toc342980942" class="anchor"></span>Figure 262: Extract Tool—Using the CREATE EXTRACT TEMPLATE option</p>
<p>Select EXTRACT OPTION: <strong>CREATE &lt;Enter&gt;</strong> EXTRACT TEMPLATE</p>
<p>This option lets you build a template where you specify fields to extract and</p>
<p>their corresponding mapping in the destination file.</p>
<p>For more detailed description of requirements on the destination file, please</p>
<p>see your VA FileMan User Manual.</p>
<p>OUTPUT FROM WHAT FILE: <strong>CHANGE &lt;Enter&gt;</strong> (956 entries)</p>
<p>DESTINATION FILE: <strong>CHANGE EXTRACT &lt;Enter&gt;</strong> (0 entries)</p>
<p>FIRST EXTRACT CHANGE FIELD: <strong>.01 &lt;Enter&gt;</strong> NO.</p>
<p>MAP NO. TO CHANGE EXTRACT FIELD: <strong>.01 &lt;Enter&gt;</strong> NO.</p>
<p>THEN EXTRACT CHANGE FIELD: <strong>VERSION</strong></p>
<p>MAP VERSION TO CHANGE EXTRACT FIELD: <strong>VERSION</strong></p>
<p>THEN EXTRACT CHANGE FIELD: <strong>PROGRAMMER</strong></p>
<p>MAP PROGRAMMER TO CHANGE EXTRACT FIELD: <strong>PROGRAMMER</strong></p>
<p>STORE EXTRACT LOGIC IN TEMPLATE: <strong>CHANGE EXTRACT</strong></p>
<p>Are you adding ‘CHANGE EXTRACT’ as a new PRINT TEMPLATE? No// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<p>While you are creating your EXTRACT template, VA FileMan performs a few validation checks. Inspecting the extract field and its corresponding field in the destination file, VA FileMan checks to see if both fields are compatible in several important areas, including:</p>
<ul>
<li><p>Data type</p></li>
<li><p>Minimum length</p></li>
<li><p>Maximum length</p></li>
<li><p>Minimum values</p></li>
<li><p>Maximum values</p></li>
</ul>
<p>If a discrepancy exists, VA FileMan displays an error message such as the statement shown in <span class="underline">Figure 263</span>:</p>
<p><span id="_Ref389632204" class="anchor"></span>Figure 263: Extract Tool—Example of a notice regarding a discrepancy</p>
<p>PROGRAMMER field in CHANGE EXTRACT file should have a maximum</p>
<p>length of at least 30 characters.</p>
<p>After VA FileMan displays an error message about your destination field, you can continue building your template. You are <em>not</em>, however, able to update the destination file until you have corrected the problem.</p>
<p><span class="underline">Figure 264</span> shows the warning that you see when any source field and its corresponding destination field fail one of the validation checks:</p>
<p><span id="_Ref389630689" class="anchor"></span>Figure 264: Extract Tool—Example of the warning message when the validation check fails</p>
<p>THE DESTINATION FILE DATA DICTIONARY SHOULD BE MODIFIED PRIOR TO</p>
<p>ANY MOVEMENT OF EXTRACT DATA!</p>
<p>At any “MAP ‘FIELD NAME’ TO ‘FILE NAME’ FIELD:” prompt, entering two question marks (“ <strong>??</strong>”) yields a list of the selectable fields in the destination file. The list gets shorter as fields are selected to ensure that no two extract fields map information to a single field in the destination file.</p>
<h3 id="update-destination-file-option-6-of-9">Update Destination File Option (6 of 9)</h3>
<p>Once you have used the Update Destination File option, the extracted data from the source file is moved to the destination file. After you enter the name of the EXTRACT template that you wish to use, VA FileMan makes sure the template’s mapping information is correct and acceptable and then populates the destination file, adding entries as new records. VA FileMan does <em>not</em>, however, check to see if any of those records to be moved already exist in the destination file. Since this two-step process can be quite time-consuming, it can be queued at the “DEVICE:” prompt.</p>
<p><span class="underline">Figure 265</span> is a sample of the dialogue:</p>
<p><span id="_Ref389630690" class="anchor"></span>Figure 265: Extract Tool—Using the UPDATE DESTINATION FILE option</p>
<p>Select EXTRACT OPTION: <strong>UPDATE &lt;Enter&gt;</strong> DESTINATION FILE</p>
<p>Select EXTRACT ACTIVITY: <strong>3 &lt;Enter&gt;</strong> CHANGE 08-31-92 EDITED</p>
<p>SELECTOR:FMEMPLOYEE,J EXTRACT</p>
<p>You MUST enter an EXTRACT template name. This EXTRACT template</p>
<p>will be used to populate your destination file.</p>
<p>PRINT TEMPLATE: <strong>CHANGE EXTRACT &lt;Enter&gt;</strong> **EXTRACT** (AUG</p>
<p>30,1992) USER #2 FILE #16000</p>
<p>Excuse me, this will take a few moments...</p>
<p>Checking the destination file...</p>
<p>If entries cannot be moved to the destination file, an exception</p>
<p>report will be printed.</p>
<p>Select a device where to print the exception report.</p>
<p>QUEUEING to this device will queue the Update process.</p>
<p>EXCEPTION REPORT DEVICE: <strong>Q &lt;Enter&gt;</strong> UEUE TO PRINT ON</p>
<p>DEVICE: <strong>PRINTER</strong></p>
<p>After the destination file has been updated, VA FileMan changes the extract activity status from SELECTED or EDITED to UPDATED DESTINATION FILE. At this point, the entries from the source file are no longer available on lookups. This protective measure prevents you from attempting to edit the selected source file entries, so that they contain the same data as the corresponding destination file entries.</p>
<p>The Exception Report in <span class="underline">Figure 266</span> is printed when the Extract Tool fails to move all of the data in a source entry into the destination file. A failed INPUT transform is one possible cause of such a failure. In this case, the incomplete entry in the destination file is deleted. The source entry is <em>not</em> locked and its internal entry number is deleted from the extract list. The total number of entries extracted is reduced by the total numbers of entries appearing on the exception report.</p>
<p><span id="_Ref389632252" class="anchor"></span>Figure 266: Extract Tool—Exception Report</p>
<p>EXTRACT ACTIVITY EXCEPTION REPORT JUN 27,1996 PAGE: 1</p>
<p>-------------------------------------------------------------------</p>
<p>EXTRACT ACTIVITY: 9 ARCHIVER: FMEMPLOYEE,J</p>
<p>THE FOLLOWING ENTRIES IN THE ‘TEST’ FILE WERE NOT MOVED BY THE</p>
<p>EXTRACT TOOL</p>
<p>Entry # 9 was NOT processed because:</p>
<p>The value ‘NEW’ for field FTEXT MULT LABEL in FTEXT MULT SUB-FIELD in file TEST is not</p>
<p>valid.</p>
<p>Enter # 30 was NOT processed because:</p>
<p>The value ‘NEW’ for field FTEXT MULT LABEL in FTEXT MULT SUB-FIELD in file TEST is not</p>
<p>valid.</p>
<p>*** PLEASE KEEP THIS FOR FUTURE REFERENCE ***</p>
<p>The following is a list of recommended steps to take when an exception report is printed:</p>
<ol type="1">
<li><blockquote>
<p>Finish the active extract activity by purging or canceling.</p>
</blockquote></li>
</ol>
<ol start="45" type="1">
<li><p>Determine the problem with the source entry and fix it.</p></li>
<li><p>If there are several entries on the exception report, start another extract activity. Your SEARCH/SORT template can be reused to use the same search specifications.</p></li>
<li><p>Adjust the extract list to match the list of entries on the exception report by using the Add/Delete Selected Entries option.</p></li>
<li><p>Proceed as before.</p></li>
</ol>
<p>For exceptions caused by INPUT transforms, keep in mind that the value of each field in an extracted record is tested against the INPUT transform of its destination field. If any value fails its destination field’s INPUT transform, the extract for the entire record fails. Make sure the INPUT transforms on the destination fields are appropriate for the data you are extracting.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If you are extracting a <strong>Sub</strong>record using the EXTRACT^DIAXU entry point and its FILING_LEVEL parameter, and a value fails the INPUT transform, only the extract of the Subrecord fails.</p>
<h3 id="purge-extracted-entries-option-7-of-9">Purge Extracted Entries Option (7 of 9)</h3>
<p>If you have DELETE access to the primary file, you can use the Purge Stored Entries option to delete extracted data from the primary file (e.g., CHANGE file). After you have purged your entries, VA FileMan updates the ARCHIVAL ACTIVITY file (#1.11). If you attempt to purge an extract activity that lacks the status UPDATED DESTINATION FILE, you encounter the following message:</p>
<p>Data has NOT YET been moved to the destination file!</p>
<p>When purging extracted data, you encounter a dialogue much like the one that follows:</p>
<p><span id="_Toc342980947" class="anchor"></span>Figure 267: Extract Tool—Using the PURGE EXTRACTED ENTRIES option (1 of 2)</p>
<p>Select EXTRACT OPTION: <strong>PURGE &lt;Enter&gt;</strong> EXTRACTED ENTRIES</p>
<p>Select EXTRACT ACTIVITY: <strong>3 &lt;Enter&gt;</strong> CHANGE 08-30-92 UPDATED</p>
<p>DESTINATION FILE SELECTOR:FMEMPLOYEE,J EXTRACT</p>
<p>If the source file has fields from other files pointing to it, the Extract Tool tells you:</p>
<p><span id="_Ref451589780" class="anchor"></span>Figure 268: Extract Tool—Using the PURGE EXTRACTED ENTRIES option (2 of 2)</p>
<p>The records about to be purged should not be ‘pointed to’ by other</p>
<p>records to maintain database integrity.</p>
<p>This option will DELETE DATA from both CHANGE</p>
<p>and from the ARCHIVAL ACTIVITY file.</p>
<p>Are you sure you want to continue? NO// <strong>YES</strong></p>
<p>The entries will be deleted in INTERNAL NUMBER order.</p>
<p>&lt;&lt; 4 ENTRIES PURGED &gt;&gt;</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: As you can see (<span class="underline">Figure 268</span>), entering a YES response to the “Are you sure you want to continue? NO//” prompt deletes the entries immediately!</p>
<h3 id="cancel-extract-selection-option-8-of-9">Cancel Extract Selection Option (8 of 9)</h3>
<p>You can cancel an extract activity any time before the entries are purged by using the Cancel Extract Selection option. If the extract activity status is UPDATED DESTINATION FILE, which means the entries have already been moved to the destination file, you see a warning notice. At this point, you can roll back or delete the new entries that were created while using the Update Destination File option.</p>
<p>After you have canceled an extract activity, VA FileMan deletes the ARCHIVAL ACTIVITY file (#1.11) reference to the extract activity. In addition, you once again can gain access to all of those source entries that VA FileMan locked during the update of your destination file. To extract data <em>without</em> purging the source entries, cancel the extract activity to unlock the selected entries in the source file.</p>
<p>You encounter the dialogue in <span class="underline">Figure 269</span> while canceling an extract activity:</p>
<p><span id="_Ref389632299" class="anchor"></span>Figure 269: Extract Tool—Using the CANCEL EXTRACT SELECTION option</p>
<p>Select EXTRACT OPTION: <strong>CANCEL EXTRACT SELECTION</strong></p>
<p>Select EXTRACT ACTIVITY: <strong>CHANGE &lt;Enter&gt;</strong> 3 CHANGE 08-31-92</p>
<p>UPDATED DESTINATION FILE SELECTOR:FMEMPLOYEE,O EXTRACT</p>
<p>Are you sure you want to CANCEL this EXTRACT ACTIVITY? NO// <strong>??</strong></p>
<p>Enter YES to stop this activity and start again from the beginning.</p>
<p>Are you sure you want to CANCEL this EXTRACT ACTIVITY? NO// <strong>YES</strong></p>
<p>This extract activity has already updated the destination file.</p>
<p>Delete the destination file entries created by this extract activity? NO// <strong>??</strong></p>
<p>Enter YES to rollback the destination file to its state before</p>
<p>the update.</p>
<p>Delete the destination file entries created by this extract</p>
<p>activity? NO// <strong>&lt;Enter&gt;</strong></p>
<p>&gt;&gt;&gt; DONE &lt;&lt;&lt;</p>
<p>To cancel an extract selection so that you can start over, enter <strong>YES</strong> at the “Delete the destination file entries...” prompt. Entering <strong>YES</strong> prevents you from sending a duplicate set of entries to the destination file. If, on the other hand, you simply want to cancel the extract selection, pressing the <strong>Enter</strong> key at the prompt unlocks the source entries and retains the destination file entries.</p>
<h3 id="validate-extract-template-option-9-of-9">Validate Extract Template Option (9 of 9)</h3>
<p>After you have corrected any discrepancies that VA FileMan might have pointed out while you were creating an EXTRACT template, you can use the Validate Extract Template option to quickly check your EXTRACT template’s mapping information. The Validate Extract Template option does <em>not</em> alter anything in your template. <span class="underline">Figure 270</span> is a sample dialogue:</p>
<p><span id="_Ref389629479" class="anchor"></span>Figure 270: Extract Tool—Using the VALIDATE EXTRACT TEMPLATE option</p>
<p>Select EXTRACT OPTION: <strong>VAL &lt;Enter&gt;</strong> IDATE EXTRACT TEMPLATE</p>
<p>Select EXTRACT TEMPLATE: <strong>CHANGE &lt;Enter&gt;</strong> EXTRACT **EXTRACT**</p>
<p>(AUG 30, 1992) USER #2 FILE #16000</p>
<p>Excuse me, this will take a few moments...</p>
<p>Checking the destination file...</p>
<p>Template looks OK!</p>
<h1 id="filegrams">Filegrams</h1>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> In order to use the full capabilities of VA FileMan’s Filegram procedures, Kernel 6.5 or later <em>must</em> be installed on your system.</p>
<p>Filegrams are a feature in VA FileMan intended for use by system managers and software developers.</p>
<p>A filegram is a process that moves a record (also called an entry) from a file on one computer system to a duplicate file on another <em>independent</em> computer system. An independent computer system is defined as a system having its own database. Sending data from the “live” account at a medical center to a “test” account at the same medical center is an example of moving a filegram locally. Sending data from a computer in the San Francisco Medical Center to a computer in the Salt Lake City Medical Center is an example of moving a filegram remotely.</p>
<p>The records you can move by a filegram can be either physical (stored in one file) or logical (related fields stored in different files). Logical records are loaded into filegrams by using VA FileMan’s relational navigational syntax (<strong>:</strong>).</p>
<p>For successful filegram installation, the recipient system <em>must</em> have the following:</p>
<ul>
<li><p>Kernel 6.5 or later.</p></li>
<li><p>The FILEGRAM HISTORY file (#1.12).</p></li>
<li><p>The Filegram key to the Filegram submenu.</p></li>
<li><p>A file structure that matches the one reflected by the entry in the filegram. This is the structure existing on the sender’s system.</p></li>
</ul>
<h2 id="filegram-type-templates">FILEGRAM-type Templates</h2>
<p>The Filegram process requires you to create an OUTPUT template, which is stored in the PRINT TEMPLATE file (#.4) along with regular PRINT templates. VA FileMan recognizes the FILEGRAM-type and regular PRINT templates as OUTPUT templates, but their similarity ends there.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Since FILEGRAM-type templates are stored in the PRINT TEMPLATE file (#.4), the dialogues you encounter in the Filegram process refer to a FILEGRAM-type template as a PRINT template.</p>
<p>Regular PRINT templates already created are screened so that you <em>cannot</em> accidentally replace an existing PRINT template with a FILEGRAM-type template.</p>
<h2 id="filegram-and-archiving-relationship">Filegram and Archiving Relationship</h2>
<p>FILEGRAM-type templates are the only kind of template allowed in the archiving process.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a full description of archiving in VA FileMan, see the “<span class="underline">Archiving</span>” section.</p>
<h2 id="using-filegrams">Using Filegrams</h2>
<p>The following is a summary of the basic steps needed to send and install a filegram:</p>
<ol type="1">
<li><blockquote>
<p>The filegram <strong>sender</strong> creates a FILEGRAM-type template for a specified file (Create/Edit Filegram Template option). The Display Filegram Template option can be used to review the template.</p>
</blockquote></li>
</ol>
<ol start="49" type="1">
<li><p>The <strong>sender</strong> can optionally designate specifiers with the Specifiers option. These are used for matching existing entries with filegrams.</p></li>
<li><p>The <strong>sender</strong> then generates a filegram for a specific entry (Generate Filegram option). The filegram is placed into a MailMan message. The filegram sender sends this message to an individual or individuals at a remote or local destination.</p></li>
<li><p>The <strong>recipient</strong> receives the filegram with MailMan, reading the mail message containing the filegram, and forwarding it to S.DIFG-SRV-HISTORY. This is a special server that loads the message into the recipient’s FILEGRAM HISTORY file (#1.12) and sets up the interface between VA FileMan and MailMan on the target system.</p></li>
<li><p>If you want to install the filegram on a system other than the one where you received it, instead of immediately forwarding to the <strong>S.DIFG-SRV-HISTORY</strong> server, forward the message to an individual on the ultimate target system (who in turn forwards it to <em>their</em> <strong>S.DIFG-SRV-HISTORY</strong> server.</p></li>
<li><p>Both the <strong>sender</strong> and the <strong>recipient</strong> can use the View Filegram option to inspect the filegram.</p></li>
<li><p>Then the <strong>recipient</strong> of the filegram on the target system uses the Install/Verify Filegram option to install the filegram into the destination file.</p></li>
<li><p><strong>Senders</strong> and <strong>recipients</strong> can delete a filegram at any time.</p></li>
</ol>
<p>The recipient can choose to modify the <strong>S.DIFG-SRV-HISTORY</strong> server or create another server to aid in the installation of filegrams.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For additional information about setting up servers, see the Kernel and MailMan documentation.</p>
<h2 id="filegram-steps">Filegram Steps</h2>
<h3 id="createedit-filegram-template-option">Create/Edit Filegram Template Option</h3>
<p>Use the Create/Edit Filegram Template option to create a FILEGRAM-type template or edit an existing FILEGRAM-type template. A FILEGRAM-type template is similar to a regular PRINT template without any formatting instructions. You always receive the “STORE FILEGRAM LOGIC IN TEMPLATE:” prompt, no matter how many fields you identify.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For information about regular PRINT templates, see the “Print: How to Print Reports from Files” section in the <em>VA FileMan User Manual</em>.</p>
<p>The Create/Edit Filegram Template option is the first step in developing a filegram; there is no filegram without the template. This template is also used in the archiving process. Before using this option, you may wish to familiarize yourself with the files and fields involved.</p>
<p><span class="underline">Figure 271</span> illustrates how to create a FILEGRAM-type template:</p>
<p><span id="_Ref389632332" class="anchor"></span>Figure 271: Filegrams—Creating a FILEGRAM template (1 of 3)</p>
<p>OUTPUT FROM WHAT FILE: <strong>CHANGE</strong></p>
<p>FIRST SEND CHANGE FIELD: <strong>??</strong></p>
<p>You can enter <strong>ALL</strong> at this prompt, if you want to include all fields in the file in your filegram. <strong>ALL</strong> can also be used in existing file navigation paths. Enter <strong>[?</strong> at this prompt to get a listing of existing FILEGRAM-type templates for the selected file.</p>
<p><span class="underline">Figure 272</span> shows how two question marks (“<strong>??</strong>”) requests a list of the fields in the file.</p>
<p><span id="_Ref389632358" class="anchor"></span>Figure 272: Filegrams—Creating a FILEGRAM template (2 of 3)</p>
<p>CHOOSE FROM:</p>
<p>.01 NAME</p>
<p>1 VERSION</p>
<p>2 TAG</p>
<p>3 ROUTINE</p>
<p>4 CHANGE</p>
<p>5 REPORTER (multiple)</p>
<p>6 DATE CHANGED</p>
<p>7 PROGRAMMER</p>
<p>9 BUG OR FEATURE</p>
<p>10 PURPOSE</p>
<p>11 DESCRIPTION (word-processing)</p>
<p>In <span class="underline">Figure 273</span>, the PROGRAMMER field is a pointer to the NEW PERSON file (#200).</p>
<p><span id="_Ref389632410" class="anchor"></span>Figure 273: Filegrams—Creating a FILEGRAM template (3 of 3)</p>
<p>FIRST SEND CHANGE FIELD: <strong>1 &lt;Enter&gt;</strong> VERSION</p>
<p>THEN SEND CHANGE FIELD: <strong>3 &lt;Enter&gt;</strong> ROUTINE</p>
<p>THEN SEND CHANGE FIELD: <strong>4 &lt;Enter&gt;</strong> CHANGE</p>
<p>THEN SEND CHANGE FIELD: <strong>5 &lt;Enter&gt;</strong> REPORTER (multiple)</p>
<p>FIRST SEND REPORTER SUB-FIELD: <strong>.01</strong></p>
<p>THEN SEND REPORTER SUB-FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>THEN SEND CHANGE FIELD: <strong>6 &lt;Enter&gt;</strong> DATE CHANGED</p>
<p>THEN SEND CHANGE FIELD: <strong>7 &lt;Enter&gt;</strong> PROGRAMMER</p>
<p>THEN SEND CHANGE FIELD: <strong>11 &lt;Enter&gt;</strong> DESCRIPTION (word-processing)</p>
<p>THEN SEND CHANGE FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE FILEGRAM LOGIC IN TEMPLATE: <strong>ZZTEST FILEGRAM</strong></p>
<p>Are you adding ‘ZZTEST FILEGRAM’ as a new PRINT TEMPLATE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>The template for your filegram is now set up. Edit this template just like you would any other PRINT template.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> You do <em>not</em> have to include the .01 field, because it is automatically included for use as a lookup value.</p>
<p>To send logical records in a filegram, simply use file navigation to and from existing files at the “SEND FIELD:” prompts.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a discussion of relational navigation using forward and backward pointers, see the “<span class="underline">Relational Navigation</span>” section.</p>
<h3 id="display-filegram-template-option">Display Filegram Template Option</h3>
<p>The Display Filegram Template option displays the FILEGRAM-type template in a two-column format (like the Inquire to File Entries option). Multiple-type fields are shown last in the display, no matter what their field number.</p>
<p><span class="underline">Figure 274</span> is an example of the output produced by the Display Filegram Template option:</p>
<p><span id="_Ref389629524" class="anchor"></span>Figure 274: Filegrams—FILEGRAM Template output</p>
<p>Select FILEGRAM OPTION: <strong>DIS &lt;Enter&gt;</strong> PLAY FILEGRAM TEMPLATE</p>
<p>SELECT FILEGRAM TEMPLATE: <strong>ZZTEST FILEGRAM</strong></p>
<p>NAME: ZZTEST FILEGRAM DATE CREATED: AUG 24, 1989</p>
<p>READ ACCESS: @ FILE: 1001</p>
<p>USER #: 29 WRITE ACCESS: @</p>
<p>DATE LAST USED: AUG 24, 1989</p>
<p>ORDER: 1 FILEGRAM FILE: 1001</p>
<p>LEVEL: 1 DATE LAST STORED: AUG 24, 1989</p>
<p>FIELD ORDER: 1 FIELD NUMBER: .01</p>
<p>CAPTION (c): NAME</p>
<p>FIELD ORDER: 2 FIELD NUMBER: 1</p>
<p>CAPTION (c): VERSION</p>
<p>FIELD ORDER: 3 FIELD NUMBER: 3</p>
<p>CAPTION (c): ROUTINE</p>
<p>FIELD ORDER: 4 FIELD NUMBER: 4</p>
<p>CAPTION (c): CHANGE</p>
<p>FIELD ORDER: 5 FIELD NUMBER: 6</p>
<p>CAPTION (c): DATE CHANGED</p>
<p>FIELD ORDER: 6 FIELD NUMBER: 7</p>
<p>CAPTION (c): PROGRAMMER</p>
<p>FIELD ORDER: 7 FIELD NUMBER: 11</p>
<p>CAPTION (c): DESCRIPTION</p>
<p>ORDER: 2 FILEGRAM FILE: 1001.05</p>
<p>LEVEL: 2 PARENT: 1001</p>
<p>CROSS-REFERENCE: MULTIPLE USER RESPONSE TO GET HERE: REPORTER</p>
<p>DATE LAST STORED: AUG 24, 1989</p>
<p>FIELD ORDER: 1 FIELD NUMBER: .01</p>
<p>CAPTION (c): REPORTER</p>
<p>FIRST PRINT FIELD: S DIFGT=315 D FG^DIFGB;X//</p>
<p>COMPILED (c): N</p>
<p>The code in the FIRST PRINT FIELD has special meaning to VA FileMan.</p>
<h3 id="specifiers-option">Specifiers Option</h3>
<p>The filegram sender uses the Specifiers option to identify a particular field in the file as a reference point to use when <em>installing</em> the filegram. The value of this field in the filegram is compared to values in the entries at the target site. The values <em>must</em> match for a filegram to be installed. If the specifier has a unique value for every entry in the file and is cross-referenced, that cross-reference is used to locate an entry. This reduces the search time and increases accuracy. Specifiers can be compared to identifiers: unlike identifiers, which are used for user interaction purposes, specifiers are used for transaction purposes. Specifiers are optional.</p>
<p>The dialogue that follows creates a specifier in a sample PATIENT file:</p>
<p><span id="_Toc342980955" class="anchor"></span>Figure 275: Filegrams—Example of creating a specifier (1 of 2)</p>
<p>Select FILEGRAM OPTION: <strong>5 &lt;Enter&gt;</strong> SPECIFIERS</p>
<p>OUTPUT FROM WHAT FILE: <strong>PATIENT</strong></p>
<p>Select FIELD: <strong>3 &lt;Enter&gt;</strong> SSN</p>
<p>Want to make SSN a specifier? NO// <strong>YES</strong></p>
<p>Is the value of this field unique for each entry? NO// <strong>YES</strong></p>
<p>Answer <strong>YES</strong> only if you have a regular cross-reference on the field that you are making a specifier. A field can be a specifier <em>without</em> being unique.</p>
<p>If you answer <strong>YES</strong>, a dialogue similar to the following figure occurs:</p>
<p><span id="_Ref389632440" class="anchor"></span>Figure 276: Filegrams—Example of creating a specifier (2 of 2)</p>
<p>Select one of the following:</p>
<p>1 C REGULAR</p>
<p>If one of the above provides a direct look-up by SSN, please enter</p>
<p>its number or name: <strong>1</strong></p>
<p>To delete a specifier:</p>
<p><span id="_Toc342980957" class="anchor"></span>Figure 277: Filegrams—Deleting a specifier</p>
<p>Select FIELD: <strong>3 &lt;Enter&gt;</strong> SSN</p>
<p>SSN is already a specifier.</p>
<p>Do you want to delete it? NO// <strong>YES</strong></p>
<h3 id="generate-filegram-option">Generate Filegram Option</h3>
<p>The Generate Filegram option is used by a filegram sender. Be sure that the DUZ correctly identifies the filegram sender; the DUZ is used to identify the filegram’s sender to the recipient. The option creates a filegram in MailMan message format after you designate a file, FILEGRAM-type template, and a file entry. Concurrently, it creates a record in the FILEGRAM HISTORY File (the FILEGRAM HISTORY file [#1.12] points to the MESSAGE file [#3.9].) The record created in the FILEGRAM HISTORY file is called a filegram history. The filegram history allows VA FileMan to differentiate between a filegram message and a mail message. After the filegram is placed into the mail message, you can send it to an individual at any established address.</p>
<p>You can only send one entry at a time. <span class="underline">Figure 278</span> illustrates the generation of a filegram:</p>
<p><span id="_Ref389632473" class="anchor"></span>Figure 278: Filegrams—Example of generating a Filegram</p>
<p>Select FILEGRAM OPTION: <strong>GENERATE FILEGRAM</strong></p>
<p>OUTPUT FROM WHAT FILE: <strong>CHANGE</strong></p>
<p>Select FILEGRAM TEMPLATE: <strong>ZZTEST FILEGRAM</strong></p>
<p>Select CHANGE NO.: <strong>334</strong></p>
<p>Send mail to: <strong>REDACTED</strong></p>
<p>And send to: <strong>&lt;Enter&gt;</strong></p>
<h3 id="receiving-filegrams-with-mailman">Receiving Filegrams with MailMan</h3>
<p>Filegram messages do <em>not</em> appear as NEW mail at the receiving site. After the mail message is received, the filegram recipient <em>must</em> read the mail message. Then, it should be forwarded to S.DIFG-SRV-HISTORY on the target system (i.e., the system on which the filegram is installed). This is a special server used to load the message into the recipient’s FILEGRAM HISTORY file (#1.12) and to set up the interface between VA FileMan and MailMan at the target system.</p>
<p><span class="underline">Figure 279</span> is an example of what the recipient would see when reading and forwarding a filegram:</p>
<p><span id="_Ref389630691" class="anchor"></span>Figure 279: Filegrams—Example of a Filegram received and forwarded</p>
<p>Subj: FILEGRAM for entry #334 in CHANGE FILE (1001). [#186309]</p>
<p>25 Aug 89 10:00 20 lines</p>
<p>From: SITE,MANAGER in ‘IN’ basket Page 1</p>
<p>---------------------------------------------------------------</p>
<p>$DAT^CHANGE^1001^N^</p>
<p>CHANGE^1001^L=334</p>
<p>BEGIN:CHANGE^1001@1</p>
<p>SPECIFIER:VERSION^1=17.4</p>
<p>END:CHANGE^1001</p>
<p>VERSION^1=17.4</p>
<p>ROUTINE^3=DICATT5</p>
<p>CHANGE^4=Changed DIED to DIE0</p>
<p>DATE CHANGED^6=APR 13, 1987</p>
<p>PROGRAMMER^7=FMPROGRAMMER</p>
<p>DESCRIPTION^11=wp</p>
<p>“This change enables incredibly wonderful things”</p>
<p>“to occur.”</p>
<p>.</p>
<p>REPORTER^5^L=FMEMPLOYEE,10</p>
<p>BEGIN:REPORTER^1001.05@2</p>
<p>END:REPORTER^1001.05</p>
<p>REPORTER^.01=FMEMPLOYEE,10</p>
<p>^</p>
<p>$END DAT</p>
<p>Enter message action (in IN basket): IGNORE// <strong>F</strong></p>
<p>Forward mail to: <strong>S.DIFG-SRV-HISTORY</strong></p>
<p>SENDING A MESSAGE</p>
<h3 id="view-filegram-option">View Filegram Option</h3>
<p>Entries are made into the FILEGRAM HISTORY file (#1.12) at the sending site when the filegram is generated and at the receiving site by the S.DIFG-SRV-HISTORY server. The View Filegram option allows the filegram sender or recipient to inspect the filegram. Select this option and answer the “Select FILEGRAM HISTORY:” prompt with a question mark to get a listing of available filegram histories. You can see the filegram history just created by using the <strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong> or another filegram history by entering its internal entry number or date/time.</p>
<p><span class="underline">Figure 280</span> shows you what a simple (<em>without</em> pointers) filegram looks like. The View Filegram option will show this information to a filegram’s sender. The receiver sees additional information about the transmission of the mail message including the network mail path taken to the target system.</p>
<p><span id="_Ref389630950" class="anchor"></span>Figure 280: Filegrams—Example of a simple Filegram (<em>without</em> pointers)</p>
<p>FILEGRAM for entry #334 in CHANGE FILE (#1001).</p>
<p>Sent on 25 AUG 1989 @ 09:00 by FMUSER,FOUR</p>
<p>$DAT^CHANGE^1001^N^</p>
<p>CHANGE^1001^L=334</p>
<p>BEGIN:CHANGE^1001@1</p>
<p>SPECIFIER:VERSION^1=17.4</p>
<p>END:CHANGE^1001</p>
<p>VERSION^1=17.4</p>
<p>ROUTINE^3=DICATT5</p>
<p>CHANGE^4=Changed DIED to DIE0</p>
<p>DATE CHANGED^6=APR 13, 1987</p>
<p>DESCRIPTION^11=wp</p>
<p>“This change enables incredibly wonderful things”</p>
<p>“to occur.”</p>
<p>.</p>
<p>REPORTER^5^L=FMPATIENT,10</p>
<p>BEGIN:REPORTER^1001.05@2</p>
<p>END:REPORTER^1001.05</p>
<p>REPORTER^.01=FMPATIENT,10</p>
<p>^</p>
<p>$END DAT</p>
<h3 id="installverify-filegram-option">Install/Verify Filegram Option</h3>
<p>The filegram recipient uses the Install/Verify Filegram option to install a filegram from a MailMan message into a file on the target system. Choose a filegram history by entering its date/time or by using a <strong>&lt;Spacebar&gt;&lt;Enter&gt;</strong> (for the last used history) at the “Select FILEGRAM HISTORY:” prompt. The destination file for the filegram entry <em>must</em> be in place on the target system for a successful installation!</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: The installation has a better chance of succeeding if the destination file is a replica of the sending file.</p>
<p>The message “DONE” is displayed if the install was successful. If <em>not</em> successful, an UNSUCCESSFUL INSTALLATION message is returned with an error code.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a list of error codes identifying their meaning, see “^DIFG” in the “Filegrams API” section in the <em>VA FileMan APIs Manual</em>.</p>
<h3 id="deleting-a-filegram">Deleting a Filegram</h3>
<p>Delete a filegram by removing the filegram’s entry from the FILEGRAM HISTORY file (#1.12). As shown in <span class="underline">Figure 281</span>, use the Enter or Edit File Entries option. Enter the at-sign (“<strong>@</strong>”) at the DATE/TIME prompt of the filegram history you want to delete.</p>
<p><span id="_Ref389632498" class="anchor"></span>Figure 281: Filegrams—Deleting a Filegram</p>
<p>Select OPTION: <strong>ENTER OR EDIT FILE ENTRIES</strong></p>
<p>INPUT TO WHAT FILE: <strong>FILEGRAM HISTORY</strong></p>
<p>EDIT WHICH FIELD: ALL// <strong>&lt;Enter&gt;</strong></p>
<p>Select FILEGRAM HISTORY: <strong>8-24-1994@11:10:00</strong></p>
<p>DATE/TIME: AUG 24, 1994@11:10:00// <strong>@</strong></p>
<p>SURE YOU WANT TO DELETE THE ENTIRE FILEGRAM HISTORY? <strong>YES</strong></p>

<h1 id="archiving">Archiving</h1>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> To use VA FileMan’s archiving procedure, Kernel 6.5 or later <em>must</em> be installed on your system. To use the Find Archived Records option to retrieve records archived with VA FileMan versions earlier than 20.0, Kernel 7.1 or later <em>must</em> be installed on your system.</p>
<p>In general computer terms, archiving is a procedure that permits you to remove data from an online database and place that data into a low-cost storage medium (e.g., magnetic tape) for long-term retention.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: Archiving in VA FileMan is a complete purge that simply clears data from your system. In other words, no data restoration is provided! However, there is a data retrieval option.</p>
<p>This facility is a prototype and supported only as a developer’s tool. You <em>must</em> access your archiving options directly through VA FileMan from programmer mode (e.g., &gt;D Q^DI).</p>
<p>VA FileMan performs the archiving function by:</p>
<ol type="1">
<li><blockquote>
<p>Searching through file entries using specified criteria.</p>
</blockquote></li>
</ol>
<ol start="56" type="1">
<li><p>Extracting and transporting the selected entries by filegrams to temporary storage in the ARCHIVAL ACTIVITY file (#1.11).</p></li>
<li><p>Simply writing the data to permanent storage.</p></li>
</ol>
<p>The FILEGRAM-type template used to transport an archive activity can be created during the archiving session (in the Archiving menu options), or an existing FILEGRAM-type template created using the Filegram options can be used.</p>
<h2 id="considerations-before-archiving">Considerations before Archiving</h2>
<p>The following summarizes some of the important items to note regarding the archiving facility. Consider them before you begin archiving:</p>
<ul>
<li><p>It is <em>strongly encouraged</em> that you to have a current backup of your files before archiving.</p></li>
<li><p>Archiving is <em>not</em> user-specific. In other words, archiving is attached to a file <em>not</em> a user. For your own protection, be aware that someone other than yourself can complete or change an existing archiving activity.</p></li>
<li><p>Data from logical and physical files can be archived, but only the data from the physical (primary) file can be purged (removed).</p></li>
<li><p>VA FileMan <em>must</em> be able to collect and print the data using the search criteria before you can create an archiving activity. The Select Entries to Archive option <em>must</em> be run to completion such that the selected entries are printed, and can thus be stored in the ^DIBT SORT TEMPLATE global.</p></li>
<li><p>If you plan to keep a hard copy of the printed entries for future reference, design your PRINT template to facilitate review. You do <em>not</em> need to print all of the fields’ values that are archived, but you can include those that, in combination, uniquely identify the entry. Save the PRINT template for future use when archiving.</p></li>
<li><p>When the archived entries are written to temporary storage, the corresponding original entry disappears from the user’s view. (A new node, subscripted with -9, is added to the original entry so that it is bypassed by the usual VA FileMan calls.)</p></li>
<li><p>If data to be archived is contained in a Multiple field, then the entire entry <em>must</em> be archived. You <em>cannot</em> archive a subentry by itself.</p></li>
<li><p>A FILEGRAM-type template is the only template type allowed in the Write Entries to Temporary Storage option.</p></li>
<li><p>You <em>cannot</em> have more than one archiving activity on a file at a time.</p></li>
<li><p>Data selected for archiving can be permanently saved to any <strong>sequential</strong> storage media, for example: SDP, a VMS file, magnetic tape, or a removable disk pack.</p></li>
<li><p>Depending on the number of entries involved, be prepared for the search (the Select Entries to Archive option) and write (the Write Entries to Temporary Storage option) processes to be time-consuming.</p></li>
<li><p>A brief history of who performed the various archive steps and when they were accomplished is saved in the ARCHIVAL ACTIVITY file (#1.11).</p></li>
<li><p>You can cancel your archiving process, by using the Cancel Archival Selection option, at any time before the Purge Stored Entries option is used.</p></li>
<li><p>The Find Archived Entries option can be used to verify that the archive medium contains all the information intended to be archived.</p></li>
<li><p>The Purge Stored Entries option completely deletes data from the file being archived and from the ARCHIVAL ACTIVITY file (#1.11).</p></li>
<li><p>You <em>cannot</em> purge archived entries until you have moved selected entries to permanent storage. Thus, you need <em>not</em> worry about losing entries before they are archived.</p></li>
<li><p>You <em>cannot</em> start a second archive from a file until you purge or cancel the existing archiving activity on that file.</p></li>
</ul>
<h2 id="archiving-process-including-archiving-options-1-9">Archiving Process, including Archiving Options (1-9)</h2>
<p>The order of the options on the Archiving submenu reflects the sequence of steps in which you ordinarily do archiving. Access the Archiving submenu from the Other Options submenu:</p>
<p><span id="_Toc342980962" class="anchor"></span>Figure 282: Archiving—Options</p>
<p>Select OPTION: <strong>OTHER OPTIONS</strong></p>
<p>Select OTHER OPTION: <strong>ARCHIVING</strong></p>
<p>Select ARCHIVE OPTION: <strong>?</strong></p>
<p>ANSWER WITH ARCHIVE OPTION NUMBER, OR NAME</p>
<p>CHOOSE FROM:</p>
<p>1 SELECT ENTRIES TO ARCHIVE</p>
<p>2 ADD/DELETE SELECTED ENTRIES</p>
<p>3 PRINT SELECTED ENTRIES</p>
<p>4 CREATE FILEGRAM ARCHIVING TEMPLATE</p>
<p>5 WRITE ENTRIES TO TEMPORARY STORAGE</p>
<p>6 MOVE ARCHIVED DATA TO PERMANENT STORAGE</p>
<p>7 PURGE STORED ENTRIES</p>
<p>8 CANCEL ARCHIVAL SELECTION</p>
<p>9 FIND ARCHIVED ENTRIES</p>
<h3 id="select-entries-to-archive">Select Entries to Archive</h3>
<p>The Select Entries to Archive option creates the archiving activity. It is used similarly to the Search File Entries option. The Select Entries to Archive option is the first step in developing an archiving activity and is very important, since there <em>cannot</em> be any archiving without the SEARCH template created in this option.</p>
<p><strong>TIP:</strong> It is important to know which entries you want archived and where you want them stored before you start the archiving process!</p>
<p>This mandatory archiving option really performs three important functions:</p>
<ol type="1">
<li><blockquote>
<p>A search for file entries that meet your specified search criteria or condition (truth test) occurs first. The results of this search are then stored in a template you specify. You <em>must</em> store these results in a template!</p>
</blockquote></li>
</ol>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For guidance on how to use the search option procedures, see the “Search” section in the <em>VA FileMan User Manual</em>.</p>
<ol start="58" type="1">
<li><p>After storing the results of the search in a template, a sort of the file by any field <em>must</em> occur. This sort is as important as the search portion of this option! Do <em>not</em> use any sort criteria that contains M code. <em>Be careful</em>, if you limit the sort range, you limit the entries selected for archiving. You can delete unwanted entries later by using the Add/Delete Selected Entries option.</p></li>
<li><p>Finally, a print of the fields to be archived to a printer or the screen (CRT) <em>must</em> occur. Printing fields that uniquely identify the entries being archived gives you a <em>permanent</em> record of the archived entries.</p></li>
</ol>
<p>You <em>cannot</em> create an archiving activity until <em>at least one</em> entry is located according to your search criteria, sorted, and printed to a printer or a terminal!</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> If a subentry to be archived is contained in a Multiple field, the entire entry <em>must</em> be archived.</p>
<p>An example of the dialogue you can encounter follows. Notice the sequence of search, sort, and print:</p>
<p><span id="_Toc342980963" class="anchor"></span>Figure 283: Archiving—Example of selecting entries to archive</p>
<p>ARCHIVE FROM WHAT FILE: <strong>CHANGE</strong></p>
<p>-A- SEARCH FOR CHANGE FIELD: <strong>.01 &lt;Enter&gt;</strong> NO.</p>
<p>-A- CONDITION: <strong>LESS THAN</strong></p>
<p>-A- LESS THAN: <strong>900</strong></p>
<p>-B- SEARCH FOR CHANGE FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>IF: A// <strong>&lt;Enter&gt;</strong> NO. LESS THAN 900</p>
<p>STORE RESULTS OF SEARCH IN TEMPLATE: <strong>ZZTEST TEMPLATE</strong></p>
<p>Are you adding ‘ZZTEST TEMPLATE’ as a new SORT TEMPLATE? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>SORT BY: <strong>VERSION</strong></p>
<p>START WITH VERSION: FIRST// <strong>&lt;Enter&gt;</strong></p>
<p>WITHIN VERSION, SORT BY: <strong>&lt;Enter&gt;</strong></p>
<p>FIRST PRINT FIELD: <strong>.01 &lt;Enter&gt;</strong> NO.</p>
<p>THEN PRINT FIELD: <strong>VERSION</strong></p>
<p>THEN PRINT FIELD: <strong>PROGRAMMER</strong></p>
<p>THEN PRINT FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>HEADING: CHANGE ARCHIVE SEARCH Replace <strong>&lt;Enter&gt;</strong></p>
<p>DEVICE: <strong>&lt;Enter&gt;</strong></p>
<p>CHANGE ARCHIVE SEARCH AUG 30, 1992 10:59 PAGE 1</p>
<p>NO. VERSION PROGRAMMER</p>
<p>------------------------------------------------------------------</p>
<p>101 17.10 FMPROGRAMMER,25</p>
<p>102 17.32 FMPROGRAMMER,26</p>
<p>103 17.35 FMPROGRAMMER,26</p>
<p>3 MATCHES FOUND.</p>
<p>After using this option, the status of your archiving activity is <strong>SELECTED</strong>. The status of an archiving activity can be any of the following:</p>
<ul>
<li><p>SELECTED</p></li>
<li><p>EDITED</p></li>
<li><p>ARCHIVED (TEMPORARY)</p></li>
<li><p>ARCHIVED (PERMANENT)</p></li>
<li><p>PURGED</p></li>
</ul>
<p>You can identify a file at the “ARCHIVE FROM WHAT FILE:” prompt and get the response that follows:</p>
<p><span id="_Toc342980964" class="anchor"></span>Figure 284: Archiving—Example of a notice regarding an outstanding archiving activity</p>
<p>There is already an outstanding <em>archiving</em> activity.</p>
<p>Please finish it or CANCEL it.</p>
<p>This message means that the file you identified has already been selected for archiving and that archiving activity has <em>not</em> been completed; a second one <em>cannot</em> be started yet. Since the ARCHIVAL ACTIVITY file (#1.11) is being shared by both archiving and extract activities, the italicized word in the message says <em>extract</em> if the outstanding activity on the file identified is an extract.</p>
<h3 id="adddelete-selected-entries">Add/Delete Selected Entries</h3>
<p>Use the Add/Delete Selected Entries option to add entries to or delete them from the archiving activity. This is an easy way to clear out unwanted entries or add needed ones before archiving.</p>
<p>This option uses the Inquire to File Entries option to display the selected entries and then allows you to add or delete an entry. If you add or delete an entry to an established archiving activity, then the status of the activity is change to <strong>EDITED</strong>.</p>
<p>The Add/Delete Selected Entries option does <em>not</em> allow you to edit an archiving activity list after the Write Entries to Temporary Storage option has been done. If you need to change the archiving activity list after writing to temporary storage, you <em>must</em> cancel that archiving activity and start a new one.</p>
<p>When using this option, you first select the archiving activity number that you want to modify. You can also identify the archiving activity by its file number or file name. Then, choose the entry that you want to add or delete.</p>
<p><span class="underline">Figure 285</span> is an example in which an entry is being added to the archiving activity:</p>
<p><span id="_Ref389630696" class="anchor"></span>Figure 285: Archiving—Example of adding an entry to the Archival Activity</p>
<p>Select ARCHIVE OPTION: <strong>ADD/DELETE &lt;Enter&gt;</strong> SELECTED ENTRIES</p>
<p>Select ARCHIVAL ACTIVITY: <strong>?</strong></p>
<p>ANSWER WITH ARCHIVAL ACTIVITY ARCHIVE NUMBER, OR FILE</p>
<p>CHOOSE FROM:</p>
<p>1 VA FILEMAN CHANGE 08-05-89 ARCHIVED(PERMANENT) SELECTOR:FMUSER,FIVE ARCHIVING</p>
<p>3 CHANGE 08-30-92 SELECTED</p>
<p>SELECTOR:FMUSER,SIX ARCHIVING</p>
<p>Select ARCHIVAL ACTIVITY: <strong>3</strong></p>
<p>Select CHANGE NO.: <strong>330</strong></p>
<p>NO.: 330 VERSION: 17.09</p>
<p>PROGRAMMER: FMPROGRAMMER,27 ROUTINE: DIL2</p>
<p>DATE CHANGED: OCT 24, 1986</p>
<p>ADD this entry TO the ARCHIVAL SELECTION? YES// <strong>&lt;Enter&gt;</strong></p>
<p>If you enter two question marks (“<strong>??</strong>”) at the prompt where you select the entry for addition or deletion, a list of the file’s entries is displayed. Those that are already part of the archiving activity are identified by “*ON ARCHIVE LIST*”. The “ADD this entry TO the ARCHIVAL SELECTION? YES//” question appears if you have selected an entry <em>not</em> already on the list for archiving. A “DELETE ...” question appears if you have selected an entry already on the list.</p>
<h3 id="print-selected-entries">Print Selected Entries</h3>
<p>The Print Selected Entries option displays each entry from a selected archiving activity in a regular print or a filegram format (depending on the template you identify). The archiving activity entries are printed on whatever device you indicate. You can use this option for an archiving activity with any status except PURGED.</p>
<p><span class="underline">Figure 286</span> illustrates the regular print format:</p>
<p><span id="_Ref389631009" class="anchor"></span>Figure 286: Archiving—Printing an Archival Activity in a regular format</p>
<p>Select ARCHIVE OPTION: <strong>PRINT &lt;Enter&gt;</strong> SELECTED ENTRIES</p>
<p>Select ARCHIVAL ACTIVITY: <strong>3 &lt;Enter&gt;</strong> CHANGE 08-30-92 EDITED SELECTOR:FMPATIENT,2 ARCHIVING</p>
<p>Enter regular Print Template name or fields you wish to see printed</p>
<p>on this report of entries to be archived.</p>
<p>FIRST PRINT FIELD: <strong>[ZZTEST TEMPLATE</strong></p>
<p>CHANGE ARCHIVAL ACTIVITY AUG 30, 1992 11:09 PAGE 1</p>
<p>NO. VERSION PROGRAMMER</p>
<p>--------------------------------------------------------------------</p>
<p>101 17.10 FMPROGRAMMER,25</p>
<p>102 17.32 FMPROGRAMMER,26</p>
<p>103 17.35 FMPROGRAMMER,26</p>
<p>330 17.09 FMPROGRAMMER,30</p>
<p><span class="underline">Figure 287</span> is an example of a Filegram format produced by naming a FILEGRAM-type template to print (only a single entry is shown.):</p>
<p><span id="_Ref389630723" class="anchor"></span>Figure 287: Archiving—Printing an Archival Activity in a Filegram format</p>
<p>FIRST PRINT FIELD: <strong>[ZZTESTFILEGRAM</strong></p>
<p>CHANGE ARCHIVAL ACTIVITY AUG 30, 1992 11:09 PAGE 1</p>
<p>--------------------------------------------------------------------</p>
<p>NO.: 330</p>
<p>$DAT^CHANGE^16000^N^</p>
<p>CHANGE^16000^L=330</p>
<p>BEGIN:CHANGE^16000@1</p>
<p>SPECIFIER:VERSION^1=17.09</p>
<p>IDENTIFIER:PROGRAMMER^7=FMPROGRAMMER,30</p>
<p>END: CHANGE^16000</p>
<p>NO.^.01=330</p>
<p>VERSION^1=17.09</p>
<p>$END DAT</p>
<h3 id="create-filegram-archiving-template">Create Filegram Archiving Template</h3>
<p>The Create Filegram Archiving Template option creates a FILEGRAM-type template, which is the template used in the Write Entries to Temporary Storage option. A filegram is the tool used for extracting and transporting archived data to temporary storage.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For further explanation, see the “<span class="underline">Write Entries to Temporary Storage</span>” section.</p>
<p>You can create a new FILEGRAM-type template with this option or edit an existing one created using the Filegram or Archiving options.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> Only those fields defined in the FILEGRAM-type template, the .01 field, and any PRIMARY KEY or Identifier fields are archived to permanent storage.<br />
<br />
The PRIMARY KEY is available as of VA FileMan 22.0.</p>
<p>You create a FILEGRAM-type template just as you create a PRINT template, except only valid field numbers or names can be entered. You <em>cannot</em> include print qualifiers. You always get the “STORE FILEGRAM LOGIC IN TEMPLATE:” prompt, no matter how many fields you identify.</p>
<p>FILEGRAM-type templates are stored in the PRINT TEMPLATE file (#.4), so the FILEGRAM-type template is referred to as a PRINT template in the dialogue. However, VA FileMan can distinguish between PRINT and FILEGRAM-type templates.</p>
<p>If you want to edit an existing FILEGRAM-type template, identify it at the “FIRST SEND FIELD:” prompt by entering “<strong>[Filegram templatename</strong>”. Otherwise, specify the fields you want included in the archive. (The .01 field and the file’s PRIMARY KEY and Identifier fields will always be sent.) In the example that follows, all fields are being sent.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The PRIMARY KEY is available as of VA FileMan 22.0</p>
<p><span class="underline">Figure 288</span> is an example of creating a FILEGRAM-type template:</p>
<p><span id="_Ref389630745" class="anchor"></span>Figure 288: Archiving—Example of creating a Filegram Archiving template</p>
<p>Select ARCHIVE OPTION: <strong>CREATE &lt;Enter&gt;</strong> FILEGRAM ARCHIVING TEMPLATE</p>
<p>OUTPUT FROM WHAT FILE: <strong>CHANGE</strong></p>
<p>FIRST SEND CHANGE FIELD: <strong>ALL</strong></p>
<p>Do you mean ALL the fields in the file? No// <strong>Y &lt;Enter&gt;</strong> (Yes)</p>
<p>THEN SEND CHANGE FIELD: <strong>&lt;Enter&gt;</strong></p>
<p>STORE ARCHIVE LOGIC IN TEMPLATE: <strong>CHANGE FILEGRAM</strong></p>
<p>Are you adding ‘CHANGE FILEGRAM’ as a new PRINT TEMPLATE? No// <strong>YES &lt;Enter&gt;</strong> (Yes)</p>
<h3 id="write-entries-to-temporary-storage">Write Entries to Temporary Storage</h3>
<p>The Write Entries to Temporary Storage option writes your selected archiving activities to the ARCHIVAL ACTIVITY file (#1.11) into a WORD-PROCESSING field. This step is in preparation for moving the data to permanent storage. You <em>cannot</em> archive to permanent storage unless you use the Write Entries to Temporary Storage option first. Needless to say, this file could grow quite large and shrinks only after the Purge Stored Entries option has been run.</p>
<p>After using this option, the archived entries appear to be missing from the primary file. This protective measure assures selected entries <em>cannot</em> be edited so that entries in the file match the archived version. The entries are <em>not</em> really gone, merely locked.</p>
<p>Also, after using this option, you <em>cannot</em> add or delete entries to an archiving activity. If changes in the selection of entries for archiving are necessary, you have to cancel this activity and restart.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: This process can be quite time-consuming! It can be queued at the “DEVICE:” prompt. After it is completed, the status of your archiving activity is ARCHIVED (TEMPORARY).</p>
<p>In <span class="underline">Figure 289</span>, the entries in Archiving Activity #3 are being sent to temporary storage using the ZZTESTFILEGRAM FILEGRAM-type template. The task is being queued with output sent to PRINTER. The resulting report contains a header, dots, and archiving totals, as shown below:</p>
<p><span id="_Ref389632526" class="anchor"></span>Figure 289: Archiving—Example of writing entries to <em>temporary</em> storage</p>
<p>Select ARCHIVE OPTION: <strong>WRITE &lt;Enter&gt;</strong> ENTRIES TO TEMPORARY STORAGE</p>
<p>Select ARCHIVAL ACTIVITY: <strong>3 &lt;Enter&gt;</strong> CHANGE 08-30-92 EDITED SELECTOR:FMEMPLOYEE,J ARCHIVING</p>
<p>You MUST enter a FILEGRAM template name. This FILEGRAM template</p>
<p>will be used to actually build the archive message.</p>
<p>PRINT TEMPLATE: <strong>ZZTESTFILEGRAM &lt;Enter&gt;</strong> **FILEGRAM** (AUG 30, 1992) USER</p>
<p>#60 FILE #16000</p>
<p>DEVICE: <strong>Q &lt;Enter&gt;</strong> UEUE TO PRINT ON</p>
<p>DEVICE: <strong>PRINTER</strong></p>
<p>CHANGE ARCHIVING ACTIVITY AUG 30, 1992 15:01 PAGE 1</p>
<p>-------------------------------------------------------------------</p>
<p>....</p>
<p>4 ITEMS HAVE BEEN ARCHIVED</p>
<h3 id="move-archived-data-to-permanent-storage">Move Archived Data to Permanent Storage</h3>
<p>Once you have written an archiving activity to temporary storage, you can use the Move Archived Data to Permanent Storage option. If you choose an archiving activity that has <em>not</em> yet been written to temporary storage, a warning is issued.</p>
<p>This option does several things not necessarily in the order listed here.</p>
<ol type="1">
<li><blockquote>
<p>Prints an Archive Activity report, which prints information from the ARCHIVAL ACTIVITY file (#1.11), such as the archiver (i.e., the person who selected this option), the archival activity number, an index of all archived entries, and the search criteria used during the Select Entries to Archive process, etc.</p>
</blockquote></li>
</ol>
<ol start="60" type="1">
<li><p>Builds an index of all archived entries and writes this index at the beginning of the archived file. An item in the index contains the .01 value of the entry, along with all PRIMARY KEY and Identifier values for that entry.</p></li>
</ol>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The PRIMARY KEY is available as of VA FileMan 22.0.</p>
<ol start="61" type="1">
<li><p>Prompts for Archive Device Label information. This information usually represents some naming convention that systems managers use as physical label for devices such as tape. If using a disk file, the full disk file name is presented as a default. This device label information, along with the index printed on the Archive Activity report, should be useful in locating an archived entry and the device to which it was archived.</p></li>
<li><p>Moves archive data to permanent storage. Permanent storage is considered any sequential storage media (e.g., SDP, VMS file, magnetic tape, or disk data set).</p></li>
</ol>
<p>You can send to more than one permanent storage location without having to recreate the archiving activity. When the archived data is moved to permanent storage, every line contained in the temporary storage word-processing field is simply read and then written to a sequential medium.</p>
<p>The status of your archiving activity after using this option is ARCHIVED (PERMANENT).</p>
<p>In the example below, the archiving activity is identified by file name, “CHANGE.” It is going to be archived to the specified tape:</p>
<p><span id="_Toc342980970" class="anchor"></span>Figure 290: Archiving—Example of moving archived data to <em>permanent</em> storage</p>
<p>Select ARCHIVE OPTION: <strong>MOVE &lt;Enter&gt;</strong> ARCHIVED DATA TO PERMANENT STORAGE</p>
<p>Select ARCHIVAL ACTIVITY: <strong>CHANGE &lt;Enter&gt;</strong> 3 CHANGE 08-30-92 ARCHIVED(TEMPORARY) SELECTOR:FMEMPLOYEE,J ARCHIVING</p>
<p>NOTE: This option will 1) print an archive activity report to</p>
<p>specified PRINTER DEVICE and 2) will move archive data to permanent</p>
<p>storage to specified ARCHIVE STORAGE DEVICE.</p>
<p>Select some type of SEQUENTIAL storage media, such as SDP, TAPE, or</p>
<p>DISK FILE (HFS) for archival storage.</p>
<p>PRINTER DEVICE: <strong>PRINTER</strong></p>
<p>ARCHIVE STORAGE DEVICE: <strong>MAGTAPE Parameter (“CAVL”:0:2048)</strong></p>
<p>DO YOU WANT YOUR OUTPUT QUEUED? NO// <strong>YES</strong></p>
<p>Requested Start Time: NOW// <strong>&lt;Enter&gt;</strong></p>
<p>ARCHIVE DEVICE LABEL: XXXXV3$MUA0:ARCHIVE;083092;3// <strong>&lt;Enter&gt;</strong></p>
<p>If the archive storage device is tape, an archive device label is generated for you, as depicted in the previous example. You can override this label by entering your own device label information.</p>
<p>If you select an archive storage device that is <em>non</em>-sequential, a warning is issued. You are then given the option to continue the archiving process.</p>
<p><img src="./media/image4.png" alt="Caution" style="width:0.44792in;height:0.44792in" /> CAUTION: If you specify a device that can be overwritten (e.g., SDP) or that does <em>not</em> electronically store data (e.g., a printer), the data is <em>forever</em> irretrievable.</p>
<p>Depending on what devices are selected, and whether queueing was requested for either device, different warnings are issued informing the user of either steps he/she needs to take or steps that the program takes as a result of the queueing request.</p>
<p><span class="underline">Figure 291</span> is an example of an archive activity report:</p>
<p><span id="_Ref389630768" class="anchor"></span>Figure 291: Archiving—Example of an Archive Activity Report</p>
<p>ARCHIVE ACTIVITY REPORT AUG 30,1992 PAGE: 1</p>
<p>--------------------------------------------------------------------</p>
<p>ARCHIVAL ACTIVITY: 3</p>
<p>ARCHIVE DEVICE LABEL INFORMATION: XXXXV3$MUA0:ARCHIVE;083092;3</p>
<p>PRIMARY ARCHIVED FILE: CHANGE (#16000)</p>
<p>ARCHIVER: FMEMPLOYEE,J</p>
<p>SEARCH CRITERIA:</p>
<p>.01 LESS THAN 900</p>
<p>INDEX INFORMATION:</p>
<p>NO. VERSION PROGRAMMER</p>
<p>101 17.10 FMPROGRAMMER,25</p>
<p>102 17.32 FMPROGRAMMER,26</p>
<p>103 17.35 FMPROGRAMMER,26</p>
<p>330 17.09 FMPROGRAMMER,30</p>
<p>*** PLEASE KEEP THIS FOR FUTURE REFERENCE ***</p>

<h3 id="purge-stored-entries">Purge Stored Entries</h3>
<p>Before running the Purge Stored Entries option, use the Find Archived Entries option to verify that the archive medium contains the complete archived data for an archiving activity by searching for the last record listed on the index.</p>
<p>This option is used to remove archived data from both the archived file (document example is the CHANGE file) and the ARCHIVAL ACTIVITY file (#1.11). A brief history of who performed the various archiving steps and when is saved in the ARCHIVAL ACTIVITY file (#1.11).</p>
<p>If you select an archiving activity for purging that has <em>not</em> been sent to the archives, then you receive the message shown in <span class="underline">Figure 292</span>:</p>
<p><span id="_Ref389632562" class="anchor"></span>Figure 292: Archiving—Example of a notice from VA FileMan when purging without archiving data</p>
<p>Data has NOT YET been archived to PERMANENT storage!</p>
<p>You see the dialogue in <span class="underline">Figure 293</span> when purging permanently archived data:</p>
<p><span id="_Ref389632595" class="anchor"></span>Figure 293: Archiving—Example of purging permanently archived data</p>
<p>Select ARCHIVE OPTION: <strong>PURGE &lt;Enter&gt;</strong> STORED ENTRIES</p>
<p>BEFORE YOU PURGE, MAKE SURE THAT YOUR ARCHIVE MEDIUM IS READABLE!</p>
<p>YOU MAY USE THE FIND ARCHIVED ENTRIES OPTION TO FIND THE LAST</p>
<p>ARCHIVED RECORD APPEARING ON THE INDEX.</p>
<p>Do you want to proceed?? NO// <strong>YES</strong></p>
<p>Select ARCHIVAL ACTIVITY: <strong>3 &lt;Enter&gt;</strong> CHANGE 08-30-92 ARCHIVED(PERMANENT)</p>
<p>SELECTOR:FMEMPLOYEE,J ARCHIVING</p>
<p>This option will DELETE DATA from both CHANGE</p>
<p>and from the ARCHIVAL ACTIVITY file.</p>
<p>Are you sure you want to continue? NO// <strong>YES</strong></p>
<p>CAUTION: By answering YES at the “Are you sure you want to continue? NO//” prompt, the entries are <em>immediately</em> deleted! Be sure this is your decision.</p>
<p><span id="_Toc342980974" class="anchor"></span>Figure 294: Archiving—VA FileMan notifies you of the number of entries purged</p>
<p>The entries will be deleted in INTERNAL NUMBER order.</p>
<p>&lt;&lt; 4 ENTRIES PURGED &gt;&gt;</p>
<h3 id="cancel-archival-selection">Cancel Archival Selection</h3>
<p>The Cancel Archival Selection option is used to cancel an archiving activity before the Purge Stored Entries option occurs. You are warned if the archiving activity has already been moved to permanent storage.</p>
<p>When you cancel an archiving activity, the entry in the ARCHIVAL ACTIVITY file (#1.11) is deleted. Also, entries that were locked after being moved to temporary storage can again be read and edited.</p>
<p><span class="underline">Figure 295</span> shows the dialogue for canceling an archival activity:</p>
<p><span id="_Ref389632644" class="anchor"></span>Figure 295: Archiving—Canceling an archival activity</p>
<p>Select ARCHIVE OPTION: <strong>CAN &lt;Enter&gt;</strong> CEL ARCHIVAL SELECTION</p>
<p>Select ARCHIVAL ACTIVITY: <strong>CHANGE &lt;Enter&gt;</strong> 3 CHANGE 08-30-92 EDITED</p>
<p>SELECTOR:FMEMPLOYEE,J ARCHIVING</p>
<p>Are you sure you want to CANCEL this ARCHIVING ACTIVITY? NO// <strong>YES</strong></p>
<p>CAUTION: By answering YES to this prompt, the entries are <em>immediately</em> deleted! Be sure this is your decision.</p>
<h3 id="find-archived-entries">Find Archived Entries</h3>
<p>The Find Archived Entries option scans an archive file and retrieves an archive entry (or entries) that match the NAME field (#.01) and/or the PRIMARY KEY and/or Identifier fields of the requested entry. On the prompts for lookup values and on the resulting report, PRIMARY KEY and Identifier fields are both called “Identifiers.” The information contained in the archived entry is printed in CAPTIONED format [field name (field number) = value]. This option should only be used with tapes or files archived under VA FileMan 19.0 or later.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE:</strong> The PRIMARY KEY is available as of VA FileMan 22.0.</p>
<p>Several requests for archived entries can be made at a time. An “(id)” next to a prompt indicates an Identifier, PRIMARY KEY, or Specifier field. One set of all the prompts makes one request.</p>
<p>The matching process is dependent on the presence or absence of an index on the archive file or tape. The matching process for archive files or tapes with no index can be more time-consuming, since it has to read the entire archived file to determine all matches. The matching process finds a match when the values of all the answered prompts match with that of an archived entry. If a partial value is typed at any prompt, the matching process finds all matches that begin with the partial value for that particular prompt.</p>
<p><span class="underline">Figure 296</span> shows the dialogue for finding archived entries:</p>
<p><span id="_Ref451669432" class="anchor"></span>Figure 296: Archiving—Example of finding archived entries</p>
<p>Select ARCHIVE OPTION: <strong>FIND &lt;Enter&gt;</strong> ARCHIVED ENTRIES</p>
<p>This option will scan your archived file and will attempt to</p>
<p>retrieve entries that match the name (.01) field and/or the</p>
<p>identifier field(s) of the archived file.</p>
<p>Magnetic tapes should be opened with variable length records.</p>
<p>SEQUENTIAL ARCHIVE DEVICE: <strong>HFS &lt;Enter&gt;</strong> DISK FILE</p>
<p>HOST FILE NAME: TMP.TMP// <strong>ARC.DAT</strong></p>
<p>You are reading archived information from the CHANGE file.</p>
<p>Do you want to continue? YES// <strong>&lt;Enter&gt;</strong></p>
<p>Multiple requests may be made.</p>
<p>One set of all prompts makes one request.</p>
<p>This archived file contains an index of all archived entries.</p>
<p>Do you want to see the index now? YES// <strong>&lt;Enter&gt;</strong></p>
<p>NO. VERSION PROGRAMMER</p>
<p>101 17.10 FMPROGRAMMER,25</p>
<p>102 17.32 FMPROGRAMMER,26</p>
<p>103 17.35 FMPROGRAMMER,26</p>
<p>330 17.09 FMPROGRAMMER,30</p>
<p>Enter NO.: <strong>&lt;Enter&gt;</strong></p>
<p>Enter VERSION (id) : <strong>&lt;Enter&gt;</strong></p>
<p>Enter PROGRAMMER (id) : <strong>FMPATIENT,30</strong></p>
<p>Enter NO.: <strong>&lt;Enter&gt;</strong></p>
<p>Enter VERSION (id) : <strong>&lt;Enter&gt;</strong></p>
<p>Enter PROGRAMMER (id) : <strong>&lt;Enter&gt;</strong></p>
<p>Enter NO.: <strong>&lt;Enter&gt;</strong></p>
<p>PRINT FOUND ENTRIES TO DEVICE: <strong>&lt;Enter&gt;</strong> DECSERVER</p>
<p>Searching archived file...</p>
<p>Formatting found entries...</p>
<p>Press RETURN to continue or ‘^’ to exit: <strong>&lt;Enter&gt;</strong></p>
<p>ARCHIVE RETRIEVAL LIST AUG 30,1992 PAGE: 1</p>
<p>REQUEST: 1</p>
<p>PROGRAMMER = FMPROGRAMMER,2</p>
<p>--------------------------------------------------------------------</p>
<p>ARCHIVE FILE: CHANGE (#16000)</p>
<p>LOOKUP VALUE (#.01): 330</p>
<p>IDENTIFIERS:</p>
<p>VERSION (#1) = 17.09</p>
<p>PROGRAMMER (#7) = FMPROGARMMER,30</p>
<p>FIELDS:</p>
<p>FIELD NAME: NO. (#.01) = 330</p>
<p>FIELD NAME: VERSION (#1) = 17.09</p>
<p>MATCHES FOUND: 1</p>
<h3 id="archival-activity-file-1">ARCHIVAL ACTIVITY File</h3>
<p>The status of an archiving activity is displayed in the listing of activities when a question mark is entered at most of the Archiving options. You can also use the Inquire to File Entries option on the ARCHIVAL ACTIVITY file (#1.11) to obtain information about past or pending archiving activities. The amount of information you receive depends on the status of the archiving activity. The ARCHIVAL ACTIVITY file (#1.11) contains the following information:</p>
<ul>
<li><p>DUZ of the individual performing the extract activity.</p></li>
<li><p>Status of the extract activity (e.g., EDITED or UPDATED).</p></li>
<li><p>Dates on which the activities were performed.</p></li>
<li><p>Number of entries extracted.</p></li>
<li><p>Source file number.</p></li>
<li><p>SEARCH/SORT and PRINT templates used in the extract activity.</p></li>
</ul>
<p>Beginning with VA FileMan 20.0, the ARCHIVAL ACTIVITY file (#1.11) contains data about both archiving and extract activities. A file can have only <em>one</em> active activity at a time—either an archiving activity or an extract activity. You can only select an extract activity from the Extract Tool options. When you use the Inquire to File Entries option, the word EXTRACT appears for all extract activities.</p>
<h1 id="meta-data-dictionary-1">Meta Data Dictionary</h1>
<h2 id="overview-2">Overview</h2>
<p>The Meta Data Dictionary (#.9) is a summary of all the FileMan files in a VistA installation. It is being provided to enable future development to quickly identify where information is stored within files and fields throughout the VistA system.</p>
<p>It contains the following fields:</p>
<ol type="1">
<li><p>NAME (#.01) - The NAME field contains the dictionary name followed by the field name with the underscore (“_”) connecting the two. If the field is a multiple, then the multiple name will be included.</p></li>
<li><p>LOOKUP TERM (#.02) - The LOOKUP TERM is the final field name.</p></li>
<li><p>DATA DICTIONARY NUMBER (#.03) - This is the internal entry number (IEN) for the dictionary represented.</p></li>
<li><p>FIELD NUMBER (#.04) - This is the internal entry number (IEN) for the field represented.</p></li>
<li><p>DATA (#.05) - This is an indicator that the field contains data.</p></li>
<li><p>OBJECT NAME (#.06) - The OBJECT NAME is a camel case representation of the NAME field.</p></li>
<li><p>LAST UPDATED (#.07) - This indicates the last date/time this field was last edited.</p></li>
<li><p>DESCRIPTION (#1) - This is the field description.</p></li>
<li><p>BUILD(S) (#9.6) - This field displays all the builds where this field was included.</p></li>
<li><p>TYPE (#25) - This is the field Data Type.</p></li>
</ol>
<p>Example:</p>
<p><span id="_Toc472602392" class="anchor"></span>Figure 297: Meta Data Dictionary Example Entry for File 200, Field .01</p>
<p>NUMBER: 21336 NAME: NEW PERSON_NAME</p>
<p>LOOKUP TERM: NAME DATA DICTIONARY NUMBER: 200</p>
<p>FIELD NUMBER: .01 OBJECT NAME: newPerson.name</p>
<p>LAST UPDATED: DEC 30,2015@08:02:19</p>
<p>DESCRIPTION: Answer must be 3-35 upper-case characters in length, and be in the format Family(Last),Given(First) Middle Suffix. Enter '??' for more help.</p>
<p>Enter only data that is actually part of the person's name. Do not include extra titles, identification, flags, local information, etc. Enter the person's name in 'LAST,FIRST MIDDLE SUFFIX' format. This value must be 3-35 characters in length and may contain only uppercase alpha characters, spaces, apostrophes, hyphens and one comma. All other characters and parenthetical text will be removed.</p>
<p>BUILD(S) (c): XU*8.0*120</p>
<p>: XU*8.0*135</p>
<p>: XU*8.0*134</p>
<p>: XU*8.0*551 TYPE (c): FREE TEXT</p>
<h2 id="ddd-initial-creation">^DDD: Initial Creation</h2>
<p>The top entry point can be run directly from the MUMPS (D ^DDD) or by using the “DDU UPDATE META DD” option. This entry point will remove all current entries and fully reproduce the Meta Data Dictionary.</p>
<h2 id="filelistddd-file-list-partial-update">FILELIST^DDD: File List Partial Update</h2>
<p>The FILELIST entry point can be run directly from the MUMPS prompt. It requires an array by reference that includes files that are to be updated.</p>
<p>For example:</p>
<blockquote>
<p>S ARRAY(2)=”” ;PATIENT FILE</p>
<p>S ARRAY(200)=”” ;NEW PERSON FILE</p>
<p>D FILELIST^DDD(.ARRAY)</p>
</blockquote>
<h2 id="partial1ddd-partial-update-using-dicdddmsc">PARTIAL1^DDD: Partial Update using ^DIC(DDD,"%MSC")</h2>
<p>The PARTIAL1 entry point makes use of a new Data Dictionary variable ^DIC(DDD,”%MSC”) that includes the date that this file was last updated. The PARTIAL1 entry point will update all files where the variable ^DIC(DDD,”%MSC”) is greater than the date and time stamp that the Meta Data Dictionary was last updated.</p>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>NOTE</strong>: Currently the variable ^DIC(DDD,”%MSC”) is not updated for field description changes.</p>
<h2 id="partial2ddd-partial-update-using-ddfilefielddt">PARTIAL2^DDD: Partial Update using ^DD(FILE,FIELD,"DT")</h2>
<p>The PARTIAL2 entry point makes use of the variable ^DD(FILE,FIELD,"DT") that includes the date that the field was last updated. The PARTIAL2 entry point will update all files where there is a field that the variable ^DD(FILE,FIELD,"DT") is equal to or greater than the date and time stamp that the Meta Data Dictionary was last updated.</p>
<p><span id="_Toc446123570" class="anchor"></span>Glossary</p>
<p><span id="_Toc472602490" class="anchor"></span>Table 98: Glossary</p>
<table>
<tbody>
<tr class="odd">
<td>Term</td>
<td>Description</td>
</tr>
<tr class="even">
<td>.001 Field</td>
<td>A field containing the internal entry number of the record.</td>
</tr>
<tr class="odd">
<td>.01 Field</td>
<td>The one field that <em>must</em> be present for every file and file entry. It is also called the NAME field. At a file’s creation the .01 field is given the label NAME. This label can be changed.</td>
</tr>
<tr class="even">
<td>Abbreviated Response</td>
<td>This feature allows you to enter data by typing only the first few characters for the desired response. This feature will <em>not</em> work unless the information is already stored in the computer.</td>
</tr>
<tr class="odd">
<td>Access Codes</td>
<td>In VA FileMan, a string of codes that determines your security access to files, fields, and templates. In Kernel, you enter an Access Code to identify yourself during signon.</td>
</tr>
<tr class="even">
<td>Alerts</td>
<td>Brief online notices that are issued to users as they complete a cycle through the menu system. Alerts are designed to provide interactive notification of pending computing activities, such as the need to reorder supplies or review a patient’s clinical test results. Along with the alert message is an indication that the View Alerts common option should be chosen to take further action.</td>
</tr>
<tr class="odd">
<td>Alternate Editor</td>
<td>One of the text editors available for use from VA FileMan. Editors available vary from site to site. They are entries in the ALTERNATE EDITOR file (#1.2).</td>
</tr>
<tr class="even">
<td>ANSI</td>
<td>American National Standards Institute.</td>
</tr>
<tr class="odd">
<td>ANSI M</td>
<td>The M (formerly known as MUMPS) programming language is a standard recognized by the American National Standard Institute (ANSI). M stands for Massachusetts Utility Multi-programming System.</td>
</tr>
<tr class="even">
<td>API</td>
<td><p>Program calls provided for use by application developers. APIs allow developers to carry out standard computing activities without needing to duplicate utilities in their own software. APIs also further DBA goals of system integration by channeling activities, such as adding new users, through a limited number of callable entry points. VistA APIs fall into the following three categories:</p>
<ul>
<li><p>“Supported API”—These are callable routines, which are supported for general use by all VistA applications.</p></li>
<li><p>“Controlled Subscription API”—These are callable routines for which you <em>must</em> obtain an Integration Control Registration (ICR; formerly referred to as Integration Agreements [IAs]) to use.</p></li>
<li><p>“Private API”—Where only a single application is granted permission to use an attribute/function of another VistA package.</p></li>
</ul>
<p>These IAs are granted for special cases, transitional problems between versions, and release coordination.</p></td>
</tr>
<tr class="odd">
<td>Array</td>
<td>An arrangement of elements in one or more dimensions. An M array is a set of nodes referenced by subscripts that share the same variable name.</td>
</tr>
<tr class="even">
<td>At-Sign (“@”)</td>
<td><p>A VA FileMan security Access Code that gives the user programmer-level access to files and to VA FileMan’s developer features. See Programmer Access. Also, the character “@” (i.e., at-sign) is used at VA FileMan field prompts to delete data.</p>
<p>CAUTION: Programmer access in VistA is defined as DUZ(0)=“@”. It grants the privilege to become a developer in VistA. Programmer access allows you to work outside many of the security controls enforced by VA FileMan, enables access to all VA FileMan files, access to modify data dictionaries, etc. It is important to proceed with caution when having access to the system in this way.</p></td>
</tr>
<tr class="odd">
<td>Audit Trail</td>
<td>The record or log of an ongoing audit.</td>
</tr>
<tr class="even">
<td>Auditing</td>
<td>The monitoring and recording of computer use.</td>
</tr>
<tr class="odd">
<td>Backward Pointer</td>
<td>A pointer to your current file from another file; used in the extended pointer syntax.</td>
</tr>
<tr class="even">
<td>Boolean Expression</td>
<td>A logical comparison between values yielding a true or false result. In M, zero means false and non-zero (often one) means true.</td>
</tr>
<tr class="odd">
<td>Callable Entry Point</td>
<td>An authorized developer call that can be used in any VistA application package. The DBA maintains the list of DBIC-approved entry points.</td>
</tr>
<tr class="even">
<td>Canonic Number</td>
<td>A number with no leading zeroes and no trailing zeroes after a decimal point.</td>
</tr>
<tr class="odd">
<td>Caption</td>
<td>In ScreenMan, a label displayed on the screen. Captions often identify fields that are to be edited.</td>
</tr>
<tr class="even">
<td>Checksum</td>
<td>The result of a mathematical computation involving the individual characters of a routine or file.</td>
</tr>
<tr class="odd">
<td>Command Area</td>
<td>In ScreenMan, the bottom portion of the screen used to display help information and to accept user commands.</td>
</tr>
<tr class="even">
<td>Common Menu</td>
<td>The Common menu consists of options that are available to all users. Entering two question marks at the menus select prompt displays any secondary menu options available to the signed-on user, along with the common options available to all users.</td>
</tr>
<tr class="odd">
<td>Controlled Subscription Integration Control Registration</td>
<td>This applies where the Integration Control Registration (ICR) describes attributes/functions that <em>must</em> be controlled in their use. The decision to restrict the IA is based on the maturity of the custodian package. Typically, these IAs are created by the requesting package based on their independent examination of the custodian package’s features. For the IA to be approved the custodian grants permission to other VistA packages to use the attributes/functions of the IA; permission is granted on a one-by-one basis where each is based on a solicitation by the requesting package. An example is the extension of permission to allow a package (e.g., Spinal Cord Dysfunction) to define and update a component that is supported within the Health Summary package file structures.</td>
</tr>
<tr class="even">
<td>Cross-Reference</td>
<td>An attribute of a field or a file that identifies an action that should take place when the value of a field is changed. Often, the action is the placement of the field’s value into an index. A Traditional cross-reference is defined with a specific field. A New-Style cross-reference is a file attribute and can be composed of one or more fields. New-Style cross-references are stored in the INDEX file (#.11).</td>
</tr>
<tr class="odd">
<td>Cursor</td>
<td>On your display terminal, the line or rectangle identifying where your next input is placed on the screen.</td>
</tr>
<tr class="even">
<td>Data</td>
<td>A representation of facts, concepts, or instructions in a formalized manner for communication, interpretation, or processing by humans or by automatic means. The information you enter for the computer to store and retrieve. Characters that are stored in the computer system as the values of local or global variables. VA FileMan fields hold data values for file entries.</td>
</tr>
<tr class="odd">
<td>Data Attribute</td>
<td>A characteristic unit of data such as length, value, or method of representation. VA FileMan field definitions specify data attributes.</td>
</tr>
<tr class="even">
<td>Data Dictionary</td>
<td>A record of a file’s structure, its elements (fields and their attributes), and relationships to other files. Often abbreviated as DD.</td>
</tr>
<tr class="odd">
<td>Data Dictionary Access</td>
<td>A user’s authorization to write/update/edit the data definition for a computer file. Also known as DD Access.</td>
</tr>
<tr class="even">
<td>Data Integrity</td>
<td>This term refers to the condition of patient records in terms of completeness and correctness. It also refers to the process in which a particular patient’s data is synchronized at all the sites in which that patient receives care.</td>
</tr>
<tr class="odd">
<td>Data Type</td>
<td><p>The kind of data stored in a field. For example, the following are VA FileMan DATA TYPE field values:</p>
<ul>
<li><p>NUMERIC</p></li>
<li><p>COMPUTED</p></li>
<li><p>WORD-PROCESSING</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Database</td>
<td>An organized collection of data spanning many files. Often, all the files on a system constitute that system’s database.</td>
</tr>
<tr class="odd">
<td>Database Management System (DBMS)</td>
<td>A collection of software that handles the storage, retrieval, and updating of records in a database. A Database Management System (DBMS) controls redundancy of records and provides the security, integrity, and data independence of a database.</td>
</tr>
<tr class="even">
<td>Database, National</td>
<td>A database that contains data collected or entered for all VHA sites.</td>
</tr>
<tr class="odd">
<td>DBA</td>
<td>Database Administrator, oversees software development with respect to VistA Standards and Conventions (SAC) such as namespacing. Also, this term refers to the Database Administration function and staff.</td>
</tr>
<tr class="even">
<td>DBIA</td>
<td>Database Integration Agreement (see Integration Control Registration [ICR]).</td>
</tr>
<tr class="odd">
<td>Decentralized Hospital Computer Program (DHCP)</td>
<td>See VistA.</td>
</tr>
<tr class="even">
<td>Default</td>
<td>A computer-provided response to a question or prompt. The default might be a value pre-existing in a file. Often, you can change a default.</td>
</tr>
<tr class="odd">
<td>Department of Veterans Affairs (VA)</td>
<td>The Department of Veterans Affairs (formerly known as the Veterans Administration.)</td>
</tr>
<tr class="even">
<td>Device</td>
<td>Peripheral connected to the host computer, such as a printer, terminal, disk drive, modem, and other types of hardware and equipment associated with a computer. The host files of underlying operating systems may be treated like devices in that they may be written to (e.g., for spooling).</td>
</tr>
<tr class="odd">
<td>Device Prompt</td>
<td>A Kernel prompt at which you identify where to send your output.</td>
</tr>
<tr class="even">
<td>DHCP</td>
<td>Decentralized Hospital Computer Program (now known as Veterans Health Information Systems and Technology Architecture [VistA]). VistA software, developed by VA, is used to support clinical and administrative functions at VA Medical Centers nationwide. It is written in M and, via the Kernel, runs on all major M implementations regardless of vendor. VistA is composed of packages that undergo a verification process to ensure conformity with namespacing and other VistA standards and conventions.</td>
</tr>
<tr class="odd">
<td>Dictionary</td>
<td>Database of specifications of data and information processing resources. VA FileMan’s database of data dictionaries is stored in the FILE of files (#1).</td>
</tr>
<tr class="even">
<td>Direct Mode Utility</td>
<td>A developer call that is made when working in direct programmer mode. A direct mode utility is entered at the MUMPS prompt (e.g., &gt;D ^XUP). Calls that are documented as direct mode utilities <em>cannot</em> be used in application software code.</td>
</tr>
<tr class="odd">
<td>Domain</td>
<td>A site for sending and receiving mail.</td>
</tr>
<tr class="even">
<td>Double Quotes (“”)</td>
<td>Symbol used in front of a Common option’s menu text or synonym to select it from the Common menu. For example, the five-character string “TBOX” selects the User’s Toolbox Common option.</td>
</tr>
<tr class="odd">
<td>DUZ</td>
<td>Local variable holding the user number that identifies the signed-on user.</td>
</tr>
<tr class="even">
<td>DUZ(0)</td>
<td>Local variable that holds the File Manager Access Code of the signed-on user.</td>
</tr>
<tr class="odd">
<td>Edit Window</td>
<td>In ScreenMan, the area in which you enter or edit data. It is highlighted with either reverse video or an underline. In Screen Editor, the area in which you enter and edit text; the area between the status bar and the ruler.</td>
</tr>
<tr class="even">
<td>Entry</td>
<td>A record in a file. “Entry” and “record” are used interchangeably.</td>
</tr>
<tr class="odd">
<td>EPMO</td>
<td>Enterprise Program Management Office</td>
</tr>
<tr class="even">
<td>Error Trap</td>
<td>A mechanism to capture system errors and record facts about the computing context such as the local symbol table, last global reference, and routine in use. Operating systems provide tools such as the %ER utility. The Kernel provides a generic error trapping mechanism with use of the ^%ZTER global and ^XTER* routines. Errors can be trapped and, when possible, the user is returned to the menu system.</td>
</tr>
<tr class="odd">
<td>Extended Pointers</td>
<td>A means to reference fields in files other than your current file.</td>
</tr>
<tr class="even">
<td>Facility</td>
<td>Geographic location at which VA business is performed.</td>
</tr>
<tr class="odd">
<td>Field</td>
<td>In an entry, a specified area used to hold values. The specifications of each VA FileMan field are documented in the file’s data dictionary.</td>
</tr>
<tr class="even">
<td>Field Number</td>
<td>The unique number used to identify a field in a file. A field can be referenced by “<strong>#</strong>” followed by the field number.</td>
</tr>
<tr class="odd">
<td>File</td>
<td>A set of related records (or entries) treated as a unit.</td>
</tr>
<tr class="even">
<td>File Manager (VA FileMan)</td>
<td>VistA’s Database Management System (DBMS). The central component of Kernel that defines the way standard VistA files are structured and manipulated.</td>
</tr>
<tr class="odd">
<td>Form</td>
<td>In ScreenMan, a group of one or more pages that comprise a complete transaction. Comparable to an INPUT template.</td>
</tr>
<tr class="even">
<td>Form</td>
<td>See the Glossary entry for “ScreenMan Forms.”</td>
</tr>
<tr class="odd">
<td>Forum</td>
<td>The central E-mail system within VistA. Developers use FORUM to communicate at a national level about programming and other issues. FORUM is located at the OI Field Office—Washington, DC (162-2).</td>
</tr>
<tr class="even">
<td>Free Text</td>
<td>A DATA TYPE field value that can contain any printable characters.</td>
</tr>
<tr class="odd">
<td>Full-Screen Editing</td>
<td>The ability to enter data in various locations on the two-dimensional computer display. Compare to scrolling mode.</td>
</tr>
<tr class="even">
<td>Global Variable</td>
<td>Variable that is stored on disk (M usage).</td>
</tr>
<tr class="odd">
<td>Help Prompt</td>
<td>The brief help that is available at the field level when entering one or more question marks.</td>
</tr>
<tr class="even">
<td>Histogram</td>
<td>A type of bar graph that indicates frequency of occurrence of particular values.</td>
</tr>
<tr class="odd">
<td>Identifier</td>
<td>In VA FileMan, a field that is defined to aid in identifying an entry in conjunction with the NAME field.</td>
</tr>
<tr class="even">
<td>Index</td>
<td>An ordered list used to speed retrieval of entries from a file based on a value in some field or fields. The term “simple index” refers to an index that stores the data for a single field; the term “compound index” refers to an index that stores the data for more than one field. Indexes are created and maintained via cross-references.</td>
</tr>
<tr class="odd">
<td>Input Template</td>
<td>A pre-defined list of fields that together comprise an editing session. Within input templates, subfiles can now be edited in more than one place within the template, so that different subfields can be edited each time.</td>
</tr>
<tr class="even">
<td>Integration Control Registration (ICR)</td>
<td>Integration Control Registrations (ICRs) define agreements between two or more VistA software applications to allow access to one development domain by another. VistA software developers are allowed to use internal entry points (APIs) or other software-specific features that are <em>not</em> available to the general programming public. Any software developed for use in the VistA environment is required to adhere to this standard; as such, it applies to vendor products developed within the boundaries of DBA assigned development domains (e.g., MUMPS AudioFax). An ICR defines the attributes and functions that specify access. The DBA maintains and records all ICRs in the Integration Agreement database on FORUM. Content can be viewed using the DBA menu or the Health Systems Design &amp; Development’s Web page.</td>
</tr>
<tr class="odd">
<td>Internal Entry Number</td>
<td>The number used to identify an entry within a file. Every record has a unique internal entry number. Often abbreviated as IEN.</td>
</tr>
<tr class="even">
<td>Internal Entry Number (IEN)</td>
<td>The number used to identify an entry within a file. Every record has a unique internal entry number.</td>
</tr>
<tr class="odd">
<td>IRM</td>
<td>Information Resource Management. A service at VA medical centers responsible for computer management and system security.</td>
</tr>
<tr class="even">
<td>ISO</td>
<td>Information Security Officer.</td>
</tr>
<tr class="odd">
<td>Kernel</td>
<td>A VISTA software package that functions as an intermediary between the host operating system and VISTA application packages. Kernel includes installation, menu, security, and device services.</td>
</tr>
<tr class="even">
<td>Key</td>
<td>A group of fields that, taken collectively, uniquely identifies a record in a file or subfile. All fields in a key <em>must</em> have values. The term “simple key” refers to keys that are composed of only one field; the term “compound key” refers to keys that are composed of more than one field. Keys are stored in the KEY file (#.31)</td>
</tr>
<tr class="odd">
<td>LAN</td>
<td>Local Area Network.</td>
</tr>
<tr class="even">
<td>LAYGO</td>
<td>A user’s authorization to create a new entry when editing a computer file. An acronym for <strong>L</strong>earn <strong>A</strong>s <strong>Y</strong>ou <strong>Go</strong>.</td>
</tr>
<tr class="odd">
<td>Line Editor</td>
<td>The VA FileMan editor that lets you input and change text on a line-by-line basis. The Line Editor works in scrolling mode. See Screen Editor.</td>
</tr>
<tr class="even">
<td>Lookup</td>
<td>To find an entry in a file using a value for one of its fields.</td>
</tr>
<tr class="odd">
<td>M (ANSI Standard)</td>
<td>Massachusetts General Hospital Utility Multi-Programming System (M, formerly named MUMPS) is a software package, which consists of a high level programming language and a built-in database.</td>
</tr>
<tr class="even">
<td>MailMan</td>
<td>An electronic mail system (e-mail) that allows you to send messages to and receive them from other users via the computer. It is part of VISTA.</td>
</tr>
<tr class="odd">
<td>Menu</td>
<td>A list that includes the names of options from which you can select an activity.</td>
</tr>
<tr class="even">
<td>Menu System</td>
<td>The overall Menu Manager logic as it functions within the Kernel framework.</td>
</tr>
<tr class="odd">
<td>Menu Text</td>
<td>The descriptive words that appear when a list of option choices is displayed. Specifically, the Menu Text field of the OPTION file (#19). For example, User’s Toolbox is the menu text of the XUSERTOOLS option. The option’s synonym is TBOX.</td>
</tr>
<tr class="even">
<td>Multiple</td>
<td>A VA FileMan DATA TYPE field value that allows more than one value for a single entry. See Subfile.</td>
</tr>
<tr class="odd">
<td>MUMPS</td>
<td>Abbreviated as M. The American National Standards Institute (ANSI) computer language used by VA FileMan and throughout VISTA. The acronym MUMPS stands for <strong>M</strong>assachusetts General Hospital <strong>U</strong>tility <strong>M</strong>ulti <strong>P</strong>rogramming <strong>S</strong>ystem.</td>
</tr>
<tr class="even">
<td>Name Field</td>
<td>The one field that <em>must</em> be present for every file and file entry. It is also called the .01 field. At a file’s creation the .01 field is given the label NAME. This label can be changed.</td>
</tr>
<tr class="odd">
<td>Namespace</td>
<td>A convention for naming VistA package elements. The Database Administrator (DBA) assigns unique character strings for package developers to use in naming routines, options, and other package elements so that packages may coexist. The DBA also assigns a separate range of file numbers to each package.</td>
</tr>
<tr class="even">
<td>Navigation</td>
<td><p>Navigation meanings:</p>
<ol type="1">
<li><blockquote>
<p>Switching your reference point from one file to another.</p>
</blockquote></li>
</ol>
<ol start="7" type="1">
<li><p>Moving your cursor around a terminal display or a document using cursor keys and other commands.</p></li>
</ol></td>
</tr>
<tr class="odd">
<td>Node</td>
<td>In a tree structure, a point at which subordinate items of data originate. An M array element is characterized by a name and a unique subscript. Thus the terms: node, array element, and subscripted variable are synonymous. In a global array, each node might have specific fields or “pieces” reserved for data attributes such as name.</td>
</tr>
<tr class="even">
<td>Non-Canonic Number</td>
<td>A number with either leading zeroes or trailing zeroes after a decimal point. M treats non-canonic numbers as text instead of as numbers.</td>
</tr>
<tr class="odd">
<td>Non-Null</td>
<td>A value other than null. A space and zero are non-null values.</td>
</tr>
<tr class="even">
<td>Null</td>
<td>Empty. A field or variable that has no value associated with it is null.</td>
</tr>
<tr class="odd">
<td>Null Response</td>
<td>When replying to a prompt, pressing only the <strong>Enter</strong> key, abbreviated as <strong>&lt;Enter&gt;</strong>, to enter nothing.</td>
</tr>
<tr class="even">
<td>Numeric Expression</td>
<td>An expression whose value is a number. Compare to string expression.</td>
</tr>
<tr class="odd">
<td>Numeric Field</td>
<td>Response that is limited to a restricted number of digits. It can be dollar valued or a decimal figure of specified precision.</td>
</tr>
<tr class="even">
<td>OI&amp;T</td>
<td>Office of Information Technology</td>
</tr>
<tr class="odd">
<td>OIFO</td>
<td>Office of Information Field Office.</td>
</tr>
<tr class="even">
<td>Operator</td>
<td>One of the processes done to the elements in an expression to create a value.</td>
</tr>
<tr class="odd">
<td>Option</td>
<td>A computing activity that you can select, usually a choice from a menu.</td>
</tr>
<tr class="even">
<td>Option Name</td>
<td>Name field in the OPTION file (e.g., XUMAINT for the option that has the menu text “Menu Management”). Options are namespaced according to VistA conventions monitored by the DBA.</td>
</tr>
<tr class="odd">
<td>Package (Software)</td>
<td>The set of programs, files, documentation, help prompts, and installation procedures required for a given application (e.g., Laboratory, Pharmacy, and PIMS). A VistA software environment is composed of elements specified via the PACKAGE file (#9.4). Elements include files, associated templates, namespaced routines, and namespaced file entries from the OPTION, HELP FRAME, BULLETIN, and FUNCTION files. As public domain software, VistA software can be requested through the Freedom of Information Act (FOIA).</td>
</tr>
<tr class="even">
<td>Pattern Match</td>
<td>In M, an operator that compares the contents of a variable or literal to a specified pattern of characters or kinds of characters.</td>
</tr>
<tr class="odd">
<td>Pointer To A File</td>
<td>A DATA TYPE field value that contains an explicit reference to an entry in a file. POINTER TO A FILE-type fields are used to relate files to each other.</td>
</tr>
<tr class="even">
<td>Popup Page</td>
<td>In ScreenMan, a page that overlays the regular ScreenMan screen in order to present the contents of a selected Multiple.</td>
</tr>
<tr class="odd">
<td>Preferred Editor</td>
<td>The editor always entered when you access a WORD-PROCESSING-type field; your default editor. Kernel <em>must</em> be present to establish a Preferred Editor.</td>
</tr>
<tr class="even">
<td>Primary Key</td>
<td>A Data Base Management System construct, where one or more fields uniquely define a record (entry) in a file (table). The fields are required to be populated for every record on the file, and are unique, in combination, for every record on the file.</td>
</tr>
<tr class="odd">
<td>Primary Menu</td>
<td>The list of options presented at sign-on. Each user <em>must</em> have a primary menu in order to sign-on and reach Menu Manager. Users are given primary menus by Information Resource Management (IRM). This menu should include most of the computing activities the user needs.</td>
</tr>
<tr class="even">
<td>Print Template</td>
<td>The stored specifications of a printed report, including fields to be printed and formatting instructions.</td>
</tr>
<tr class="odd">
<td>Private Integration Control Registration Number</td>
<td>Where only a single application is granted permission to use an attribute/function of another VistA package. These ICRs are granted for special cases, transitional problems between versions, and release coordination. A Private ICR is also created by the requesting package based on their examination of the custodian package’s features. Example: one package distributes a patch from another package to ensure smooth installation.</td>
</tr>
<tr class="even">
<td>Programmer Access</td>
<td><p>The ability to use VA FileMan features that are reserved for application developers. Referred to as “having the at-sign (‘<strong>@</strong>’)” because the at-sign is the DUZ(0) value that grants programmer access.</p>
<p>Programmer access in VistA is defined as DUZ(0)=“@”. It grants the privilege to become a developer in VistA. Programmer access allows you to work outside many of the security controls enforced by VA FileMan, enables access to all VA FileMan files, access to modify data dictionaries, etc. It is important to proceed with caution when having access to the system in this way.</p></td>
</tr>
<tr class="odd">
<td>Prompt</td>
<td>A question or message from the computer requiring your response.</td>
</tr>
<tr class="even">
<td>Record</td>
<td>A set of data pertaining to a single entity in a file; an entry in a file.</td>
</tr>
<tr class="odd">
<td>Record Number</td>
<td>See Internal Entry Number.</td>
</tr>
<tr class="even">
<td>Relational Navigation</td>
<td>Changing your current (or primary) file reference to another file. Relational navigation is accomplished by using the extended pointer syntax without specifying a field in the referenced file.</td>
</tr>
<tr class="odd">
<td>Required Field</td>
<td>A field that <em>cannot</em> be left null for an entry.</td>
</tr>
<tr class="even">
<td>Reverse Video</td>
<td>The reversal of light and dark in the display of selected characters on a video screen. For example, if text is normally displayed as black letters on a white background, reverse video presents the text as white letters on a black background or vice versa.</td>
</tr>
<tr class="odd">
<td>Routine</td>
<td>Program or a sequence of instructions called by a program that may have some general or frequent use. M routines are groups of program lines, which are saved, loaded, and called as a single unit via a specific name.</td>
</tr>
<tr class="even">
<td>SAC</td>
<td>Standards and Conventions. Through a process of quality assurance, all VistA software is reviewed with respect to SAC guidelines as set forth by the Standards and Conventions Committee (SACC).</td>
</tr>
<tr class="odd">
<td>SACC</td>
<td>VistA’s Standards and Conventions Committee. This Committee is responsible for maintaining the SAC.</td>
</tr>
<tr class="even">
<td>Scattergram</td>
<td>A graph in which occurrences of two fields are displayed on an X-Y coordinate grid to aid in data analysis.</td>
</tr>
<tr class="odd">
<td>Screen Editor</td>
<td>VA FileMan’s Screen-oriented text editor. It can be used to enter data into any WORD-PROCESSING field using full-screen editing instead of line-by-line editing. See Line Editor.</td>
</tr>
<tr class="even">
<td>ScreenMan</td>
<td>The set of routines that supports Screen-oriented data editing and data display.</td>
</tr>
<tr class="odd">
<td>ScreenMan Forms</td>
<td>Screen-oriented display of fields, for editing or simply for reading. VA FileMan’s Screen Manager is used to create forms that are stored in the FORM file (#.403) and exported with a software application. Forms are composed of blocks (stored in the BLOCK file [#.404]) and can be regular, full screen pages or smaller, “popup” pages.</td>
</tr>
<tr class="even">
<td>Screen-Oriented</td>
<td>A computer interface in which you see many lines of data at a time and in which you can move your cursor around the display screen using screen navigation commands. Compare to Scrolling Mode.</td>
</tr>
<tr class="odd">
<td>Scrolling Mode</td>
<td>The presentation of the interactive dialogue one line at a time. Compare to Screen-oriented.</td>
</tr>
<tr class="even">
<td>Search Template</td>
<td>The saved results of a search operation. Usually, the actual entries found are stored in addition to the criteria used to select those entries.</td>
</tr>
<tr class="odd">
<td>Security Key</td>
<td>The purpose of Security Keys is to set a layer of protection on the range of computing capabilities available with a particular software package. The availability of options is based on the level of system access granted to each user.</td>
</tr>
<tr class="even">
<td>Sensitive Patient</td>
<td>Patient whose record contains certain information, which may be deemed sensitive by a facility, such as political figures, employees, patients with a particular eligibility or medical condition. If a shared patient is flagged as sensitive at one of the treating sites, a bulletin is sent to the DG SENSITIVITY mail group at each subscribing site telling where, when, and by whom the flag was set. Each site can then review whether the circumstances meet the local criteria for sensitivity flagging.</td>
</tr>
<tr class="odd">
<td>Server</td>
<td>The computer where the data and the Business Rules reside. It makes resources available to client workstations on the network. In VistA, it is an entry in the OPTION file (#19). An automated mail protocol that is activated by sending a message to a server at another location with the “S.server” syntax. A server’s activity is specified in the OPTION file (#19) and can be the running of a routine or the placement of data into a file.</td>
</tr>
<tr class="even">
<td>Set of Codes</td>
<td>A DATA TYPE field value where a short character string is defined to represent a longer value.</td>
</tr>
<tr class="odd">
<td>Simple Extended Pointers</td>
<td>An extended pointer that uses a pre-existing pointer relationship to access entries in another file.</td>
</tr>
<tr class="even">
<td>Site Manger/IRM Chief</td>
<td>At each site, the individual who is responsible for managing computer systems, installing and maintaining new modules, and serving as a liaison to the CIO Field Offices.</td>
</tr>
<tr class="odd">
<td>Software (Package)</td>
<td>The set of programs, files, documentation, help prompts, and installation procedures required for a given application (e.g., Laboratory, Pharmacy, and PIMS). A VistA software environment is composed of elements specified via the PACKAGE file (#9.4). Elements include files, associated templates, namespaced routines, and namespaced file entries from the OPTION, HELP FRAME, BULLETIN, and FUNCTION files. As public domain software, VistA software can be requested through the Freedom of Information Act (FOIA).</td>
</tr>
<tr class="even">
<td>Sort</td>
<td>To place items in order, often in alphabetical or numeric sequence.</td>
</tr>
<tr class="odd">
<td>Sort Template</td>
<td>The stored record of sort specifications. It contains sorting order as well as restrictions on the selection of entries. Used to prepare entries for printing.</td>
</tr>
<tr class="even">
<td>Spacebar Return</td>
<td>You can answer a VA FileMan prompt by pressing the spacebar and then the Return key. This indicates to VA FileMan that you would like the last response you were working on at that prompt recalled.</td>
</tr>
<tr class="odd">
<td>Special Queuing</td>
<td>Option attribute indicating that Task Manager should automatically run the option whenever the system reboots.</td>
</tr>
<tr class="even">
<td>Stuff</td>
<td>To place values directly into a field, usually with no user interaction.</td>
</tr>
<tr class="odd">
<td>Subentry</td>
<td>An entry in a Multiple; also called a Subrecord.</td>
</tr>
<tr class="even">
<td>Subfield</td>
<td>A field in a Multiple.</td>
</tr>
<tr class="odd">
<td>Subfile</td>
<td>The data structure of a Multiple. In many respects, a Subfile has the same characteristics as a File.</td>
</tr>
<tr class="even">
<td>Subscript</td>
<td>A symbol that is associated with the name of a set to identify a particular subset or element. In M, a numeric or string value that: is enclosed in parentheses, is appended to the name of a local or global variable, and identifies a specific node within an array.</td>
</tr>
<tr class="odd">
<td>Supported Reference Integration Control Registration</td>
<td>This applies where any VistA application may use the attributes/functions defined by the Integration Control Registration (ICR); these are also called “Public”). An example is an IA that describes a standard API such as DIE or VADPT. The package that creates/maintains the Supported Reference <em>must</em> ensure it is recorded as a Supported Reference in the IA database. There is no need for other VistA packages to request an IA to use these references; they are open to all by default.</td>
</tr>
<tr class="even">
<td>Task Manager (TaskMan)</td>
<td>Kernel module that schedules and processes background tasks (aka TaskMan)</td>
</tr>
<tr class="odd">
<td>Template</td>
<td>Means of storing report formats, data entry formats, and sorted entry sequences. A template is a permanent place to store selected fields for use at a later time. Edit sequences are stored in the INPUT TEMPLATE file (#.402), print specifications are stored in the PRINT TEMPLATE file (#.4), and search or sort specifications are stored in the SORT TEMPLATE file (#.401).</td>
</tr>
<tr class="even">
<td>Terminal Emulation</td>
<td>Using one kind of terminal or computer display to mimic another kind. Often used with PC remote communication applications.</td>
</tr>
<tr class="odd">
<td>Terminal Type</td>
<td>The designation of the kind of computer peripheral being used (e.g., the kind of video display or printer). Full terminal type functionality is supplied by Kernel.</td>
</tr>
<tr class="even">
<td>Trigger</td>
<td>A type of VA FileMan cross-reference. Often used to update values in the database given certain conditions (as specified in the trigger logic). For example, whenever an entry is made in a file, a trigger could automatically enter the current date into another field holding the creation date.</td>
</tr>
<tr class="odd">
<td>Truth Test</td>
<td>An evaluation of an expression yielding a true or false result. In M, usually a 1 (true) or a 0 (false) is returned from a truth test.</td>
</tr>
<tr class="even">
<td>UCI</td>
<td>User Class Identification, a computing area. The MGR UCI is typically the Manager’s account, while VAH or ROU may be Production accounts.</td>
</tr>
<tr class="odd">
<td>Up-Arrow</td>
<td>The <strong>^</strong> character (caret); used in VA FileMan for exiting an option or canceling a response. Also used in combination with a field name or prompt to jump to the specified field or prompt.</td>
</tr>
<tr class="even">
<td>Upload</td>
<td>Send a file from one computer system to another (usually using communications software).</td>
</tr>
<tr class="odd">
<td>User Access</td>
<td><p>This term is used to refer to a limited level of access, to a computer system, which is sufficient for using/operating a package, but does <em>not</em> allow programming, modification to data dictionaries, or other operations that require programmer access. Any option, for example, can be locked with the key XUPROGMODE, which means that invoking that option requires programmer access.</p>
<p>The user’s access level determines the degree of computer use and the types of computer programs available. The System Manager assigns the user an access level.</p></td>
</tr>
<tr class="even">
<td>VA</td>
<td>Department of Veterans Affairs (VA).</td>
</tr>
<tr class="odd">
<td>VA FileMan (FileMan)</td>
<td>VistA’s Database Management System (DBMS). The central component that defines the way standard VistA files are structured and manipulated.</td>
</tr>
<tr class="even">
<td>VAMC</td>
<td>Veterans Affairs Medical Center.</td>
</tr>
<tr class="odd">
<td>Variable</td>
<td>Character (or group of characters) that refers to a value. M (previously referred to as MUMPS) recognizes 3 types of variables: local variables, global variables, and special variables. Local variables exist in a partition of main memory and disappear at sign-off. A global variable is stored on disk, potentially available to any user. Global variables usually exist as parts of global arrays. The term “global” may refer either to a global variable or a global array. A special variable is defined by systems operations (e.g., $TEST).</td>
</tr>
<tr class="even">
<td>Verify Code</td>
<td><p>The Kernel’s Sign-on/Security system uses the Verify code to validate the user’s identity. This is an additional security precaution used in conjunction with the Access code. Verify codes shall be at least eight characters in length and contain three of the following four kinds of characters:</p>
<ul>
<li><p>Letters (lowercase)</p></li>
<li><p>Letters (uppercase)</p></li>
<li><p>Numbers</p></li>
<li><p>Characters that are neither letters nor numbers (e.g., “<strong>#</strong>”, “<strong>@</strong>” or “<strong>$</strong>”).</p></li>
</ul>
<p>If entered incorrectly, the system does <em>not</em> allow the user to access the computer. To protect the user, both codes are invisible on the terminal screen.</p></td>
</tr>
<tr class="odd">
<td>VHA</td>
<td>Veterans Health Administration.</td>
</tr>
<tr class="even">
<td>VISN</td>
<td>Veterans Integrated Service Network</td>
</tr>
<tr class="odd">
<td>VistA</td>
<td>The Veterans Health Information Systems and Technology Architecture (VistA), within the Department of Veterans Affairs, is the component of the Veterans Health Administration that develops software and installs, maintains, and updates compatible computer systems in VA medical facilities. (Previously known as the Decentralized Hospital Computer Program [DHCP].)</td>
</tr>
<tr class="even">
<td>WAN</td>
<td>Wide Area Network.</td>
</tr>
</tbody>
</table>
<p><img src="./media/image2.png" alt="Note" style="width:0.3125in;height:0.3125in" /> <strong>REF:</strong> For a list of commonly used terms and definitions, see the OI&amp;T Master Glossary VA Intranet Website.<br />
<br />
For a list of commonly used acronyms, see the VA Acronym Lookup Intranet Website.</p>
<p><span id="_Hlt446131684" class="anchor"></span>Index</p>
<h1 id="section" class="IndexHeading"></h1>
<h1 id="section-1" class="IndexHeading"></h1>
<h1 id="section-2" class="IndexHeading"></h1>
<h1 id="section-3" class="IndexHeading"></h1>
<h1 id="section-4" class="IndexHeading"></h1>
<h1 id="section-5" class="IndexHeading"></h1>
<h1 id="section-6" class="IndexHeading"></h1>
<h1 id="section-7" class="IndexHeading"></h1>
<h1 id="section-8" class="IndexHeading"></h1>
<h1 id="section-9" class="IndexHeading"></h1>
<h1 id="section-10" class="IndexHeading"></h1>
<h1 id="section-11" class="IndexHeading"></h1>
<h1 id="section-12" class="IndexHeading"></h1>
<h1 id="section-13" class="IndexHeading"></h1>
<h1 id="section-14" class="IndexHeading"></h1>
<h1 id="section-15" class="IndexHeading"></h1>
<h1 id="section-16" class="IndexHeading"></h1>
<h1 id="section-17" class="IndexHeading"></h1>
<h1 id="section-18" class="IndexHeading"></h1>
<h1 id="section-19" class="IndexHeading"></h1>
<h1 id="section-20" class="IndexHeading"></h1>
<h1 id="section-21" class="IndexHeading"></h1>
<h1 id="section-22" class="IndexHeading"></h1>
<h1 id="section-23" class="IndexHeading"></h1>
<h1 id="section-24" class="IndexHeading"></h1>
<h1 id="section-25" class="IndexHeading"></h1>
<h1 id="section-26" class="IndexHeading"></h1>
<h1 id="section-27" class="IndexHeading"></h1>
<p>$$A[SCII] Function, 102$C[HAR] Function, 103$E[XTRACT] Function, 103$F[IND] Function, 104$H[OROLOG] Function, 104$I[O] Function, 105$J[OB] Function, 105$J[USTIFY] Function, 106$L[ENGTH] Function, 106$P[IECE] Function, 107$R[ANDOM] Function, 107$S[ELECT] Function, 108$S[TORAGE] Function, 108$X Function, 109$Y Function, 109%%ZIS, 119%ZISS, 119^^%ZOSF Nodes, 126AABS Function, 93Access code, 238Access Code, 128, 208, 238, 239, 240Security on Files, 238Access SecurityKernel Part 3, 239AcronymsIntranet Website, 306ActivityCross-references, 201Add/Delete Selected Entries Option, 259, 260, 266, 281, 283Extract Tool, 260Advanced Edit Techniques, 47Customizing Data Editing, 55Duplicating Input Values, 56Edit Qualifiers, 55Field Value Stuffing, 47Forcing Required Input, 56Forcing Special Prompts, 55INPUT Templates, 51Looping, 49Set Field Default, 47Stuff/Delete Field Value, 47Text Formatting in Word-processing Fields, 57Unvalidated Stuffs, 48Variable Stuffs, 48WORD-PROCESSING Field Stuffing, 49ALTERNATE EDITOR File (#1.2), 124, 127, 129Alternate Editors, 127File Entries, 127Setting up, 127ApplicationsHow Data is Moved between Applications, 1What Applications Can You Exchange Data With?, 1ARCHIVAL ACTIVITY file (#1.11)Extract Tool, 256ARCHIVAL ACTIVITY File (#1.11), 253, 256, 257, 258, 259, 260, 267, 268, 279, 280, 283, 286, 287, 289, 290, 292ARCHIVE FILEFile Level Attribute, 254, 262Flag, 254, 262Archiving, 279Add/Delete Selected Entries Option, 283ARCHIVAL ACTIVITY File (#1.11), 292Archiving ProcessOptions, 281Cancel Archival Selection Option, 290Considerations Before Archiving, 279Create Filegram Archiving Template Option, 285FilegramsRelationship, 270Find Archived Entries Option, 291Move Archived Data to Permanent Storage Option, 287Print Selected Entries Option, 284Purge Stored Entries Option, 289Select Entries to Archive Option, 281Write Entries to Temporary Storage Option, 286Archiving Menu, 279, 281, 285, 292ASCII File, 1, 12, 15, 16Assumptions, xxviiiAttributesChanging Fields, 171List File Attributes, 132AUDIT Access, 227, 239AUDIT File (#1.1), 226, 231Auditing, 225Data Dictionary, 232Data Field, 226BBackward Extended Pointers, 6, 41, 256Relational Navigation, 40BETWEEN Function, 76, 93Binary Operators, 61Boolean Operators, 62BREAKABLE Function, 83Brief Data DictionaryList File Attributes, 133BULLETIN Cross-references, 198CCallout Boxes, xxviiCancel Archival Selection Option, 280, 290Cancel Extract Selection Option, 268Extract Tool, 268CAPTIONED PRINT Templates, 57Changing FieldsAttributes, 171DATA TYPE Values, 174Check/Fix DD Structure Option, 147List File Attributes, 147CleanupCOMPILED ROUTINE File, 129CLOSE Function, 84Code to Kill the Entire IndexCross-references, 201CollationCross-references, 201CommandsDCL, 22CommunicationsDependency on Correct Data Communication, 2Compare/Merge File Entries Option, 241, 246, 247, 250Comparing Entries, 246COMPILED ROUTINE fileCleanup, 129COMPILED ROUTINE File (#.83), 129, 131Completeness of Subfile EntriesImporting Data, 22Compound Cross-references, 201ComputedExpressions, 60CompoundExample, 63COMPUTED Fields, 65Data Types, 63Elements, 60Field Value Stuffing, 70On-the-fly, 67Operators, 61Binary, 61Boolean, 62Unary, 61OUTPUT Transforms, 71Parentheses in Expressions, 62Syntax, 60Using Functions as Elements, 64Where to Use, 65Word-processing Windows, 71ValuesCross-references, 202COMPUTEDData Type, 162COMPUTED FieldsIn Computed Expressions, 65Relational Navigation, 37Condensed Data DictionaryList File Attributes, 135Contents, ivConventionsDocumentation, xxviVA FileMan Functions, 73COUNT Function, 86Create Export Template Option, 8Create Extract Template Option, 263Extract Tool, 263Create Filegram Archiving Template Option, 285Create/Edit Filegram Template Option, 270, 271CreatingFields, 154Files, 153Files and Fields, 153Cross-Reference a Field or File Option, 197, 210Cross-referencesActivity, 201BULLETIN, 198Code to Kill the Entire Index, 201Collation, 201Compound, 201Field- or Record-Level Execution, 201Key Support, 203KWIC, 198Lookup Prompt, 202MNEMONIC, 198MUMPS, 198New-Style, 201REGULAR, 198SET and Kill Conditions, 202SOUNDEX, 198Subscript Transforms, 202TRIGGER, 198X, X1, and X2 Arrays, 202Customizing Data EditingAdvanced Edit Techniques, 55Custom-Tailored Data DictionariesList File Attributes, 141DDataDependency on Correct Data Communication, 2How Data is Moved between Applications, 1What Applications Can You Exchange Data With?, 1Data DictionaryAuditing, 232Brief Listing, 133Condensed Listing, 135Custom-Tailored Listing, 141Data Dictionary Utilities Menu, xxviiiListings, xxviiiPurging the Audit Trail, 234Reviewing the Audit Trail, 232Standard and Modified Standard Listing, 138Data Dictionary Utilities Menu, 132, 146, 147Data Export Options, 4Data Export Options, 32Data Export to Foreign Format Menu, 30Data FieldAuditing, 226Purging the Audit Trail, 230Setting an Audit, 226Tracking Audits, 230Turning an Audit On/Off, 227Data FlatteningExporting Data, 14Data Formats, 2Delimited, 2Fixed-Length, 3Data Security, 238Data Should Not be FlattenedImporting Data, 21DATA TYPE ValuesChanging, 174Data TypesCOMPUTED, 162Example, 182Computed Expressions, 63DATE/TIME, 157Example, 177FREE TEXT, 160Example, 179Multiples (Subfields), 168Example, 192, 193Numeric SubfieldsExample, 194MUMPS, 166NUMERIC, 158POINTER TO A FILE, 163Example, 183SET OF CODES, 159Example, 178VARIABLE-POINTER, 164Example, 184WORD-PROCESSING, 161Example, 180DATE Field (#.01), 21DATE FORMAT Field, 27DATE Function, 76DATE/TIMEData Type, 157Date/Time Functions, 76DATE, 76DAYOFWEEK, 77MID, 77MINUTES, 78MONTH, 78MONTHNAME, 78NOON, 79NOW, 79NUMDATE, 80NUMDATE4, 80NUMDAY, 80NUMMONTH, 81NUMYEAR, 81NUMYEAR4, 81RANGEDATE, 82TIME, 82TODAY, 82YEAR, 83DAYOFWEEK Function, 77DCL Command, 22DD Access, 239DD AUDIT File (#.6), 232, 233DDXP EXPORT DATA Option, 4DDXPFFNO Field, 28DDXPXTNO Field, 28Define Foreign File Format Option, 5, 23, 30DELETE Access, 239, 240, 267Deleting an Existing Field, 174DelimitersData Format, 2Quoted Fields, 3Dependency on Correct Data Communication, 2Descriptive Statistics, 110Qualifiers, 110Destination FileExtract Tool, 254DEVICE File (#3.5), 13Device HandlingStandalone VA FileMan, 118DevicesHFS, 12, 13DI DDU Menu, xxviiiDILIST Option, xxviiiDIRDEX Option, 201, 209, 210Disclaimers, xxvSoftware, xxvDisplay Filegram Template Option, 270, 273DIUTILITY Menu, 15, 137, 174, 196, 197, 201, 207, 210, 211, 214, 239DIXREF Option, 197, 210DocumentationConventions, xxviVA FileMan Functions, 73Navigation, xxviiSymbols, xxviDOS File, 22DUP Function, 97DUPLICATED Function, 87Duplicating Input ValuesAdvanced Edit Techniques, 56DUZ, 117, 125, 215, 240, 256, 275EEDIT Action, 252Edit File Option, 211, 212, 239Edit Qualifiers, 55Advanced Edit Techniques, 55Editor Change Option, 127EditsAdvanced Techniques, 47ElementsComputed Expressions, 60Enter or Edit File Entries Option, 38, 39, 42, 43, 49, 50, 70, 169, 172, 173, 208, 214, 215, 226, 239, 278Environmental Functions, 83BREAKABLE, 83CLOSE, 84SITENUMBER, 84USER, 85, 124ExamplesCOMPILED ROUTINE File, 131COMPUTED Data Type, 182Computed ExpressionsCompound, 63COMPUTED FieldsRelational Navigation, 37DATE/TIME Data Type, 177Exporting Data, 11File and Field Creation, 175File Creation, 176FREE TEXT Data Type, 179Join Extended PointerRelational Navigation, 43MultiplesNumeric Subfields, 194Multiples, 192Multiples (Subfields), 193POINTER TO A FILE Data Type, 183Relational Navigation, 37Relational QueryRelational Navigation, 37SET OF CODES Data Type, 178VARIABLE-POINTER Data Type, 184WORD-PROCESSING Data Type, 180Exchange DataWhat Applications Can You Exchange Data With?, 1Export and Import Tools, 1Export Data Option, 4, 7, 10EXPORT FIELD Multiple, 25EXPORT FIELD Multiple Field (#100), 28EXPORT FIELDS Templates, 15EXPORT Templates, 4, 7, 8, 9, 10, 11, 15, 23, 24, 25, 26, 28, 30, 31, 33Export Tool, 1, 4, 26, 110Exporting Data, 4Data Flattening, 14Example, 11EXPORT Templates, 15Multiples, 14Numbers, 13Send Export Data to a Device, 12Send Export Data to a Host File, 12Sorting with Multiples, 15Step 1, 5Step 2, 5Step 3, 8Step 4, 10ExpressionsComputed, 60Expr, 36Extended PointerSimple, 35SyntaxLong Form, 36Extended Pointer, SimpleSyntax, 36External FormatImporting Data, 16EXTRACT Templates, 253, 255, 262, 263, 264, 265, 269Extract Tool, 253ARCHIVAL ACTIVITY File (#1.11), 256Destination File, 254Important Items to Note, 253Mapping Information, 255Overview, 253Source File, 254Step 1, 258Step 2, 260Step 3, 261Step 4, 262Step 5, 263Step 6, 265Step 7, 267Step 8, 268Step 9, 269Steps, 257Extract Tool Menu, 257Extract Tool Option, 253, 256, 257FFIELD DELIMITER Field, 23Field- or Record-Level ExecutionCross-references, 201Field Selection PAGE/IMPORT TemplateImporting Data, 16Field Value StuffingAdvanced Edit Techniques, 47Computed Expressions, 70FieldsChanging Attributes, 171Changing DATA TYPE Values, 174Creating, 153, 154Data Types, 156DATE FORMAT, 27Deleting, 174EXPORT FIELD Multiple (#100), 28FIELD DELIMITER, 23FILE HEADER, 28FILE TRAILER, 28FOREIGN FIELD NAMES?, 25Making a Field Mandatory, 169MAXIMUM OUTPUT LENGTH, 25NAME OF FOREIGN FIELD, 25Number (#.001), 169Number Sequences, 169PROMPT FOR DATA TYPE?, 13, 26Protection for Fields in a File, 240QUOTE NON-NUMERIC FIELDS?, 26RECORD DELIMITER, 24RECORD LENGTH FIXED?, 24Screen Mode Field Editing, 154SEND LAST FIELD DELIMITER?, 24SUBSTITUTE FOR NULL Field, 27Fields Being Audited Option, 230File and File Data Functions, 86COUNT, 86DUPLICATED, 87FILE, 88INTERNAL, 88LAST, 89MAXIMUM, 89MINIMUM, 90NEXT, 91nTH, 91PREVIOUS, 92TOTAL, 92File Attributes, Listing, 132File Edit Option, 225File EntriesAlternate Editors, 127FILE Function, 88FILE HEADER Field, 28FILE TRAILER Field, 28FILEGRAM HISTORY File (#1.12), 270, 276, 277FILEGRAM HISTORY File (#1.12), 269Filegram Menu, 279, 285Filegrams, 117, 269, 279, 284, 285Archiving Relationship, 270Create/Edit Filegram Template Option, 271Deleting, 278Display Filegram Template Option, 273Generate Filegram Option, 275Install/Verify Filegram Option, 277Installing, 270Receiving Filegrams with MailMan, 276Sending, 270Specifiers Option, 274Steps, 271Templates, 270Using, 270View Filegram Option, 277FILEGRAM-type Templates, 270, 271, 273, 275, 279, 280, 284, 285FileManFunctions, 73What is it?, xxiiFilesAccess SecurityKernel Part 3, 239ALTERNATE EDITOR (#1.2), 124, 127, 129ARCHIVAL ACTIVITY (#1.11), 253, 256, 257, 258, 259, 260, 267, 268, 279, 280, 283, 286, 287, 289, 290, 292ASCII, 1, 12, 15, 16AUDIT (#1.1), 226, 231COMPILED ROUTINE (#.83), 129, 131Creating, 153Creating Example, 176DD AUDIT (#.6), 232, 233DEVICE (#3.5), 13DOS, 22Edit File Option, 211FILEGRAM HISTORY (#1.12), 270, 276, 277FILEGRAM HISTORY (#1.12), 269FOREIGN FORMAT (#.44), 4, 5, 8, 23, 28, 29, 31FUNCTION (#.5), 64, 73, 162Host, 12, 13, 22, 25INDEX (#.11), 202, 203, 205INPUT TEMPLATE (#.402), 240LANGUAGE (#.85), 125META DATA DICTIONARY (#.9), 150Naming a New File, 153NEW PERSON (#200), 20, 123, 125, 127, 183, 238, 239, 240, 272OPTION (#19), 166ORDER (#100), 154, 176, 177, 178, 179, 180, 182, 183, 184, 192, 194, 211PACKAGE (#9.4), 147PATIENT (#2), 7, 49PRINT TEMPLATE (#.4), 15, 25, 28, 240, 263, 270, 285PRINT TEMPLATE File (#.4), 7Protection for Fields in a File, 240RELIGION (#13), 7Security, 238SORT TEMPLATE (#.401), 240TITLE (#3.1), 124Transferring Data within the Same File, 242Transferring Entries between Files, 244Transferring Entries into a New File, 245Transferring File Entries, 241Utilities, 196VMS, 12, 287Find Archived Entries Option, 280, 289, 291Find Archived Records Option, 279Fixed-Length Data Format, 3Forced Lookups Using Numbers, 170Forcing Required InputAdvanced Edit Techniques, 56Forcing Special PromptsAdvanced Edit Techniques, 55FOREIGN FIELD NAMES? Field, 25FOREIGN FORMAT file (#.44)Field ValuesExporting Data, 8FOREIGN FORMAT File (#.44), 4, 5, 8, 23, 28, 29, 31Attributes Reference, 22DATE FORMAT Field, 27FIELD DELIMITER Field, 23Fields, 22FILE HEADER Field, 28FILE TRAILER Field, 28FIXED RECORD LENGTH Field, 24FOREIGN FIELD NAMES? Field, 25MAXIMUM OUTPUT LENGTH Field, 25PROMPT FOR DATA TYPE? Field, 26QUOTE NON-NUMERIC FIELDS? Field, 26RECORD DELIMITER Field, 24SEND LAST FIELD DELIMITER? Field, 24SUBSTITUTE FOR NULL Field, 27Foreign Formats, 22Define Foreign File Format Option, 30FOREIGN FORMAT File (#.44)Attributes Reference, 22Importing Data, 16Print Format Documentation Option, 29Variables Available for Developer Use, 28FormatsData, 2Foreign, 22Formatting Text with Word-processing WindowsFrames, 57FramesFormatting Text with Word-processing Windows, 57FREE TEXTData Type, 160FUNCTION File (#.5), 64, 73, 162Functions$A[SCII], 102$C[HAR], 103$E[XTRACT], 103$F[IND], 104$H[OROLOG], 104$I[O], 105$J[OB], 105$J[USTIFY], 106$L[ENGTH], 106$P[IECE], 107$R[ANDOM], 107$S[ELECT], 108$S[TORAGE], 108$X, 109$Y, 109ABS, 93As ElementsComputed Expressions, 64BETWEEN, 76, 93BREAKABLE, 83CLOSE, 84COUNT, 86DATE, 76Date/Time, 76DAYOFWEEK, 77Documentation Conventions, 73DUP, 97DUPLICATED, 87Environmental, 83FILE, 88File and File Data, 86INTERNAL, 88IOM, 96LAST, 89LOWERCASE, 97Mathematical, 93MAX, 94MAXIMUM, 89MID, 77MIN, 94MINIMUM, 90MINUTES, 78MODULO, 95MONTH, 78MONTHNAME, 78M-Related Functions, 102NEXT, 91NOON, 79NOW, 79nTH, 91NUMDATE, 80NUMDATE4, 80NUMDAY, 80NUMMONTH, 81NUMYEAR, 81NUMYEAR4, 81PADRIGHT, 98PAGE, 96PARAM, 100PREVIOUS, 92Printing Related, 96RANGEDATE, 82REPLACE, 98REVERSE, 99SET, 102SETPARAM, 101SITENUMBER, 84SQUAREROOT, 95String, 97STRIPBLANKS, 99Temporary Data Storage, 100TIME, 82TODAY, 82TOTAL, 92TRANSLATE, 99UPPERCASE, 100USER, 85, 124VA FileMan, 73VAR, 101YEAR, 83GGenerate Filegram Option, 270, 275Generate Statistics from Reports, How to, 110Global MapList File Attributes, 144GlossaryIntranet Website, 305HHelpAt Prompts, xxviiiOnline, xxviiiQuestion Marks, xxviiiHFS Device, 12, 13HistogramQualifiers, 114Statistics, 114Home PagesAcronyms Intranet Website, 306Adobe Website, xxixGlossary Intranet Website, 305VA Software Document Library (VDL) Website, xxixHost File, 12, 13, 22, 25How Data is Moved between Applications, 1How toExport Data, 4Generate Statistics from Reports, 110Import Data, 15Navigate With a Variable Pointer Field, 37Obtain Technical Information Online, xxviiiUse this Manual, xxiiiUse VA FileManFunctions, 73HTML Manuals, xxivIIdentifier, 207, 285Identifier Option, 207, 209Import and Export Tools, 1Import Data Option, 16IMPORT Templates, 16, 18, 19Import Tool, 1, 15, 21Importing DataCompleteness of Subfile Entries, 22External Format, 16Field Selection PAGE/IMPORT Template, 16Foreign Format, 16From VMS Files, 22How to, 15Internal Format, 16Multiples, 21Source File, 16Step 1, 16Step 2, 16Step 3, 18Step 4, 19VA FileMan File, 16INDEX File (#.11), 202, 203, 205Indexes and Cross-References OnlyList File Attributes, 145INPUT TEMPLATE File (#.402), 240INPUT templatesAdvanced Edit Techniques, 51Branching within, 52INPUT Templates, 43, 45, 51, 52, 55, 56, 201, 240INPUT TransformSyntax, 211Inquire to File Entries Option, 57, 232, 239, 243, 256, 257, 260, 273, 283, 292Install/Verify Filegram Option, 270, 277Intended Audience, xxivInternal Entry Number, 170Internal FormatImporting Data, 16INTERNAL Function, 88Introduction, xxiiIO Setups, Summary of, 123IO variablesSetting, 119IOM Function, 96JJoin Extended PointerRelational Navigation, 42Limitations, 42KKERMIT, 12Kernel Part 3Access Security, 239Key DefinitionCreate a Key, 220Delete a Key, 222Edit a Key, 222Verify a Key, 224Key Definition Option, 219KEY INTEGRITY, 224Key SupportCross-references, 203Keys OnlyList File Attributes, 146KWIC Cross-references, 198LLANGUAGE File (#.85), 125LAST Function, 89LAYGO Access, 163, 239Line Editor’s Transfer Option, 43List File Attributes, 132Brief Data Dictionary, 133Check/Fix DD Structure Option, 147Condensed Data Dictionary, 135Custom-Tailored Data Dictionaries, 141Global Map, 144Indexes and Cross-References Only, 145Keys Only, 146Map Pointer Relations Option, 146Standard and Modified Standard Data Dictionaries, 138Templates Only Format, 144List File Attributes Option, xxviii, 132, 134, 138, 239Lookup PromptCross-references, 202LoopingAdvanced Edit Techniques, 49LOWERCASE Function, 97MMaking a Field Mandatory, 169ManagementSystem, 117Mandatory/Required Field Check Option, 219Manually Setting ^%ZOSF Nodes, 126ManualsIn HTML, xxivReference, xxviiiMap Pointer Relations Option, 146List File Attributes, 146Mapping InformationExtract Tool, 255Mathematical Functions, 93ABS, 93BETWEEN, 76, 93MAX, 94MIN, 94MODULO, 95SQUAREROOT, 95MAX Function, 94MAXIMUM Function, 89MAXIMUM OUTPUT LENGTH Field, 25MenusArchiving, 279, 281, 285, 292Data Dictionary Utilities, xxviii, 132, 146, 147Data Export to Foreign Format, 30DI DDU, xxviiiDIUTILITY, 15, 137, 174, 196, 197, 201, 207, 210, 211, 214, 239Extract Tool, 257Filegram, 279, 285Other Options, 225, 257, 281Transfer Entries, 241UTILITIES, 127Utility Functions, 15, 137, 174, 196, 197, 201, 207, 210, 211, 214, 239Merging Entries, 247EDIT Action, 252PROCEED Action, 251SUMMARIZE Action, 251MESSAGE Field, 164META DATA DICTIONARY File (#.9), 150MID Function, 77MIN Function, 94MINIMUM Function, 90MINUTES Function, 78MNEMONIC Cross-references, 198Modify Destination File Option, 254Extract Tool, 262Modify File Attributes Option, 56, 65, 123, 137, 153, 154, 156, 158, 159, 161, 162, 163, 166, 170, 171, 174, 176, 196, 208, 225, 226, 227, 239, 240, 254, 262MODULO Function, 95MONTH Function, 78MONTHNAME Function, 78Move Archived Data to Permanent Storage Option, 287M-Related Functions, 102$A[SCII], 102$C[HAR], 103$E[XTRACT], 103$F[IND], 104$H[OROLOG], 104$I[O], 105$J[OB], 105$J[USTIFY], 106$L[ENGTH], 106$P[IECE], 107$R[ANDOM], 107$S[ELECT], 108$S[TORAGE], 108$X, 109$Y, 109Multiline Return ValuesRelational Navigation, 43MultiplesData Type, 168MUMPSData Type, 166MUMPS Cross-references, 198NNAME Field, 154, 291NAME Field (#.01, 21NAME OF FOREIGN FIELD Field, 25Naming a New File, 153NavigationRelational, 34NEW PERSON File (#200), 20, 123, 125, 127, 183, 184, 238, 239, 240, 272Standalone VA FileMan, 123New-Style Cross-references, 201Creating, 205Deleting, 207Editing, 203NEXT Function, 91NOON Function, 79NOW Function, 79nTH Function, 91Number Fields (#.001), 169Number Sequences for Fields, 169NUMDATE Function, 80NUMDATE4 Function, 80NUMDAY Function, 80NUMERICData Type, 158NUMMONTH Function, 81NUMYEAR Function, 81NUMYEAR4 Function, 81OOK TO RUN TEST Field, 129OnlineDocumentation, xxviiiTechnical Information, How to Obtain, xxviiiOn-the-flyComputed Expressions, 67OPEN PARAMETER Field, 13OperatorsBinary, 61Boolean, 62Computed Expressions, 61Unary, 61OPTION File (#19), 166OptionsAdd/Delete Selected Entries, 259, 260, 266, 281, 283Cancel Archival Selection, 280, 290Cancel Extract Selection, 268Check/Fix DD Structure, 147Compare/Merge File Entries, 241, 246, 247, 250Create Export Template, 8Create Extract Template, 263Create Filegram Archiving Template, 285Create/Edit Filegram Template, 270, 271Cross-Reference a Field or File, 197, 210Data Dictionary Utilities, xxviiiData Export, 4, 32DDXP EXPORT DATA, 4Define Foreign File Format, 5, 23, 30DI DDU, xxviiiDILIST, xxviiiDIRDEX, 201, 209, 210Display Filegram Template, 270, 273DIUTILITY, 15, 137, 174, 196, 197, 201, 207, 210, 211, 214, 239DIXREF, 197, 210Edit File, 211, 212, 239Editor Change, 127Enter or Edit File Entries, 38, 39, 42, 43, 49, 50, 70, 169, 172, 173, 208, 214, 215, 226, 239, 278Export Data, 4, 7, 10Export Data Option, 4Extract Tool, 253, 256, 257Fields Being Audited, 230Find Archived Entries, 280, 289, 291Find Archived Records, 279Generate Filegram, 270, 275Identifier, 207, 209Import Data, 16Inquire to File Entries, 57, 232, 239, 243, 256, 257, 260, 273, 283, 292Install/Verify Filegram, 270, 277Key Definition, 219Line Editor’s Transfer, 43List File Attributes, xxviii, 132, 134, 138, 239Mandatory/Required Field Check, 219Map Pointer Relations, 146Modify Destination File, 254, 262Modify File Attributes, 56, 65, 123, 137, 153, 154, 156, 158, 159, 161, 162, 163, 166, 170, 171, 174, 176, 196, 208, 225, 226, 227, 239, 240, 254, 262Move Archived Data to Permanent Storage, 287Output Transform, 214Print File Entries, 4, 5, 7, 12, 37, 38, 42, 43, 49, 63, 66, 67, 68, 69, 110, 172, 215, 217, 232, 239Print Format Documentation, 23, 29Print Selected Entries, 261, 284Purge Data Audits, 230Purge DD Audits, 234Purge Extracted Entries, 253Purge Stored Entries, 267, 280, 286, 290Purge Stored Entries Option, 289Re-Index File, 201, 209, 210Search File Entries, 38, 42, 68, 69, 110, 239, 258, 281Select Entries to Archive, 279, 280, 281Select Entries to Extract, 258Select Fields for Export, 4, 5, 15Specifiers, 270, 274Statistics, 110, 239Template Edit, 15, 214, 215, 216, 217, 218, 241Transfer Entries, 245Transfer File Entries, 239, 241, 242, 244, 245, 250Turn Data Audit On/Off, 225, 227Uneditable Data, 219Update Destination File, 253, 254, 263, 265, 268Utility Functions, 15, 137, 174, 196, 197, 201, 207, 210, 211, 214, 239Validate Extract Template, 269Verify Fields, 174, 196View Filegram, 270, 277Write Entries to Temporary Storage, 280, 283, 285, 286ORDER File (#100), 154, 176, 177, 178, 179, 180, 182, 183, 184, 192, 194, 211Orientation, xxiiiOther Options Menu, 225, 257, 281OUTPUT Templates, 270Output Transform Option, 214OUTPUT TransformsComputed Expressions, 71PPACKAGE File (#9.4), 147PADRIGHT Function, 98PAGE Function, 96PARAM Function, 100Parentheses in Expressions, 62PATIENT File (#2), 7, 49Pfield, 36POINTER TO A FILEData Type, 163PREFERRED EDITOR Field, 127PREFIX Field, 164PREVIOUS Function, 92PRIMARY KEY, 170, 207, 285Print File Entries Option, 4, 5, 7, 12, 37, 38, 42, 43, 49, 63, 66, 67, 68, 69, 110, 172, 215, 217, 232, 239Print Format Documentation Option, 23, 29Print Qualifiers, 6, 110, 285Print Selected Entries Option, 261, 284Extract Tool, 261PRINT TEMPLATE File, 28PRINT TEMPLATE File #.4), 28PRINT TEMPLATE File (#.4), 7, 15, 25, 28, 240, 263, 270, 285PRINT Templates, 7, 9, 15, 51, 71, 143, 215, 216, 217, 240, 253, 256, 263, 270, 271, 272, 279, 285Printing Related Functions, 96IOM, 96PAGE, 96PROCEED Action, 251PROMPT FOR DATA TYPE? Field, 13, 26Protection for Fields in a File, 240Protection for Templates, 240PS Anonymous Directories, xxixPurge Data Audits Option, 230Purge DD Audits Option, 234Purge Extracted Entries Option, 253Extract Tool, 267Purge Stored Entries Option, 267, 280, 286, 289, 290Purging a Data Dictionary Audit Trail, 234Purging a Data Field Audit Trail, 230QQualifiersDescriptive Statistics, 110Edit, 55Histogram, 114Print, 6, 110, 285Sort, 10, 110Statistical Print, 6Question Mark Help, xxviiiQUOTE NON-NUMERIC FIELDS? Field, 26Quoted Fields in Delimited Format, 3RRANGEDATE Function, 82READ Access, 52, 215, 239, 240, 241Receiving Filegrams with MailManFilegrams, 276RECORD DELIMITER Field, 24RECORD LENGTH FIXED? Field, 24Reference Materials, xxviiiREGULAR Cross-references, 198Re-Index File Option, 201, 209, 210RelationalJumps across FilesRelational Navigation, 38Navigation, 34Backward Extended Pointers, 40COMPUTED Fields, 37Join Extended Pointer, 42Limitations, 42Multiline Return Values, 43Relational Jumps across Files, 38Relational Query, 37Simple Extended Pointer, 35Syntax, 36Variable Pointer Field, 37WORD-PROCESSING Field, 44Backward Pointer, 45Multiples, 44QueryRelational Navigation, 37RELIGION File (#13), 7REPLACE Function, 98RESPONSES Multiple, 194REVERSE Function, 99Reviewing theData Dictionary Audit Trail, 232SScattergram Statistics, 112Screen Mode Field Editing, 154Search File Entries Option, 38, 42, 68, 69, 110, 239, 258, 281SEARCH Templates, 10, 240, 241, 253, 256, 258, 259, 266, 281SecurityAccess Code, 238Data, 238Files, 238System Management, 117Select Entries to Archive Option, 279, 280, 281Select Entries to Extract Option, 258Extract Tool, 258Select Fields for Export Option, 4, 5, 15SELECTED EXPORT FIELDS Templates, 4, 5, 6, 7, 8, 9, 10SEND LAST FIELD DELIMITER? Field, 24SET and Kill ConditionsCross-references, 202Set Field DefaultAdvanced Edit Techniques, 47SET Function, 102SET OF CODESData Type, 159SETPARAM Function, 101Setting^%ZOSF NodesManually, 126Data Field Audit, 226IO Variables, 119Simple Extended Pointer, 35Syntax, 36Long Form, 36SITENUMBER Function, 84Software Disclaimer, xxvSort Qualifiers, 10, 110SORT TEMPLATE File (#.401), 240SORT Templates, 10, 50, 51, 129, 217, 218, 240, 253, 256, 259, 266Sorting with MultiplesExporting Data, 15SOUNDEX Cross-references, 198Source FileExtract Tool, 254Importing Data, 16Specifiers Option, 270, 274SQUAREROOT Function, 95Standalone VA FileMan, 118Device Handling, 118NEW PERSON File (#200), 123Standard and Modified Standard Data DictionariesList File Attributes, 138Statistical Print Qualifiers, 6Statistics, 110Descriptive, 110Generate Statistics from Reports, 110Histogram, 114Scattergram, 112Statistics Option, 110, 239String Functions, 97DUP, 97LOWERCASE, 97PADRIGHT, 98REPLACE, 98REVERSE, 99STRIPBLANKS, 99TRANSLATE, 99UPPERCASE, 100STRIPBLANKS Function, 99Stuff/Delete Field ValueAdvanced Edit Techniques, 47Subscript TransformsCross-references, 202SUBSTITUTE FOR NULL Field, 27SUMMARIZE Action, 251Summary of IO Setups, 123SymbolsDocumentation ConventionsVA FileMan Functions, 73Found in the Documentation, xxviSyntaxComputed Expressions, 60System Management, 117Security, 117TTable of Contents, ivTabs, 57Template Edit Option, 15, 214, 215, 216, 217, 218, 241TemplatesCAPTIONED PRINT, 57EXPORT, 4, 7, 8, 9, 10, 11, 15, 23, 24, 25, 26, 28, 30, 31, 33EXPORT FIELDS, 15EXTRACT, 253, 255, 262, 263, 264, 265, 269FILEGRAM-type, 270, 271, 273, 275, 279, 280, 284, 285IMPORT, 16, 18, 19INPUT, 43, 45, 51, 52, 55, 56, 201, 240Branching within, 52OUTPUT, 270PRINT, 7, 9, 15, 51, 71, 143, 215, 216, 217, 240, 253, 256, 263, 270, 271, 272, 279, 285Protection, 240SEARCH, 10, 240, 241, 253, 256, 258, 259, 266, 281SELECTED EXPORT FIELDS, 4, 5, 6, 7, 8, 9, 10SORT, 10, 50, 51, 129, 217, 218, 240, 253, 256, 259, 266Templates Only FormatList File Attributes, 144Temporary Data Storage Functions, 100PARAM, 100SET, 102SETPARAM, 101VAR, 101Text FormattingExpressions in Word-processing Windows, 58Word-processing FieldsAdvanced Edit Techniques, 57TIME Function, 82TITLE File (#3.1), 124TODAY Function, 82ToolsExport Tool, 1, 4Extract Tool, 253Import Tool, 1, 15TOTAL Function, 92Tracking Data Field Audits, 230Traditional Cross-referencesCreating, 200Deleting, 200Editing, 199Transfer Entries Menu, 241Transfer File Entries Option, 239, 241, 242, 244, 245, 250TransferringData within the Same File, 242Entries between Files, 244Entries into a New File, 245File Entries, 241TRANSLATE Function, 99TRIGGER Cross-references, 198Turn Data Audit On/Off Option, 225, 227Turning Data Field Audit On/Off, 227TYPE Field (#1), 21UUnary Operators, 61Uneditable Data Option, 219Unvalidated StuffsAdvanced Edit Techniques, 48Update Destination File Option, 253, 254, 263, 265, 268Extract Tool, 265UPPERCASE Function, 100URLsAcronyms Intranet Website, 306Adobe Website, xxixGlossary Intranet Website, 305VA Software Document Library (VDL) Website, xxixUSER Function, 85, 124Utilities, 196Cross-Reference a Field or File option, 197Verify Fields Option, 196VMS CONVERT, 22UTILITIES Menu, 127Utility Functions Menu, 15, 137, 174, 196, 197, 201, 207, 210, 211, 214, 239VVA FileManFunctions, 73How to use, 73What is it?, xxiiVA FileMan FileImporting Data, 16VA FileMan FunctionsListed by Category, 74VA Software Document Library (VDL)Website, xxixValidate Extract Template Option, 269Extract Tool, 269VAR Function, 101Variable Pointer FieldRelational Navigation, 37Variable StuffsAdvanced Edit Techniques, 48VARIABLE-POINTERData Type, 164Variables Available for Developer Use (Foreign Formats), 28Verify Fields Option, 174, 196View Filegram Option, 270, 277VMS CONVERT Utility, 22VMS File, 12, 287VMS filesImporting from, 22Vpfield, 37WWebsitesAcronyms Intranet Website, 306Adobe Website, xxixGlossary Intranet Website, 305VA Software Document Library (VDL), xxixWhat is VA FileMan?, xxiiWhere to Use Computed Expressions, 65Word Wrapping, 57WORD-PROCESSINGData Type, 161WORD-PROCESSING FieldBackward PointerRelational Navigation, 45MultiplesRelational Navigation, 44Relational Navigation, 44WORD-PROCESSING Field StuffingAdvanced Edit Techniques, 49Word-processing WindowsComputed Expressions, 71Formatting Text with Frames, 57Text Formatting Expressions, 58WRITE Access, 46, 52, 208, 215, 239, 240, 241Write Entries to Temporary Storage Option, 280, 283, 285, 286XX, X1, and X2 ArraysCross-references, 202XMODEM, 12YYEAR Function, 83</p>
</body>
</html>
